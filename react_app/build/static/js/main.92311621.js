/*! For license information please see main.92311621.js.LICENSE.txt */
(()=>{var __webpack_modules__={9496:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(5043),a=n(579);function o(e){let{isListening:t,transcript:n,analysis:o,isProcessing:i,currentFrame:s,setNotes:l,updateMetadata:u,instructions:c}=e;const[d,f]=r.useState(!1),[h,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[v,b]=(0,r.useState)(null);(0,r.useEffect)((()=>{console.log("inside DictationDisplay instructions",c)}),[c]),(0,r.useEffect)((()=>{console.log(" DictationDisplay \ud83c\udfa4 Notes:",h),l(h)}),[h]),(0,r.useEffect)((()=>{if(o)try{const e=JSON.parse(o);b(e),g(null)}catch(e){console.error("Invalid JSON in analysis:",e),g(`Invalid JSON: ${e.message}`),b(null)}}),[o]);return(0,a.jsxs)("div",{className:"dictation-container",children:[(0,a.jsx)("div",{className:"dictation-header",onClick:()=>f(!d),children:(0,a.jsxs)("h3",{children:["Dictation ",d?"\u25bc":"\u25b6"," ",t&&"\ud83c\udfa4"]})}),d&&(0,a.jsxs)("div",{className:"dictation-content",children:["There are ",Array.from(c).length," instructions to follow:",Array.from(c).length>0&&(0,a.jsxs)("div",{className:"dictation-instructions",children:[(0,a.jsx)("h4",{children:"Instructions:"}),(0,a.jsx)("ul",{children:Array.from(c).map(((e,t)=>(0,a.jsxs)("li",{children:[e.name," ",(0,a.jsx)("br",{}),(0,a.jsx)("pre",{children:e.text})]},t)))})]}),t&&(0,a.jsx)("div",{style:{color:"#ff4444"},children:"\ud83c\udfa4 Recording..."}),(0,a.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:"Enter notes here and press 'k' after dictation to analyze...",className:"notes-input",rows:4}),n&&(0,a.jsxs)("div",{className:"transcript-box",children:[(0,a.jsx)("strong",{children:"Dictation:"}),(0,a.jsx)("div",{children:n})]}),i&&(0,a.jsx)("div",{children:"Processing..."}),m&&(0,a.jsx)("div",{className:"error-box",children:m}),v&&(0,a.jsxs)("div",{className:"analysis-box",children:[(0,a.jsxs)("div",{className:"analysis-header",children:[(0,a.jsx)("strong",{children:"Analysis:"}),(0,a.jsx)("button",{onClick:()=>{v&&u((e=>{const t={...e};return t.tags||(t.tags=[]),v.forEach((e=>{t.tags.push({...e,timestamp:(new Date).toISOString()})})),t}))},className:"save-tags-button",disabled:!v,children:"Approve and save tags"})]}),(0,a.jsx)("pre",{children:JSON.stringify(v,null,2)})]})]})]})}const i=document.createElement("style");i.innerText="\n.dictation-instructions {\n  margin-bottom: 15px;\n  padding: 10px;\n  background: #f5f5f5;\n  border-radius: 4px;\n}\n\n.dictation-instructions h4 {\n  margin: 0 0 8px 0;\n  color: #444;\n}\n\n.dictation-instructions ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.dictation-instructions li {\n  margin: 4px 0;\n  color: #666;\n}\n",document.head.appendChild(i)},4636:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(5043),a=n(1929),o=n.n(a),i=n(854),s=n.n(i),l=n(579);function u(e){var t,n;let{hotkeyMode:a,toggleHotkeyMode:i,hotkeyGroups:u,activeGroupId:c,setActiveGroupId:d,setActiveGroupInstructions:f,setTurnedOnInstructions:h,turnedOnInstructions:p,buttonOrder:m,setButtonOrder:g,buttonPositions:v,setButtonPositions:b,dragMode:y,setDragMode:_,activeIncrementButtons:x,setActiveIncrementButtons:w,hotkeyButtonsExpanded:S,setHotkeyButtonsExpanded:C,hotkeysExpanded:E,setHotkeysExpanded:k,globalData:P,shortcutActions:j}=e;const[T,M]=(0,r.useState)(new Set);(0,r.useEffect)((()=>{(async()=>{try{const e=await s().get(`${P.APIbaseUrl}/api/hotkeys/`);if(e.data.length>0){const t=e.data[0];d(t.id),f(t.instructions||[])}}catch(e){console.error("Error fetching hotkeys:",e)}})()}),[]),(0,r.useEffect)((()=>{if(u.length>0&&c){const e=u.find((e=>e.id===c));f((null===e||void 0===e?void 0:e.instructions)||[])}}),[c,u]);const[N,D]=(0,r.useState)([]);return(0,r.useEffect)((()=>{var e;const t=u.find((e=>e.id===c));D((null===t||void 0===t||null===(e=t.shortcuts)||void 0===e?void 0:e.shortcuts)||(null===t||void 0===t?void 0:t.shortcuts)||[])}),[c,u]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"hotkey-buttons",children:[(0,l.jsxs)("div",{className:"hotkey-buttons-header",children:[(0,l.jsxs)("h3",{onClick:()=>C(!S),children:["Hotkey Buttons ",S?"\u25bc":"\u25b6"]}),S&&(0,l.jsx)("button",{onClick:()=>_(!y),className:"drag-toggle "+(y?"active":""),children:y?"\ud83d\udd12 Lock":"\u270b Drag"})]}),S&&(0,l.jsx)("div",{className:"hotkey-buttons-container",children:m.map((e=>{var t;const n=N[e];if(!n)return null;const r=n.description.startsWith("+"),a=r?null===(t=n.description.slice(1).match(/^\S+/))||void 0===t?void 0:t[0]:null,i=r&&x.has(a);return(0,l.jsx)(o(),{defaultPosition:v[e]||{x:0,y:0},position:v[e]||null,bounds:"parent",disabled:!y,onStop:(t,n)=>((e,t,n)=>{const r={...v,[e]:{x:n.x,y:n.y}};b(r),localStorage.setItem(`hotkey-positions-${c}`,JSON.stringify(r))})(e,0,n),children:(0,l.jsxs)("button",{onClick:()=>{if(!y){const o=j[e];if(o)if(o(),r&&a)w((e=>{const t=new Set(e);return t.add(a),t}));else if(n.description.startsWith("-")){var t;const e=null===(t=n.description.slice(1).match(/^\S+/))||void 0===t?void 0:t[0];e&&w((t=>{const n=new Set(t);return n.delete(e),n}))}}},className:`hotkey-action-button ${y?"draggable":""} ${i?"active-increment":""}`,children:[n.description," (",e,")"]})},e)}))})]}),(0,l.jsxs)("div",{className:"hotkey-controls",children:[(0,l.jsx)("button",{onClick:i,children:a?"Disable Hotkey Mode":"Enable Hotkey Mode"}),(0,l.jsx)("select",{value:c||"",onChange:e=>d(Number(e.target.value)),className:"hotkey-set-selector",children:u.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,l.jsxs)("div",{className:"hotkey-indicator "+(a?"active":""),children:["Hotkeys: ",a?"ENABLED":"DISABLED"," | Group: ",(null===(t=u.find((e=>e.id===c)))||void 0===t?void 0:t.name)||"None"]}),(0,l.jsxs)("div",{className:"hotkey-instructions",children:[(0,l.jsx)("div",{className:"hotkey-header",onClick:()=>k(!E),children:(0,l.jsxs)("h3",{children:["Hotkeys ",E?"\u25bc":"\u25b6"]})}),E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h4",{children:["Current Group: ",null===(n=u.find((e=>e.id===c)))||void 0===n?void 0:n.name]}),(()=>{if(!u.length||null===c)return null;const e=u.find((e=>e.id===c));return e&&e.shortcuts?(0,l.jsx)("ul",{children:e.shortcuts.shortcuts?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{children:"Shortcuts"}),Object.entries(e.shortcuts.shortcuts).map((e=>{let[t,n]=e;return(0,l.jsxs)("li",{children:["'",t,"': ",n.description]},t)})),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{children:"Instructions"}),Object.entries(e.shortcuts.instructions).map((e=>{let[t,n]=e;return(0,l.jsxs)("li",{className:"instruction-item",children:[(0,l.jsx)("input",{type:"checkbox",checked:Array.from(p).some((e=>e.name===n.name)),onChange:()=>{console.log("updating instructions",n),h((e=>{const t=new Set(e),r=Array.from(t).find((e=>e.name===n.name));return r?t.delete(r):t.add(n),console.log("next",t),t}))}}),n.name]},t)}))]}):Object.entries(e.shortcuts).map((e=>{let[t,n]=e;return(0,l.jsxs)("li",{children:["'",t,"': ",n.description]},t)}))}):null})()]})]})]})}},3882:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(5043),a=n(3357),o=n(6201),i=n(9209),s=n(8970),l=n(3969),u=n(3713),c=n(3510);function d(e,t,n,d){t.registerHotkey=function(){return N(...arguments)},t.unregisterHotkey=function(){return D(...arguments)},t.registerTemporaryHotkey=function(){return O(...arguments)},t.clearTemporaryHotkeys=function(){return F(...arguments)},t.clearUnregisteredHotkeys=function(){return R(...arguments)};(0,a.C)(t,n);const{seekBackward:f,seekForward:h}=(0,o.K)(t,n),{slowDown:p,speedUp:m,resetSpeed:g}=((0,i.Y)(t,n),(0,s.N)(t)),{togglePlayPause:v}=(0,l.s)(t),{markFrame:b,breakRange:y}=(0,u.k)(t,n);var{startListening:_,stopListening:x}=(0,c.x)();const[w,S]=(0,r.useState)(d),[C,E]=(0,r.useState)({}),[k,P]=(0,r.useState)({}),j=(0,r.useRef)(w),T=(0,r.useRef)(C),M=(0,r.useRef)(k),N=(0,r.useCallback)(((e,t)=>{S((n=>{const r={...n,[e]:t};return j.current=r,r})),E((t=>{const{[e]:n,...r}=t;return T.current=r,r}))}),[]),D=(0,r.useCallback)((e=>{E((t=>{const n={...t,[e]:!0};return T.current=n,n}))}),[]),O=(0,r.useCallback)(((e,t)=>{P((n=>{const r={...n,[e]:t};return M.current=r,r}))}),[]),F=(0,r.useCallback)((()=>{P({}),M.current={}}),[]),R=(0,r.useCallback)((()=>{E({}),T.current={}}),[]),A=(0,r.useCallback)((t=>{if(!e)return;if(T.current[t.key])return;const n=M.current[t.key];if(n)return void n();const r=j.current[t.key];r?(console.log(`Executing action for hotkey ${t.key}`),r()):console.log(`No action for hotkey ${t.key}, key code ${t.code}`,{hotkeyMapRef:j.current,hotkeyMap:w,unregisteredHotkeysRef:T.current,unregisteredHotkeys:C,temporaryHotkeysRef:M.current,temporaryHotkeys:k})}),[e]);(0,r.useEffect)((()=>(window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)})),[A]);const I=(0,r.useCallback)((e=>{S(e),j.current=e,F(),R()}),[F,R]);return{registerHotkey:N,unregisterHotkey:D,registerTemporaryHotkey:O,clearTemporaryHotkeys:F,clearUnregisteredHotkeys:R,setHotkeys:I}}},6628:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});n(5043);var r=n(579);function a(e){let{rangesExpanded:t,setRangesExpanded:n,ranges:a,playerRef:o,breakRange:i,enforceRangeById:s}=e;return(0,r.jsxs)("div",{className:"ranges-container",children:[(0,r.jsx)("div",{className:"ranges-header",onClick:()=>n(!t),children:(0,r.jsxs)("h3",{children:["Ranges ",t?"\u25bc":"\u25b6"]})}),t&&(0,r.jsx)("div",{className:"ranges-content",children:a.length>0?(0,r.jsxs)("table",{className:"ranges-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Start Frame"}),(0,r.jsx)("th",{children:"End Frame"}),(0,r.jsx)("th",{children:"Duration"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:a.map((e=>(0,r.jsxs)("tr",{className:e.active?"active-range":"",children:[(0,r.jsx)("td",{children:e.min}),(0,r.jsx)("td",{children:e.max}),(0,r.jsxs)("td",{children:[e.max-e.min," frames"]}),(0,r.jsx)("td",{children:e.active?"\ud83d\udfe2":"\u26aa"}),(0,r.jsx)("td",{children:e.active?(0,r.jsx)("button",{onClick:i,className:"delete-range-button",title:"Clear range",children:"\ud83d\udd13"}):(0,r.jsx)("button",{onClick:()=>s(e),className:"enforce-range-button",title:"Enforce this range",children:"\ud83d\udd12"})})]},e.id)))})]}):(0,r.jsx)("p",{children:"No ranges marked yet. Use 'm' to mark frames."})})]})}},2871:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043),a=n(2166),o=n(579);const i=e=>{let{src:t,onFrameUpdate:n,onClick:i}=e;const s=(0,a.useCurrentFrame)();(0,r.useEffect)((()=>{n(s)}),[s,n]);return(0,o.jsxs)(a.AbsoluteFill,{onClick:e=>{console.log("VideoPlayer click event:",e),null===i||void 0===i||i(e)},children:[(0,o.jsx)(a.Video,{src:t}),(0,o.jsxs)("div",{style:{position:"absolute",bottom:10,right:10,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:"5px 10px",borderRadius:"5px",fontSize:"14px"},children:["Frame: ",s]})]})}},3529:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(5043),a=n(854),o=n.n(a);function i(e,t){let{playerRef:n,GlobalContext:a}=e;const i=(0,r.useRef)(null),[s,l]=(0,r.useState)(!1),[u,c]=(0,r.useState)(""),[d,f]=(0,r.useState)(0),[h,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),v=(0,r.useRef)(null),b=(0,r.useRef)(Date.now());a||(a={APIbaseUrl:"http://localhost:8000"});const y=(0,r.useContext)(a),_=(0,r.useCallback)((async()=>{p(!0);try{const e=await o().post(`${y.APIbaseUrl}/api/videos/process-dictation`,{dictation:u,frame:d,instructions:m});await o().post(`${y.APIbaseUrl}/api/videos/save-tags`,{analysis:e.data.analysis,frame:d}),console.log("\ud83c\udfa4 Auto-processed and saved:",e.data.analysis)}catch(e){console.error("Error in auto-process:",e)}p(!1),c("")}),[u,d,y.APIbaseUrl]),x=(0,r.useCallback)((()=>{i.current||(i.current=new(window.SpeechRecognition||window.webkitSpeechRecognition),i.current.continuous=!0,i.current.interimResults=!0,i.current.onresult=e=>{const t=Array.from(e.results).map((e=>e[0].transcript)).join("");c(t),b.current=Date.now(),v.current&&clearTimeout(v.current),console.log("\u23f2\ufe0f Auto-transcript timer cleared and started!"),v.current=setTimeout((()=>{console.log("\u23f2\ufe0f Auto-transcript timer triggered!"),t.trim()&&(console.log("\ud83c\udfa4 Auto-transcript timer triggered, part 2!"),w())}),1500)}),c(""),i.current.start(),l(!0),console.log("\ud83c\udfa4 Started auto-listening at frame:",d)})),w=(0,r.useCallback)((()=>{i.current&&(i.current.stop(),l(!1),u.trim()&&(console.log("\ud83c\udfa4 Auto-transcript start processing!"),_()),v.current&&clearTimeout(v.current))}),[u,_]);return(0,r.useEffect)((()=>()=>{v.current&&clearTimeout(v.current),i.current&&i.current.stop()}),[]),{startAutoListening:x,stopAutoListening:w,isAutoListening:s,autoTranscript:u,isAutoProcessing:h,setStartFrameForAuto:f,setAutoNotes:g}}},9209:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(5043);function a(e,t){let{updateMetadata:n,playerRef:a,registerTemporaryHotkey:o,clearTemporaryHotkeys:i}=e;return(0,r.useCallback)((()=>{var e,t;const{speed:r,frames:s}={speed:250,frames:3};null===(e=a.current)||void 0===e||e.pause();const l=null===(t=a.current)||void 0===t?void 0:t.getCurrentFrame();let u,c=!0;const d=()=>{if(c){var e,t;const n=null===(e=a.current)||void 0===e?void 0:e.getCurrentFrame();null===(t=a.current)||void 0===t||t.seekTo(n-s)}else{var n,r;const e=null===(n=a.current)||void 0===n?void 0:n.getCurrentFrame();null===(r=a.current)||void 0===r||r.seekTo(e+s)}};function f(e,t){n((n=>{const r={...n};return r.tags||(r.tags=[]),r.tags.push({name:e,frame:t}),r}))}u=setInterval(d,r),o("g",(()=>{var e,t;clearInterval(u),f("highlight start",null===(e=a.current)||void 0===e?void 0:e.getCurrentFrame()),null===(t=a.current)||void 0===t||t.seekTo(l),c=!1,u=setInterval(d,r)})),o("h",(()=>{var e,t;clearInterval(u),f("highlight end",null===(e=a.current)||void 0===e?void 0:e.getCurrentFrame()),i(),null===(t=a.current)||void 0===t||t.play()}))}),[n,t,a,o,i])}},3510:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(5043),a=n(854),o=n.n(a);function i(e){const t=(0,r.useRef)(null),[n,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[f,h]=(0,r.useState)(0),[p,m]=(0,r.useState)("");e||(e={APIbaseUrl:"http://localhost:8000"});const g=(0,r.useContext)(e);(0,r.useEffect)((()=>{console.log("\ud83c\udfa4 Notes:",p)}),[p]);const v=(0,r.useCallback)((()=>{t.current||(t.current=new(window.SpeechRecognition||window.webkitSpeechRecognition),t.current.continuous=!0,t.current.interimResults=!0,t.current.onresult=e=>{const t=Array.from(e.results).map((e=>e[0].transcript)).join("");s(t),console.log("\ud83c\udfa4 Transcript:",t)}),s(""),u(""),t.current.start(),a(!0),console.log("\ud83c\udfa4 Started listening")}),[]),b=(0,r.useRef)(i),y=(0,r.useRef)(p),_=(0,r.useRef)(f);(0,r.useEffect)((()=>{b.current=i,y.current=p,_.current=f}),[i,p,f]);const x=(0,r.useCallback)((async()=>{d(!0);const e=b.current,t=y.current,n=_.current;try{const r=await o().post(`${g.APIbaseUrl}/api/videos/process-dictation`,{dictation:e,notes:t,frame:n,instructions:t.split("\n")});u(r.data.analysis)}catch(r){console.error("Error processing dictation:",r),u("Error processing dictation")}d(!1)}),[i,p,f]);return{startListening:v,stopListening:(0,r.useCallback)((()=>{t.current&&(t.current.stop(),a(!1),x(),console.log("\ud83c\udfa4 Stopped listening, transcript:",i))}),[]),isListening:n,transcript:i,analysis:l,isProcessing:c,processTranscript:x,setDictationCurrentFrame:h,setNotes:m}}},3969:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(5043);function a(e){let{playerRef:t}=e;return{togglePlayPause:(0,r.useCallback)((()=>{t.current&&(console.log("isPlaying",t.current.isPlaying()),t.current.isPlaying()?t.current.pause():t.current.play())}),[t])}}},3713:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(5043);function a(e,t){let{playerRef:n}=e;const a=(0,r.useRef)({min:1/0,max:-1/0}),[o,i]=(0,r.useState)(!0),[s,l]=(0,r.useState)([]),u=(0,r.useCallback)((()=>{const e=n.current,t=null===e||void 0===e?void 0:e.getCurrentFrame();i(!0),t<a.current.min&&(a.current.min=t),t>a.current.max&&(a.current.max=t),a.current.min!==1/0&&a.current.max!==-1/0&&l((e=>{const t={min:a.current.min,max:a.current.max,id:Date.now(),active:!0};return[...e.filter((e=>!e.active)),t]})),console.log(`\ud83c\udfaf Marked frame: ${t} \ud83d\udccd`),console.log(`\ud83d\udccf Range: ${a.current.min} \u2192 ${a.current.max}`)}),[n]),c=(0,r.useCallback)((()=>{i(!1),l((e=>e.map((e=>({...e,active:!1}))))),a.current={min:1/0,max:-1/0},console.log("\ud83d\udd13 Range cleared and disabled")}),[]),d=(0,r.useCallback)((e=>{var t;i(!0),a.current={min:e.min,max:e.max},l((t=>t.map((t=>({...t,active:t.id===e.id}))))),null===(t=n.current)||void 0===t||t.seekTo(e.min),console.log(`\ud83d\udd12 Enforcing range: ${e.min} \u2192 ${e.max}`)}),[n]);return(0,r.useEffect)((()=>{if(!o)return;const e=n.current;if(!e||a.current.min===1/0)return;const t=e.getCurrentFrame();(t<a.current.min||t>a.current.max+15)&&(console.log(`\ud83d\udd04 Frame ${t} outside range, seeking to min: ${a.current.min}`),e.seekTo(a.current.min))}),[t,n,o]),{markFrame:u,breakRange:c,enforceRangeById:d,ranges:s}}},8970:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(5043);const a=1.5,o=.25,i=4;function s(e){let{getPlaybackRate:t,setPlaybackRate:n}=e;return{speedUp:(0,r.useCallback)((()=>{const e=t(),r=Math.min(e*a,i);n(r)}),[t,n]),slowDown:(0,r.useCallback)((()=>{const e=t(),r=Math.max(e/a,o);n(r)}),[t,n]),resetSpeed:(0,r.useCallback)((()=>{n(1)}),[n])}}},3357:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(5043);function a(e,t){let{updateMetadata:n,playerRef:a}=e;return(0,r.useCallback)((e=>{n((t=>{var n;const r={...t};r.tags||(r.tags=[]);const o=null===(n=a.current)||void 0===n?void 0:n.getCurrentFrame();return r.tags.push({name:e,frame:o}),r}))}),[n,t])}},6201:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(5043);function a(e,t){let{playerRef:n}=e;const a=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;const t=n.current,r=null===t||void 0===t?void 0:t.isPlaying();null===t||void 0===t||t.pause();const a=null===t||void 0===t?void 0:t.getCurrentFrame();null===t||void 0===t||t.seekTo(Math.max(a-e,0)),r&&setTimeout((()=>{null===t||void 0===t||t.play()}),500)}),[t,n]),o=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;const t=n.current,r=null===t||void 0===t?void 0:t.isPlaying();null===t||void 0===t||t.pause();const a=null===t||void 0===t?void 0:t.getCurrentFrame();null===t||void 0===t||t.seekTo(a+e),r&&setTimeout((()=>{null===t||void 0===t||t.play()}),500)}),[t,n]);return{seekBackward:a,seekForward:o}}},7891:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(5475),a=n(579);const o=function(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"layout",children:[(0,a.jsx)("nav",{className:"sidebar",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Editing"}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/videos",children:"Videos"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/clipmaker",children:"Clip Maker"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/studio",children:"Studio"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/player-tracking",children:"Player Tracking"})}),(0,a.jsx)("li",{children:"Settings"}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/hotkeys",children:"Hotkey Config"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/stats",children:"Stats & Reports"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/homography",children:"Homography"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.N_,{to:"/cv-datasets",children:"CV Datasets"})})]})}),(0,a.jsx)("main",{className:"content",children:t})]})}},9432:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5043),react_router_dom__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(3216),react_router_dom__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(5475),_Layout__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7891),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(854),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),_remotion_player__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(6180),_remotion_media_utils__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(9729),_remotion_media_utils__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_remotion_media_utils__WEBPACK_IMPORTED_MODULE_23__),_VideoPlayer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2871),react_json_tree__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(8282),_VideoDetail_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2553),_Hotkeys__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3882),_hotkeys_TagAdder__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3357),_hotkeys_VideoSeeker__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6201),_hotkeys_HighlightAdder__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9209),_hotkeys_SpeedController__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8970),_hotkeys_PlayPauseController__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3969),_hotkeys_RangeBuilder__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3713),_hotkeys_Listen__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3510),lodash__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3536),lodash__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_13__),react_icons_fa__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(3204),_index__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9647),react_draggable__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1929),react_draggable__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_draggable__WEBPACK_IMPORTED_MODULE_15__),react_konva__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7835),_RangesSection__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6628),_DictationDisplay__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9496),_HotkeySection__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4636),_hotkeys_AutoListen__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(3529),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(579);const VideoInfoUpdater=e=>{let{video:t,globalData:n,onUpdate:r}=e;const[a,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:async()=>{o(!0);try{const e=await fetch(`${n.APIbaseUrl}/api/videos/b2-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t.filepath,frame_number:0})}),a=await e.json();a.error?console.error(a.error):r({fps:a.fps,duration:a.duration})}catch(e){console.error("Failed to fetch video info:",e)}finally{o(!1)}},disabled:a,style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a?.7:1,marginLeft:"10px"},children:a?"Loading...":"Update Video Info"})};function VideoDetail(){const globalData=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_index__WEBPACK_IMPORTED_MODULE_14__.F),{id:id}=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_22__.g)(),location=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_22__.zy)(),searchParams=new URLSearchParams(location.search),initialFrame=parseInt(searchParams.get("startFrame"))||0,[video,setVideo]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[currentFrame,setCurrentFrame]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[metadata,setMetadata]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[saveButtonText,setSaveButtonText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("Save Metadata"),playerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[parsedMetadata,setParsedMetadata]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),[jsonError,setJsonError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[hotkeyMode,setHotkeyMode]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[playbackRate,setPlaybackRate]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),[durationInFrames,setDurationInFrames]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1800),[videoMetadata,setVideoMetadata]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[hotkeysExpanded,setHotkeysExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[metadataExpanded,setMetadataExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[videoInfoExpanded,setVideoInfoExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[tagsExpanded,setTagsExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isEditingTitle,setIsEditingTitle]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[editedTitle,setEditedTitle]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[activeHotkeySet,setActiveHotkeySet]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("set1"),[hotkeyGroups,setHotkeyGroups]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[activeGroupId,setActiveGroupId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[hotkeyButtonsExpanded,setHotkeyButtonsExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[buttonOrder,setButtonOrder]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[dragMode,setDragMode]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[buttonPositions,setButtonPositions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),[shapesExpanded,setShapesExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isDrawing,setIsDrawing]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentPoints,setCurrentPoints]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[shapes,setShapes]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),stageRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[shapesData,setShapesData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[shapesSaveStatus,setShapesSaveStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[boxesData,setBoxesData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[boxesLoading,setBoxesLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[activeIncrementButtons,setActiveIncrementButtons]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Set),[rangesExpanded,setRangesExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{markFrame:markFrame,breakRange:breakRange,ranges:ranges,enforceRangeById:enforceRangeById}=(0,_hotkeys_RangeBuilder__WEBPACK_IMPORTED_MODULE_11__.k)({playerRef:playerRef},currentFrame),[turnedOnInstructions,setTurnedOnInstructions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Set),{isListening:isListening,transcript:transcript,analysis:analysis,isProcessing:isProcessing,startListening:startListening,stopListening:stopListening,processTranscript:processTranscript,setDictationCurrentFrame:setDictationCurrentFrame,setNotes:setNotes}=(0,_hotkeys_Listen__WEBPACK_IMPORTED_MODULE_12__.x)(_index__WEBPACK_IMPORTED_MODULE_14__.F),[activeGroupInstructions,setActiveGroupInstructions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[clickFeedback,setClickFeedback]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[feedbackTimeout,setFeedbackTimeout]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[showMissButtons,setShowMissButtons]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentBoxes,setCurrentBoxes]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[autoRefreshBoxes,setAutoRefreshBoxes]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[lastBoxUpdate,setLastBoxUpdate]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(async()=>{try{var e;const t=await axios__WEBPACK_IMPORTED_MODULE_2___default().get(`${globalData.APIbaseUrl}/api/videos/${id}`);setVideo(t.data),setMetadata(JSON.stringify(t.data.metadata,null,2)),setParsedMetadata(t.data.metadata),null!==(e=t.data.metadata)&&void 0!==e&&e.shapes&&(setShapesData(t.data.metadata.shapes),setShapes(t.data.metadata.shapes.map((e=>e.points))));const n=t.data.filepath,r=await(0,_remotion_media_utils__WEBPACK_IMPORTED_MODULE_23__.getVideoMetadata)(n),a=29.8;r.fps=a,setVideoMetadata(r);const o=Math.ceil(r.durationInSeconds*r.fps);setDurationInFrames(o),initialFrame&&playerRef.current&&playerRef.current.seekTo(initialFrame),setLoading(!1)}catch(t){console.error("Error fetching video details:",t),setLoading(!1)}})()}),[id,initialFrame]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(async()=>{try{const e=await axios__WEBPACK_IMPORTED_MODULE_2___default().get(`${globalData.APIbaseUrl}/api/hotkeys/`);if(setHotkeyGroups(e.data),e.data.length>0){const t=e.data[0];setActiveGroupId(t.id),setActiveGroupInstructions(t.instructions||[])}}catch(e){console.error("Error fetching hotkeys:",e)}})()}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(hotkeyGroups.length>0&&activeGroupId){const e=hotkeyGroups.find((e=>e.id===activeGroupId));setActiveGroupInstructions((null===e||void 0===e?void 0:e.instructions)||[])}}),[activeGroupId,hotkeyGroups]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(hotkeyGroups.length>0&&activeGroupId){const e=hotkeyGroups.find((e=>e.id===activeGroupId));null!==e&&void 0!==e&&e.shortcuts&&setButtonOrder(Object.keys(e.shortcuts.shortcuts?e.shortcuts.shortcuts:e.shortcuts))}}),[hotkeyGroups,activeGroupId]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(activeGroupId){const e=localStorage.getItem(`hotkey-positions-${activeGroupId}`);e&&setButtonPositions(JSON.parse(e))}}),[activeGroupId]);const handleFrameUpdate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{setCurrentFrame(e),setDictationCurrentFrame(e),setStartFrameForAuto(e)}),[]),handleMetadataChange=e=>{setMetadata(e.target.value);try{setParsedMetadata(JSON.parse(e.target.value)),setJsonError(null)}catch(t){console.error("Invalid JSON:",t),setJsonError("Invalid JSON: "+t.message)}},handleSaveMetadata=async()=>{if(jsonError)alert("Cannot save invalid JSON. Please fix the errors and try again.");else{setSaveButtonText("Saving...");try{await axios__WEBPACK_IMPORTED_MODULE_2___default().post(`${globalData.APIbaseUrl}/api/videos/${id}/metadata`,{metadata:metadata}),setSaveButtonText("Saved \u2705"),setTimeout((()=>{setSaveButtonText("Save Metadata")}),2e3)}catch(e){console.error("Error saving metadata:",e),setSaveButtonText("Error Saving"),setTimeout((()=>{setSaveButtonText("Save Metadata")}),2e3)}}},toggleHotkeyMode=()=>{setHotkeyMode(!hotkeyMode)},updateMetadata=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{setMetadata((t=>{const n=e(JSON.parse(t));return setParsedMetadata((e=>n)),JSON.stringify(n,null,2)}))}),[setMetadata,setParsedMetadata]),playbackRateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(playbackRate);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{playbackRateRef.current=playbackRate}),[playbackRate]);const getPlaybackRate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>playbackRateRef.current),[]),addTag=(0,_hotkeys_TagAdder__WEBPACK_IMPORTED_MODULE_6__.C)({updateMetadata:updateMetadata,playerRef:playerRef},currentFrame),{seekBackward:seekBackward,seekForward:seekForward}=(0,_hotkeys_VideoSeeker__WEBPACK_IMPORTED_MODULE_7__.K)({playerRef:playerRef},currentFrame),addHighlight=(0,_hotkeys_HighlightAdder__WEBPACK_IMPORTED_MODULE_8__.Y)({updateMetadata:updateMetadata,playerRef:playerRef},currentFrame),{slowDown:slowDown,speedUp:speedUp,resetSpeed:resetSpeed}=(0,_hotkeys_SpeedController__WEBPACK_IMPORTED_MODULE_9__.N)({getPlaybackRate:getPlaybackRate,setPlaybackRate:setPlaybackRate}),{togglePlayPause:togglePlayPause}=(0,_hotkeys_PlayPauseController__WEBPACK_IMPORTED_MODULE_10__.s)({playerRef:playerRef}),{isAutoListening:isAutoListening,autoTranscript:autoTranscript,isAutoProcessing:isAutoProcessing,startAutoListening:startAutoListening,stopAutoListening:stopAutoListening,setAutoNotes:setAutoNotes,setStartFrameForAuto:setStartFrameForAuto}=(0,_hotkeys_AutoListen__WEBPACK_IMPORTED_MODULE_20__.o)({playerRef:playerRef,GlobalContext:_index__WEBPACK_IMPORTED_MODULE_14__.F},currentFrame),getCurrentHotkeys=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{if(!hotkeyGroups.length||null===activeGroupId)return{};const currentGroup=hotkeyGroups.find((e=>e.id===activeGroupId));if(!currentGroup||!currentGroup.shortcuts)return{};const hotkeys={};return Object.entries(currentGroup.shortcuts.shortcuts?currentGroup.shortcuts.shortcuts:currentGroup.shortcuts).forEach((_ref2=>{let[key,shortcut]=_ref2;hotkeys[key]=()=>{try{eval(shortcut.action)}catch(error){console.error("Error executing hotkey action:",error)}}})),hotkeys}),[hotkeyGroups,activeGroupId]),{registerHotkey:registerHotkey,setHotkeys:setHotkeys}=(0,_Hotkeys__WEBPACK_IMPORTED_MODULE_5__.v)(hotkeyMode,{updateMetadata:updateMetadata,playerRef:playerRef,getPlaybackRate:getPlaybackRate,setPlaybackRate:setPlaybackRate},currentFrame,getCurrentHotkeys());(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setHotkeys(getCurrentHotkeys())}),[activeGroupId,setHotkeys,getCurrentHotkeys]);const theme={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},getSortedTags=()=>parsedMetadata&&parsedMetadata.tags?[...parsedMetadata.tags].sort(((e,t)=>{const n=e.startFrame||e.frame||0;return(t.startFrame||t.frame||0)-n})):[],handleTagFrameClick=e=>{playerRef.current&&playerRef.current.seekTo(e)},handleTitleSave=async()=>{try{await axios__WEBPACK_IMPORTED_MODULE_2___default().put(`${globalData.APIbaseUrl}/api/videos/${id}/title`,{title:editedTitle}),setVideo((e=>({...e,title:editedTitle}))),setIsEditingTitle(!1)}catch(e){console.error("Error updating title:",e),alert("Failed to update title")}},handleDeleteTag=(e,t)=>{updateMetadata((n=>{const r={...n};return r.tags=r.tags.filter((n=>!((n.startFrame||n.frame||0)===e&&n.name===t))),r})),handleSaveMetadata()},handleDragEnd=e=>{if(!e.destination)return;const t=Array.from(buttonOrder),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),setButtonOrder(t)},handleDragStop=(e,t,n)=>{const r={...buttonPositions,[e]:{x:n.x,y:n.y}};setButtonPositions(r),localStorage.setItem(`hotkey-positions-${activeGroupId}`,JSON.stringify(r))},calculatePolygonArea=e=>{let t=0;const n=e.length/2;for(let r=0;r<n;r++){const a=(r+1)%n;t+=e[2*r]*e[2*a+1],t-=e[2*a]*e[2*r+1]}return Math.abs(t/2).toFixed(2)},handleDeleteShape=e=>{setShapesData(shapesData.filter((t=>t.id!==e))),setShapes(shapes.filter(((t,n)=>shapesData[n].id!==e)))},handleShapeNameChange=(e,t)=>{setShapesData(shapesData.map((n=>n.id===e?{...n,name:t}:n)))},handleSaveShapes=async()=>{setShapesSaveStatus("Saving...");try{const e=JSON.parse(metadata);e.shapes=shapesData;const t=JSON.stringify(e,null,2);setMetadata(t),setParsedMetadata(e),await axios__WEBPACK_IMPORTED_MODULE_2___default().post(`${globalData.APIbaseUrl}/api/videos/${id}/metadata`,{metadata:t}),setShapesSaveStatus("Saved \u2705"),setTimeout((()=>setShapesSaveStatus("")),2e3)}catch(e){console.error("Error saving shapes:",e),setShapesSaveStatus("Error \u274c"),setTimeout((()=>setShapesSaveStatus("")),2e3)}},handleShapeColorChange=(e,t)=>{setShapesData(shapesData.map((n=>n.id===e?{...n,color:t}:n)))},handleShapeVisibilityToggle=e=>{setShapesData(shapesData.map((t=>t.id===e?{...t,visible:!t.visible}:t)))},handleFetchBoxes=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||setBoxesLoading(!0);try{const t=await fetch(`${globalData.APIbaseUrl}/api/videos/get-boxes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_url:video.filepath})}),n=await t.json();setBoxesData(n.boxes);const r=JSON.parse(metadata);r.boxes=n.boxes,setMetadata(JSON.stringify(r,null,2)),setParsedMetadata(r),await axios__WEBPACK_IMPORTED_MODULE_2___default().post(`${globalData.APIbaseUrl}/api/videos/${id}/metadata`,{metadata:JSON.stringify(r,null,2)}),setLastBoxUpdate((new Date).toLocaleTimeString()),e||alert("Boxes data loaded and saved successfully")}catch(t){console.error("Error fetching boxes:",t),e||alert("Failed to fetch boxes data")}finally{e||setBoxesLoading(!1)}};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setCurrentFrame(currentFrame)}),[currentFrame,setCurrentFrame]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=Array.from(turnedOnInstructions).map((e=>"object"===typeof e?e.text:e)).join("\n");setNotes(e),setAutoNotes(e)}),[turnedOnInstructions,setNotes,setAutoNotes]);const handleVideoClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{var t;feedbackTimeout&&clearTimeout(feedbackTimeout);const n=e.clientX-e.target.getBoundingClientRect().left,r=e.clientY-e.target.getBoundingClientRect().top;console.log("Video clicked!");const a=e.target.getBoundingClientRect(),o=e.clientX-a.left,i=e.clientY-a.top;console.log("Click coordinates (relative):",{x:o,y:i});const s=(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width)/desiredWidth,l=(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.height)/(desiredWidth*((null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.height)/(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width))),u=o*s,c=i*l;console.log("Click coordinates (scaled):",{originalX:u,originalY:c}),console.log("Scale factors:",{scaleX:s,scaleY:l});const d=null===parsedMetadata||void 0===parsedMetadata||null===(t=parsedMetadata.boxes)||void 0===t?void 0:t[currentFrame];if(console.log("Current frame:",currentFrame),console.log("Available boxes for frame:",d),!d)return void console.log("No boxes found for current frame");let f=null,h=null;if(Object.entries(d).forEach((e=>{let[t,{bbox:n}]=e;const[r,a,o,i]=n,l=20*s,d=u>=r-l&&u<=r+o+l&&c>=a-l&&c<=a+i+l;console.log("Checking box for player:",t,[r,a,o,i],"Contains click?",d,"Padding:",l),d&&(f=t,h=n)})),f&&h){console.log("Found clicked box:",h,"for player:",f,{parsedMetadataTags:parsedMetadata.tags});const e=getLastAction(parsedMetadata.tags||[],f),t="catch"===e?"throw":"catch";console.log("Determined action:",t,"based on last action:",e),updateMetadata((e=>{const n={...e};n.tags||(n.tags=[]);const r={name:`${f} ${t}`,frame:currentFrame,x:u,y:c,box:h,player:f,action:t};return console.log("Creating new tag:",r),n.tags.push(r),n})),handleSaveMetadata(),setClickFeedback({x:n,y:r,hit:!0,text:t.toUpperCase()}),setShowMissButtons(!1),setCurrentBoxes(null)}else{var p;console.log("No box found containing click coordinates"),setClickFeedback({x:n,y:r,hit:!1,text:"MISS"}),playerRef.current&&playerRef.current.pause();const e=null===parsedMetadata||void 0===parsedMetadata||null===(p=parsedMetadata.boxes)||void 0===p?void 0:p[currentFrame];e&&(setCurrentBoxes(e),setShowMissButtons(!0))}const m=setTimeout((()=>{setClickFeedback(null)}),1e3);setFeedbackTimeout(m)}),[currentFrame,parsedMetadata]),handlePlayerButtonClick=(e,t)=>{updateMetadata((n=>{const r={...n};r.tags||(r.tags=[]);const a="catch"===getLastAction(r.tags||[],e)?"throw":"catch",o={name:`${e} ${a}`,frame:currentFrame,x:t[0]+t[2]/2,y:t[1]+t[3]/2,box:t,player:e,action:a};return r.tags.push(o),r})),handleSaveMetadata(),setShowMissButtons(!1),setCurrentBoxes(null),playerRef.current&&playerRef.current.play()},PlayerBoxOverlay=e=>{let{boxes:t}=e;if(!t)return null;const n=800/(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:Object.entries(t).map((e=>{let[t,{bbox:r}]=e;const[a,o,i,s]=r;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{style:{position:"absolute",left:a*n,top:o*n,width:i*n,height:s*n,border:"2px solid red",boxSizing:"border-box"}},t)}))})};if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let e;return autoRefreshBoxes&&(handleFetchBoxes(!0),e=setInterval((()=>{handleFetchBoxes(!0)}),1e4)),()=>{e&&clearInterval(e)}}),[autoRefreshBoxes]),loading)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_Layout__WEBPACK_IMPORTED_MODULE_1__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{children:"Loading..."})});if(!video)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_Layout__WEBPACK_IMPORTED_MODULE_1__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{children:"Video not found"})});const desiredWidth=800,shortcutActions={a:()=>seekBackward(),d:()=>seekForward()},ClickFeedback=e=>{let{feedback:t}=e;if(!t)return null;const n=t.hit?"#4CAF50":"#f44336";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{style:{position:"absolute",left:t.x-30,top:t.y-30,width:"60px",height:"60px",border:`2px solid ${n}`,borderRadius:"2px",pointerEvents:"none",zIndex:1e3},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.5)",color:"white",fontSize:"12px",padding:"2px 6px",borderRadius:"2px",whiteSpace:"nowrap"},children:t.text})})},getLastAction=(e,t)=>{const n=null===e||void 0===e?void 0:e.filter((e=>(e.name.includes("catch")||e.name.includes("throw"))&&(e.frame||0)<=currentFrame)).sort(((e,t)=>(t.frame||0)-(e.frame||0)));console.log("All catch/throw tags:",n);const r=null===n||void 0===n?void 0:n[0];if(console.log("Most recent tag:",r),r&&r.player!==t)return console.log("Different player from last action, forcing catch"),"throw";const a=null===n||void 0===n?void 0:n.filter((e=>e.player===t))[0];if(console.log("Last tag for player:",t,a),!a)return console.log("No previous tags for player, starting with catch"),"throw";const o=a.name.includes("catch")?"catch":"throw";return console.log("Last action was:",o,"so next action will be:","catch"===o?"throw":"catch"),o};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_Layout__WEBPACK_IMPORTED_MODULE_1__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-detail-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-title",children:[isEditingTitle?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"title-edit-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("input",{type:"text",value:editedTitle,onChange:e=>setEditedTitle(e.target.value),className:"title-edit-input"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_icons_fa__WEBPACK_IMPORTED_MODULE_24__.dIn,{className:"title-save-icon",onClick:handleTitleSave})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("h1",{children:[video.title,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_icons_fa__WEBPACK_IMPORTED_MODULE_24__.Mbp,{className:"title-edit-icon",onClick:()=>{setEditedTitle(video.title),setIsEditingTitle(!0)}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_25__.N_,{to:`/clipmaker?videoId=${video.id}`,className:"clipmaker-link",style:{position:"absolute",top:"20px",right:"20px",padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"4px"},children:"Open in ClipMaker"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-player",style:{position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_remotion_player__WEBPACK_IMPORTED_MODULE_26__.ai,{ref:playerRef,component:_VideoPlayer__WEBPACK_IMPORTED_MODULE_3__.A,inputProps:{src:video.filepath,onFrameUpdate:handleFrameUpdate,onClick:handleVideoClick},durationInFrames:durationInFrames,compositionWidth:desiredWidth,compositionHeight:Math.round(desiredWidth*((null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.height)/(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width))),playbackRate:playbackRate,fps:29.8,controls:!0,renderLoading:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{children:"Loading..."})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ClickFeedback,{feedback:clickFeedback}),showMissButtons&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(PlayerBoxOverlay,{boxes:currentBoxes}),shapesExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_16__.BI,{ref:stageRef,width:desiredWidth,height:Math.round(desiredWidth*((null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.height)/(null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width))),onClick:e=>{if(!isDrawing)return;const t=e.target.getStage().getPointerPosition();if(setCurrentPoints([...currentPoints,t.x,t.y]),currentPoints.length>=4){const[e,n]=currentPoints;if(Math.hypot(t.x-e,t.y-n)<20){const e={id:Date.now(),points:[...currentPoints],frame:currentFrame,area:calculatePolygonArea(currentPoints),name:`Shape ${shapesData.length+1}`,color:"#ff0000",visible:!0};setShapes([...shapes,[...currentPoints]]),setShapesData([...shapesData,e]),setCurrentPoints([]),setIsDrawing(!1)}}},style:{position:"absolute",top:0,left:0,pointerEvents:isDrawing?"auto":"none"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(react_konva__WEBPACK_IMPORTED_MODULE_16__.Wd,{children:[shapes.map(((e,t)=>{const n=shapesData[t];return null!==n&&void 0!==n&&n.visible?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_16__.N1,{points:e,closed:!0,fill:`${n.color}4D`,stroke:n.color,strokeWidth:2},t):null})),currentPoints.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_16__.N1,{points:currentPoints,stroke:"red",strokeWidth:2}),Array.from({length:currentPoints.length/2},((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_16__.jl,{x:currentPoints[2*t],y:currentPoints[2*t+1],radius:4,fill:"red"},t)))]})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(currentFrame.toString())},style:{marginTop:"10px",padding:"4px 12px",cursor:"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",fontSize:"12px"},children:["Copy Frame ",currentFrame]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_HotkeySection__WEBPACK_IMPORTED_MODULE_19__._,{hotkeyMode:hotkeyMode,toggleHotkeyMode:toggleHotkeyMode,hotkeyGroups:hotkeyGroups,activeGroupId:activeGroupId,setActiveGroupId:setActiveGroupId,setActiveGroupInstructions:setActiveGroupInstructions,setTurnedOnInstructions:setTurnedOnInstructions,turnedOnInstructions:turnedOnInstructions,buttonOrder:buttonOrder,setButtonOrder:setButtonOrder,buttonPositions:buttonPositions,setButtonPositions:setButtonPositions,dragMode:dragMode,setDragMode:setDragMode,activeIncrementButtons:activeIncrementButtons,setActiveIncrementButtons:setActiveIncrementButtons,hotkeyButtonsExpanded:hotkeyButtonsExpanded,setHotkeyButtonsExpanded:setHotkeyButtonsExpanded,hotkeysExpanded:hotkeysExpanded,setHotkeysExpanded:setHotkeysExpanded,globalData:globalData,shortcutActions:getCurrentHotkeys()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"metadata-container",style:{border:"none"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:handleSaveMetadata,disabled:!!jsonError,className:"action-button",children:saveButtonText})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-info-header",onClick:()=>setVideoInfoExpanded(!videoInfoExpanded),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("h3",{children:["Video Info ",videoInfoExpanded?"\u25bc":"\u25b6"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(VideoInfoUpdater,{video:video,globalData:globalData,onUpdate:e=>{setVideoMetadata((t=>({...t,...e}))),console.log("newData",e),setDurationInFrames(Math.ceil(e.duration*e.fps))}})]}),videoInfoExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"video-info-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"ID:"})," ",video.id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Size:"})," ",(video.size/1024/1024).toFixed(2)," MB"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Filepath:"})," ",video.filepath]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Duration:"})," ",null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.durationInSeconds.toFixed(2),"s (",durationInFrames," frames)"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Resolution:"})," ",null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.width,"x",null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.height]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"FPS:"})," ",null===videoMetadata||void 0===videoMetadata?void 0:videoMetadata.fps]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Current Frame:"})," ",currentFrame,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(currentFrame.toString())},style:{marginLeft:"10px",padding:"2px 8px",cursor:"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",fontSize:"12px"},children:"Copy Frame"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Playback Speed:"})," ",playbackRate,"x"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"tags-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"tags-header",onClick:()=>setTagsExpanded(!tagsExpanded),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("h3",{children:["Tags ",tagsExpanded?"\u25bc":"\u25b6"]})}),tagsExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"tags-content",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("table",{className:"tags-table",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Frame"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Delete"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("tbody",{children:getSortedTags().map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{onClick:()=>handleTagFrameClick(e.startFrame||e.frame),style:{cursor:"pointer",textDecoration:"underline"},children:e.startFrame||e.frame||"N/A"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:e.name||""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>handleDeleteTag(e.startFrame||e.frame||0,e.name),className:"delete-tag-button",title:"Delete tag",children:"\ud83d\uddd1\ufe0f"})})]},t)))})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"metadata-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"metadata-header",onClick:()=>setMetadataExpanded(!metadataExpanded),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("h3",{children:["Metadata ",metadataExpanded?"\u25bc":"\u25b6"]})}),metadataExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.Fragment,{children:[jsonError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"json-error",children:jsonError}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{style:{background:"#272822",padding:"10px",borderRadius:"5px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(react_json_tree__WEBPACK_IMPORTED_MODULE_27__.d,{data:parsedMetadata,theme:theme,invertTheme:!1,shouldExpandNode:()=>!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("textarea",{value:metadata,onChange:handleMetadataChange,rows:10,cols:50}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:handleSaveMetadata,disabled:!!jsonError,children:saveButtonText}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>handleFetchBoxes(!1),disabled:boxesLoading,className:"action-button",children:boxesLoading?"Loading Boxes...":"Load Boxes Data"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("input",{type:"checkbox",checked:autoRefreshBoxes,onChange:e=>setAutoRefreshBoxes(e.target.checked)}),"Auto-refresh every 10s"]}),lastBoxUpdate&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("span",{style:{fontSize:"0.9em",color:"#666"},children:["Last updated: ",lastBoxUpdate]})]}),boxesData&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("strong",{children:"Boxes Data:"})," Loaded for frame ",currentFrame]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"shapes-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"shapes-header",onClick:()=>setShapesExpanded(!shapesExpanded),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("h3",{children:["Shapes ",shapesExpanded?"\u25bc":"\u25b6"]})}),shapesExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"shapes-content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"shapes-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>{setIsDrawing(!isDrawing),setCurrentPoints([])},className:"action-button "+(isDrawing?"active":""),children:isDrawing?"Cancel Drawing":"Add Shape"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:handleSaveShapes,className:"save-shapes-button",disabled:0===shapesData.length,children:shapesSaveStatus||"Save Shapes"})]}),shapesData.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{className:"shapes-table-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("table",{className:"shapes-table",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{style:{width:"150px"},children:"Name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Frame"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Visible"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Area (px\xb2)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Points"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("th",{children:"Actions"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("tbody",{children:shapesData.map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("input",{type:"text",value:e.name,onChange:t=>handleShapeNameChange(e.id,t.target.value),className:"shape-name-input",style:{width:"140px"}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{onClick:()=>{var t;return null===(t=playerRef.current)||void 0===t?void 0:t.seekTo(e.frame)},style:{cursor:"pointer",textDecoration:"underline"},children:e.frame}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("input",{type:"color",value:e.color,onChange:t=>handleShapeColorChange(e.id,t.target.value),className:"shape-color-input"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>handleShapeVisibilityToggle(e.id),className:"shape-visibility-button "+(e.visible?"visible":""),title:e.visible?"Hide shape":"Show shape",children:e.visible?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:e.area}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:e.points.length/2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>handleDeleteShape(e.id),className:"delete-shape-button",title:"Delete shape",children:"\ud83d\uddd1\ufe0f"})})]},e.id)))})]})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_RangesSection__WEBPACK_IMPORTED_MODULE_17__.U,{rangesExpanded:rangesExpanded,setRangesExpanded:setRangesExpanded,ranges:ranges,playerRef:playerRef,breakRange:breakRange,enforceRangeById:enforceRangeById}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_DictationDisplay__WEBPACK_IMPORTED_MODULE_18__.s,{isListening:isListening,transcript:transcript,analysis:analysis,isProcessing:isProcessing,currentFrame:currentFrame,setNotes:setNotes,updateMetadata:updateMetadata,instructions:turnedOnInstructions}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_DictationDisplay__WEBPACK_IMPORTED_MODULE_18__.s,{isListening:isAutoListening,transcript:autoTranscript,isProcessing:isAutoProcessing,currentFrame:currentFrame,setNotes:setAutoNotes,updateMetadata:updateMetadata,instructions:turnedOnInstructions,isAuto:!0}),showMissButtons&&currentBoxes&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"player-buttons",style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px",padding:"15px",background:"rgba(0,0,0,0.8)",borderRadius:"8px",zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:[Object.entries(currentBoxes).map((e=>{let[t,{bbox:n}]=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>handlePlayerButtonClick(t,n),style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s ease",":hover":{backgroundColor:"#45a049"}},children:t},t)})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("button",{onClick:()=>{setShowMissButtons(!1),setCurrentBoxes(null),playerRef.current&&playerRef.current.play()},style:{padding:"10px 20px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginLeft:"10px"},children:"Cancel"})]})]})})}const __WEBPACK_DEFAULT_EXPORT__=VideoDetail},9647:(e,t,n)=>{"use strict";n.d(t,{F:()=>es});var r=n(5043),a=n(4391),o=n(5475),i=n(3216),s=n(7891),l=n(579);const u=function(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)([]);return(0,r.useEffect)((()=>{let e=Date.now();const n=[{type:"WORD",word:"RECORD",time:e+=1e3},{type:"WORD",word:"CLIP",time:e+=1e3},{type:"WORD",word:"WATCH",time:e+=1e3},{type:"WORD",word:"ANALYZE",time:e+=1e3},{type:"WORD",word:"STRATEGIZE",time:e+=1e3},{type:"WORD",word:"DOMINATE",time:e+=1500},{type:"WORD",word:"RECORD",time:e+=500},{type:"WORD",word:"CLIP",time:e+=500},{type:"WORD",word:"WATCH",time:e+=500},{type:"WORD",word:"ANALYZE",time:e+=500},{type:"WORD",word:"STRATEGIZE",time:e+=500},{type:"WORD",word:"DOMINATE",time:e+=1500},{type:"WORD",word:"RECORD",time:e+=250},{type:"WORD",word:"CLIP",time:e+=250},{type:"WORD",word:"WATCH",time:e+=250},{type:"WORD",word:"ANALYZE",time:e+=250},{type:"WORD",word:"STRATEGIZE",time:e+=250},{type:"WORD",word:"DOMINATE",time:e+=1500},{type:"WORD",word:"DOMINATE",time:e+=1500,isFinal:!0},{type:"WELCOME",time:e+=1500}];i(n);const r=setInterval((()=>{const e=Date.now();i((n=>{const[r,o]=n.reduce(((t,n)=>{let[r,a]=t;return n.time<=e?[[...r,n],a]:[r,[...a,n]]}),[[],[]]);return r.forEach((e=>{"WORD"===e.type?t((t=>({text:e.word,isFinal:e.isFinal}))):"WELCOME"===e.type&&a(!0)})),o}))}),100);return()=>clearInterval(r)}),[]),(0,l.jsx)(s.A,{children:(0,l.jsx)("div",{className:"space-container",children:(0,l.jsxs)("div",{className:"word-container",children:[e&&("DOMINATE"===e.text?(0,l.jsx)("div",{className:e.isFinal?"dominate-text-final":"dominate-text",children:e.text}):(0,l.jsx)("div",{className:"fade-text",children:e.text})),n&&(0,l.jsx)("div",{className:"welcome-text",children:"Welcome to Goalty Remotion"})]})})})};var c=n(854),d=n.n(c),f=n(2963),h=n.n(f),p=n(3204);const m=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[u,c]=(0,r.useState)([]),[f,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)({title:"",size:0,filepath:"",metadata:{tags:[]}}),[_,x]=(0,r.useState)(""),[w,S]=(0,r.useState)(JSON.stringify(b.metadata,null,2)),[C,E]=(0,r.useState)(!1),[k,P]=(0,r.useState)(""),j=(0,i.Zp)();(0,r.useEffect)((()=>{T()}),[]);const T=async()=>{try{const t=(await d().get(`${e.APIbaseUrl}/api/videos`)).data;console.log(t),t.forEach((e=>{e.metadata=JSON.parse(e.metadata)})),c(t)}catch(t){console.error("Error fetching videos:",t)}},M=e=>{j(`/videos/${e}`)},N=e=>{try{return JSON.parse(e)}catch(t){return!1}};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"videos-container",children:[(0,l.jsx)("button",{onClick:()=>v(!0),className:"video-submit",style:{marginTop:"20px"},children:"Manually Add Video"}),(0,l.jsxs)(h(),{isOpen:g,onRequestClose:()=>v(!1),className:"modal",overlayClassName:"overlay",children:[(0,l.jsx)("h2",{children:"Manually Add Video"}),(0,l.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=N(w);if(n)try{await d().post(`${e.APIbaseUrl}/api/videos/manual`,{...b,metadata:n});o("Video added manually successfully!"),v(!1),x(""),y({title:"",size:0,filepath:"",metadata:{tags:[]}}),S(JSON.stringify({tags:[]},null,2)),T()}catch(r){o("Error adding video manually"),console.error("Error:",r)}else x("Invalid JSON format")},children:[(0,l.jsx)("button",{type:"button",onClick:()=>E(!0),className:"video-submit",style:{marginBottom:"20px",width:"100%"},children:"Extract from YouTube URL"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Title:"}),(0,l.jsx)("input",{type:"text",value:b.title,onChange:e=>y({...b,title:e.target.value}),className:"video-input",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Size (bytes):"}),(0,l.jsx)("input",{type:"number",value:b.size,onChange:e=>y({...b,size:parseInt(e.target.value)}),className:"video-input",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Filepath/URL:"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,l.jsx)("input",{type:"text",value:b.filepath,onChange:e=>y({...b,filepath:e.target.value}),className:"video-input",required:!0}),(0,l.jsx)("button",{type:"button",onClick:()=>{return y({...b,filepath:(e=b.title,`f005.backblazeb2.com/file/remotion-videos/${e.replace(/[^a-zA-Z0-9-_]/g,"_").replace(/__+/g,"_")}.mp4`)});var e},className:"video-submit",style:{flexShrink:0},children:"Backblazify"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:["Metadata (JSON):",(0,l.jsx)("span",{className:"validation-status "+(_?"invalid":"valid"),children:_?"\u274c Invalid JSON":"\u2713 Valid JSON"})]}),(0,l.jsx)("textarea",{value:w,onChange:e=>{S(e.target.value);const t=N(e.target.value);t?(y({...b,metadata:t}),x("")):x("Invalid JSON format")},className:"video-input metadata-textarea",rows:10,spellCheck:"false"})]}),(0,l.jsxs)("div",{className:"button-group",children:[(0,l.jsx)("button",{type:"submit",className:"video-submit",disabled:!!_,children:"Add Video"}),(0,l.jsx)("button",{type:"button",onClick:()=>v(!1),className:"video-submit",children:"Cancel"})]})]})]}),(0,l.jsxs)(h(),{isOpen:C,onRequestClose:()=>E(!1),className:"modal",overlayClassName:"overlay",children:[(0,l.jsx)("h2",{children:"Extract YouTube Info"}),(0,l.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await d().get(`${e.APIbaseUrl}/api/extract-youtube?url=${encodeURIComponent(k)}`);y({title:t.data.title,size:t.data.size,filepath:k,metadata:t.data.metadata}),S(JSON.stringify(t.data.metadata,null,2)),E(!1),P("")}catch(n){o("Error extracting YouTube info. Please try again."),console.error("Error:",n)}},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"YouTube URL:"}),(0,l.jsx)("input",{type:"text",value:k,onChange:e=>P(e.target.value),placeholder:"Enter YouTube URL",className:"video-input",required:!0})]}),(0,l.jsxs)("div",{className:"button-group",children:[(0,l.jsx)("button",{type:"submit",className:"video-submit",children:"Extract Info"}),(0,l.jsx)("button",{type:"button",onClick:()=>E(!1),className:"video-submit",children:"Cancel"})]})]})]}),a&&(0,l.jsx)("p",{className:"message",children:a}),(0,l.jsx)("h2",{children:"Video List"}),(0,l.jsx)("table",{className:"video-table",children:(0,l.jsx)("tbody",{children:u.map((t=>{var n,a;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("tr",{className:"main-row",onClick:()=>M(t.id),children:[(0,l.jsx)("td",{className:"video-title",children:t.title}),(0,l.jsx)("td",{className:"actions-cell",children:(0,l.jsx)("button",{onClick:n=>(async(t,n)=>{if(n.stopPropagation(),window.confirm("Are you sure you want to delete this video?"))try{await d().delete(`${e.APIbaseUrl}/api/videos/${t}`),o("Video deleted successfully"),T()}catch(r){o("Error deleting video"),console.error("Error:",r)}})(t.id,n),className:"delete-button",children:(0,l.jsx)(p.qbC,{})})})]}),(0,l.jsx)("tr",{className:"metadata-row",onClick:()=>M(t.id),children:(0,l.jsxs)("td",{colSpan:"2",children:[t.filepath," \u2022 ",(t.size/1024/1024).toFixed(2)," MB \u2022 ",(null===(n=t.metadata)||void 0===n||null===(a=n.tags)||void 0===a?void 0:a.length)||0," tags"]})})]},t.id)}))})})]})})};var g=n(9432);const v=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),u=(0,i.Zp)();(0,r.useEffect)((()=>{c()}),[]);const c=async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/films`),r=await t.json();n(r)}catch(t){console.error("Error fetching films:",t)}};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"studio-home",children:[(0,l.jsx)("h1",{children:"Studio"}),(0,l.jsx)("button",{className:"create-film-btn",onClick:async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/films`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Untitled Film"})}),n=await t.json();u(`/studio/films/${n.id}`)}catch(t){console.error("Error creating film:",t)}},children:"Create New Film"}),(0,l.jsx)("div",{className:"films-list",children:t.map((e=>(0,l.jsxs)("div",{className:"film-card",onClick:()=>u(`/studio/films/${e.id}`),children:[(0,l.jsx)("h3",{children:e.name}),(0,l.jsxs)("p",{children:["Created: ",new Date(e.created_date).toLocaleDateString()]}),(0,l.jsx)("button",{className:"delete-film-btn",onClick:t=>((e,t)=>{e.stopPropagation(),o(t)})(t,e),children:"Delete"})]},e.id)))}),a&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal",children:[(0,l.jsx)("h3",{children:"Confirm Delete"}),(0,l.jsxs)("p",{children:['Are you sure you want to delete "',a.name,'"?']}),(0,l.jsxs)("div",{className:"modal-buttons",children:[(0,l.jsx)("button",{onClick:async()=>{try{(await fetch(`${e.APIbaseUrl}/api/films/${a.id}`,{method:"DELETE"})).ok?(n(t.filter((e=>e.id!==a.id))),o(null)):console.error("Failed to delete film")}catch(r){console.error("Error deleting film:",r)}},children:"Yes, Delete"}),(0,l.jsx)("button",{onClick:()=>o(null),children:"Cancel"})]})]})})]})})};var b=n(6180);var y=n(2166);const _=e=>Array.from(e).reduce(((e,t)=>e+(parseInt(t.endFrame,10)-parseInt(t.startFrame,10))),0),x=e=>{let{selectedVideos:t,videos:n,selectedTags:a,useStaticFile:o,onFrameUpdate:i=()=>{},detections:s=[],frameImage:u=null,hoveredDetectionIndex:c}=e;const d=(0,r.useRef)(null),[f,h]=(0,r.useState)({x:1,y:1}),p=(0,r.useMemo)((()=>(console.log("selectedTags",a),Array.from(a))),[]),m=(0,y.useCurrentFrame)(),g=_(a),v=(0,y.useCurrentFrame)();return(0,r.useEffect)((()=>{i(v)}),[v,i]),(0,r.useEffect)((()=>{(async()=>{var e;if(!d.current)return;const t=d.current.getBoundingClientRect();let r,a;if(u){await(async e=>(console.log("getImageDimensions",{base64:e}),new Promise((t=>{const n=new Image;n.onload=()=>{t({width:n.width,height:n.height})},n.src=`data:image/jpeg;base64,${e}`}))))(u);r=1200,a=675,console.log("got dimensions from frameImage",{originalWidth:r,originalHeight:a})}else{if(null===(e=n[0])||void 0===e||!e.metadata)return;{const e=JSON.parse(n[0].metadata);r=e.width,a=e.height}}const o={x:t.width/r,y:t.height/a};console.log(`original size: ${r}x${a}`,{originalWidth:r,originalHeight:a,containerRect:t},`new scale: ${o.x}x${o.y}`),h(o)})()}),[n,u]),(0,l.jsxs)(y.AbsoluteFill,{children:[p.map(((e,t)=>{const r=n.find((t=>t.id===e.videoId));if(!r)return console.error(`No video found for tag ${e.key}`,{tagInfo:e,videos:n}),null;if(!r.filepath)return console.error(`No filepath found for video ${r.id}`),null;const a=p.slice(0,t).reduce(((e,t)=>e+(parseInt(t.endFrame,10)-parseInt(t.startFrame,10))),0),i=parseInt(e.endFrame,10)-parseInt(e.startFrame,10),h=Math.max(0,m-a),g=Math.max(0,i-h),v=Math.floor(g/30),b=`${Math.floor(v/60)}:${(v%60).toString().padStart(2,"0")}`,_=o?(0,y.staticFile)(`${r.filepath.split("/").pop()}`):r.filepath;return(0,l.jsx)(y.Sequence,{from:a,durationInFrames:i,children:(0,l.jsx)(y.AbsoluteFill,{children:(0,l.jsxs)("div",{ref:d,style:{position:"absolute",width:"100%",height:"100%",backgroundColor:t%2===0?"rgba(0, 123, 255, 0.1)":"rgba(255, 193, 7, 0.1)"},children:[u?(0,l.jsx)("img",{src:`data:image/jpeg;base64,${u}`,style:{width:"100%",height:"100%",objectFit:"contain"}}):null,(0,l.jsx)(y.Video,{src:_,startFrom:parseInt(e.startFrame,10),endAt:parseInt(e.endFrame,10),style:{width:"100%",height:"100%"}}),u&&(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:s.map(((e,t)=>(0,l.jsx)("div",{style:{position:"absolute",left:e.x*f.x+"px",top:e.y*f.y+"px",width:e.width*f.x+"px",height:e.height*f.y+"px",border:"2px solid "+(c===t?"#ff0000":"#00ff00"),boxShadow:"0 0 0 1px rgba(0,0,0,0.5)",borderRadius:"2px",pointerEvents:"none",transition:"border-color 0.2s ease"},children:e.label&&(0,l.jsx)("div",{style:{position:"absolute",top:"-20px",left:"0",background:c===t?"#ff0000":"#00ff00",color:"black",padding:"2px 4px",borderRadius:"2px",fontSize:"12px",fontWeight:"bold",whiteSpace:"nowrap",transition:"background-color 0.2s ease"},children:e.label})},t)))}),(0,l.jsxs)("div",{style:{position:"absolute",top:20,left:20,display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-start"},children:[(0,l.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"5px 10px",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",zIndex:1},children:`Clip ${t+1}/${p.length} \u2022 Next in ${b}`}),(0,l.jsx)("div",{style:{width:"100%",height:4,background:"rgba(255, 255, 255, 0.3)",borderRadius:2,overflow:"hidden"},children:(0,l.jsx)("div",{style:{height:"100%",width:h/i*100+"%",background:"#0d6efd",borderRadius:2,transition:"width 0.1s linear"}})})]})]})})},e.key)})),(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:8,background:"#1a1a1a",zIndex:10,display:"flex"},children:p.map(((e,t)=>{const n=parseInt(e.endFrame,10)-parseInt(e.startFrame,10),r=n/g*100,a=p.slice(0,t).reduce(((e,t)=>e+(parseInt(t.endFrame,10)-parseInt(t.startFrame,10))),0),o=t%2===0?"#ffffff":"#808080",i=m>=a&&m<a+n;return(0,l.jsx)("div",{style:{height:"100%",width:`${r}%`,background:o,opacity:.7,position:"relative"},children:i&&(0,l.jsx)("div",{style:{position:"absolute",left:(m-a)/n*100+"%",top:"50%",transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",background:"#0d6efd",opacity:1,border:"2px solid white",boxShadow:"0 0 4px rgba(0,0,0,0.5)",zIndex:11}})},e.key)}))})]})},w={playerNameColor:{type:"color",label:"Player Name Color",default:"#FFFFFF"},playerNameBgColor:{type:"color",label:"Player Name Background",default:"#FF6B00"},boundingBoxColor:{type:"color",label:"Bounding Box Color",default:"#FF6B00"},parabolaColor:{type:"color",label:"Throw Line Color",default:"#0000FF"},parabolaOpacity:{type:"range",label:"Throw Line Opacity",min:-.1,max:1,step:.1,default:.6},boundingBoxOpacity:{type:"range",label:"Bounding Box Opacity",min:0,max:1,step:.1,default:1},playerNameOpacity:{type:"range",label:"Player Name Opacity",min:0,max:1,step:.1,default:1},playerSettings:{type:"playerGroup",label:"Player Settings",perPlayer:{hidden:{type:"checkbox",label:"Hide Player",default:!1},useCustomSettings:{type:"checkbox",label:"Use Custom Settings",default:!1},pathColor:{type:"color",label:"Path Color",default:"#FF0000"},pathOpacity:{type:"range",label:"Path Opacity",min:0,max:1,step:.1,default:.8},customBoxColor:{type:"color",label:"Box Color",default:"#FF6B00"},customNameColor:{type:"color",label:"Name Text Color",default:"#FFFFFF"},customNameBgColor:{type:"color",label:"Name Background",default:""},customBoxOpacity:{type:"range",label:"Box Opacity",min:0,max:1,step:.1,default:1},customNameOpacity:{type:"range",label:"Name Opacity",min:0,max:1,step:.1,default:1}}},stretchCount:{type:"range",label:"Path Detail %",min:0,max:100,step:1,default:30},smoothingFactor:{type:"range",label:"Path Smoothing",min:0,max:100,step:1,default:70},distanceThreshold:{type:"range",label:"Point Distance %",min:1,max:100,step:1,default:10},minFrameDistance:{type:"range",label:"Min Frames Between Points",min:1,max:60,step:1,default:30},showEntireClip:{type:"checkbox",label:"Show Entire Clip",default:!1},showDebugOverlay:{type:"checkbox",label:"Show Debug Overlay",default:!1},showOnlyFirstLastThrow:{type:"checkbox",label:"Show Only First/Last Throw",default:!1}},S=e=>e&&Array.isArray(e)&&4===e.length&&!(0===e[0]&&0===e[1]),C=e=>{let{selectedVideos:t,videos:n,selectedTags:a,useStaticFile:o,onFrameUpdate:i=()=>{},detections:s=[],frameImage:u=null,hoveredDetectionIndex:c,width:d=1920,height:f=1080,settings:h={},filmId:p}=e;const m=(0,r.useMemo)((()=>Array.from(a)),[]),g=(0,y.useCurrentFrame)(),v=(0,r.useMemo)((()=>((e,t)=>{const n=Array.from(t);let r=0;for(const a of n){const t=parseInt(a.endFrame,10)-parseInt(a.startFrame,10);if(e>=r&&e<r+t)return{videoId:a.videoId,videoName:a.videoName,videoFilepath:a.videoFilepath,tagName:a.tagName,frame:a.frame,startFrame:parseInt(a.startFrame,10),endFrame:parseInt(a.endFrame,10),key:a.key};r+=t}if(n.length>0&&e>=r){const e=n[n.length-1];return{videoId:e.videoId,videoName:e.videoName,videoFilepath:e.videoFilepath,tagName:e.tagName,frame:e.frame,startFrame:parseInt(e.startFrame,10),endFrame:parseInt(e.endFrame,10),key:e.key}}return null})(g,a)),[g,a]),b=.3,_=(0,r.useMemo)((()=>{const e=new Map;return t=>{if(null===t||void 0===t||!t.metadata)return null;if(e.has(t.id))return e.get(t.id);const n=(e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e})(t.metadata);return e.set(t.id,n),console.log("\ud83d\udd0d Metadata for video",{id:t.id,metadata:n}),n}}),[]),x=(0,r.useMemo)((()=>{const e=new Set;return t.forEach((t=>{const r=n.find((e=>e.id===t)),a=_(r);null!==a&&void 0!==a&&a.boxes&&a.boxes.forEach((t=>{t&&Object.keys(t).forEach((t=>e.add(t)))}))})),Array.from(e)}),[t,n,_]),C=(0,r.useMemo)((()=>(e=>{const t=["#FF0000","#00FF00","#0000FF","#FFA500","#800080","#00FFFF","#FFD700","#FF69B4","#4B0082","#32CD32"],n={};return e.forEach(((e,r)=>{n[e]=t[r%t.length]})),n})(x)),[x]),[E,k]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(v){const e=h[v.key]||{};k(e)}else k({})}),[v,h]);const P=e=>{var t,n,r,a;if(!E)return null!==(t=C[e])&&void 0!==t?t:"#FF0000";const o=null===(n=E.playerSettings)||void 0===n?void 0:n[e],i=null!==(r=C[e])&&void 0!==r?r:"#FF0000";return null!==(a=null===o||void 0===o?void 0:o.pathColor)&&void 0!==a?a:i},j=e=>{var t;if(!E)return.8;const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];if(null!==n&&void 0!==n&&n.hidden)return 0;const r=null===n||void 0===n?void 0:n.pathOpacity;return"number"===typeof r?r:.8};const T=(e,t)=>{var n;const r=_(e);return r&&(null===(n=r.tags)||void 0===n?void 0:n.filter((e=>e.frame===t)))||[]},M=(e,t)=>{const n=_(e);if(!n)return[];try{if(!n.boxes)return[];t=Math.round(.999*t);const e=n.boxes.find((e=>{if(!e)return!1;return Object.keys(e).some((n=>e[n].frame===t))}));return e?Object.entries(e).filter((e=>{let[t,n]=e;return S(n.bbox)})).map((e=>{let[t,n]=e;return{player:t,bbox:n.bbox}})):[]}catch(r){return console.error("\ud83d\udca5 Error parsing boxes metadata:",r),[]}},N=(e,t,n)=>{const r=n.width/t.width,a=n.height/t.height;return{x:e.bbox[0]*r,y:e.bbox[1]*a,width:e.bbox[2]*r,height:e.bbox[3]*a}},D=(e,t,n)=>T(e,t).some((e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(`${n.toLowerCase()} catch`)})),O=()=>{var e;return E&&null!==(e=E.stretchCount)&&void 0!==e?e:w.stretchCount.default},F=(e,t,n)=>{var r;const a={},o=(new Set,(e=>{const t=e/100,n=(Math.exp(5*t)-1)/(Math.exp(5)-1);return Math.max(1,Math.min(100,100*n))})(null!==(r=null===E||void 0===E?void 0:E.stretchCount)&&void 0!==r?r:w.stretchCount.default)),i=((t,n)=>{const r=[];for(let o=t;o<=n;o++){M(e,o).forEach((e=>{S(e.bbox)&&(a[e.player]||(a[e.player]={positions:[],receptionFrames:[]}),r.push({frame:o,player:e.player,bbox:e.bbox}))}))}return r})(n.startFrame,t),s={};return i.forEach((e=>{s[e.player]||(s[e.player]=[]),s[e.player].push(e)})),Object.entries(s).forEach((r=>{let[i,s]=r;s.sort(((e,t)=>e.frame-t.frame));const l=new Set([n.startFrame,t]),u=s.length,c=Math.max(2,Math.ceil(u*(o/100))),d=Math.max(1,Math.floor(u/c)),f=new Set;l.forEach((e=>{const t=s.reduce(((t,n)=>Math.abs(n.frame-e)<Math.abs(t.frame-e)?n:t));f.add(t.frame)}));for(let e=0;e<s.length;e+=d)f.add(s[e].frame);s.forEach((t=>{if(T(e,t.frame).some((e=>{var t;return((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(`${i.toLowerCase()} catch`)}))){var n;const e=null!==(n=null===E||void 0===E?void 0:E.minFrameDistance)&&void 0!==n?n:w.minFrameDistance.default;Array.from(f).some((n=>Math.abs(n-t.frame)<e))||f.add(t.frame)}}));const h=s.filter((e=>f.has(e.frame))).sort(((e,t)=>e.frame-t.frame));a[i]={positions:h.map((e=>({frame:e.frame,bbox:e.bbox}))),receptionFrames:s.filter((t=>D(e,t.frame,i))).map((e=>e.frame))}})),a},R=()=>{var e;if(!E)return.7;return(null!==(e=E.smoothingFactor)&&void 0!==e?e:w.smoothingFactor.default)/100},A=e=>{if(e.length<2)return"";const t=Math.max(d,f)*(()=>{var e;return E?(null!==(e=E.distanceThreshold)&&void 0!==e?e:w.distanceThreshold.default)/100:.1})(),n=[e[0]];for(let s=1;s<e.length;s++){const r=e[s],a=n[n.length-1],[o,i]=a.split(",").map(Number),[l,u]=r.split(",").map(Number);Math.sqrt(Math.pow(l-o,2)+Math.pow(u-i,2))<t&&n.push(r)}const r=R(),[a,...o]=n;let i=`M ${a}`;for(let s=0;s<o.length;s++){const e=o[s],t=0===s?a:o[s-1],n=o[s+1]||e,[l,u]=e.split(",").map(Number),[c,d]=t.split(",").map(Number),[f,h]=n.split(",").map(Number);i+=` C ${c+(l-c)*(1-r)},${d+(u-d)*(1-r)} ${l-(f-l)*r},${u-(h-u)*r} ${l},${u}`}return i},I=(e,t,n)=>{const r=[],a=((e,t,n)=>{const r=[];for(let a=t;a<=n;a++){const t=T(e,a),n=M(e,a);t.forEach((e=>{var t;const o=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").match(/(\w+)\s+throw/);if(o){const e=o[1],t=n.find((t=>t.player===e));t&&r.push({frame:a,thrower:e,bbox:t.bbox})}}))}return r})(e,n.startFrame,t);for(let o=n.startFrame;o<=t;o++){const t=M(e,o);T(e,o).forEach((e=>{var n;const i=((null===(n=e.name)||void 0===n?void 0:n.toLowerCase())||"").match(/(\w+)\s+catch/);if(i){const e=i[1],n=t.find((t=>t.player===e));if(n){const t=a.filter((e=>e.frame<o)).sort(((e,t)=>t.frame-e.frame))[0];t&&r.push({throwFrame:t.frame,throwBbox:t.bbox,catchFrame:o,catchBbox:n.bbox,thrower:t.thrower,receiver:e})}}}))}return r.sort(((e,t)=>e.catchFrame-t.catchFrame)),r};r.useEffect((()=>{i(g)}),[g,i]),(0,r.useEffect)((()=>{v&&console.log("Current playing clip in template:",v)}),[v]);const L=()=>{var e;return E&&null!==(e=E.parabolaColor)&&void 0!==e?e:w.parabolaColor.default},B=()=>{var e;return E&&null!==(e=E.parabolaOpacity)&&void 0!==e?e:w.parabolaOpacity.default},U=()=>{var e;return E&&null!==(e=E.playerNameColor)&&void 0!==e?e:w.playerNameColor.default},W=()=>{var e;return E&&null!==(e=E.boundingBoxColor)&&void 0!==e?e:w.boundingBoxColor.default},z=()=>{var e;return E&&null!==(e=E.boundingBoxOpacity)&&void 0!==e?e:w.boundingBoxOpacity.default},$=()=>{var e;return E&&null!==(e=E.playerNameOpacity)&&void 0!==e?e:w.playerNameOpacity.default},V=e=>{var t;if(!E)return W();const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];var r;return null!==n&&void 0!==n&&n.useCustomSettings?null!==(r=null===n||void 0===n?void 0:n.customBoxColor)&&void 0!==r?r:w.playerSettings.perPlayer.customBoxColor.default:W()},G=e=>{var t;if(!E)return U();const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];var r;return null!==n&&void 0!==n&&n.useCustomSettings?null!==(r=null===n||void 0===n?void 0:n.customNameColor)&&void 0!==r?r:w.playerSettings.perPlayer.customNameColor.default:U()},H=e=>{var t;if(!E)return P(e);const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];var r;return null!==n&&void 0!==n&&n.useCustomSettings?n.customNameBgColor?n.customNameBgColor:null!==(r=n.pathColor)&&void 0!==r?r:P(e):(()=>{var e;return E&&null!==(e=E.playerNameBgColor)&&void 0!==e?e:w.playerNameBgColor.default})()},K=e=>{var t;if(!E)return z();const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];return null!==n&&void 0!==n&&n.hidden?0:null!==n&&void 0!==n&&n.useCustomSettings?null!==(r=null===n||void 0===n?void 0:n.customBoxOpacity)&&void 0!==r?r:w.playerSettings.perPlayer.customBoxOpacity.default:z();var r},q=e=>{var t;if(!E)return $();const n=null===(t=E.playerSettings)||void 0===t?void 0:t[e];return null!==n&&void 0!==n&&n.hidden?0:null!==n&&void 0!==n&&n.useCustomSettings?null!==(r=null===n||void 0===n?void 0:n.customNameOpacity)&&void 0!==r?r:w.playerSettings.perPlayer.customNameOpacity.default:$();var r},Y=()=>{var e;if(!E)return w.showEntireClip.default;const t=null!==(e=E.showEntireClip)&&void 0!==e?e:w.showEntireClip.default;return console.log("showEntireClip value:",t),"false"!==t&&t},X=()=>{var e;return E&&null!==(e=E.showDebugOverlay)&&void 0!==e?e:w.showDebugOverlay.default};return(0,l.jsx)(y.AbsoluteFill,{children:m.map(((e,t)=>{const a=n.find((t=>t.id===e.videoId));if(!a)return null;if(!a.filepath)return null;const i=v&&v.videoId===e.videoId&&v.startFrame===parseInt(e.startFrame,10)&&v.endFrame===parseInt(e.endFrame,10),s=m.slice(0,t).reduce(((e,t)=>e+(parseInt(t.endFrame,10)-parseInt(t.startFrame,10))),0),c=parseInt(e.endFrame,10)-parseInt(e.startFrame,10),h=g-s+parseInt(e.startFrame,10),p=Y()?parseInt(e.endFrame,10):h,x=i?M(a,h):[],S=(i&&T(a,h),i?I(a,p,v):[]);let C={width:1920,height:1080};try{const e=_(a);C={width:e.width||1920,height:e.height||1080}}catch(W){console.warn("\u26a0\ufe0f Could not parse video metadata, using default dimensions")}const k={width:d,height:f},U=o?(0,y.staticFile)(`${a.filepath.split("/").pop()}`):a.filepath;return(0,l.jsx)(y.Sequence,{from:s,durationInFrames:c,children:(0,l.jsx)(y.AbsoluteFill,{children:(0,l.jsxs)("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:t%2===0?"rgba(0, 123, 255, 0.1)":"rgba(255, 193, 7, 0.1)"},children:[u?(0,l.jsx)("img",{src:`data:image/jpeg;base64,${u}`,style:{width:"100%",height:"100%",objectFit:"contain"}}):null,(0,l.jsx)(y.Video,{src:U,startFrom:parseInt(e.startFrame,10),endAt:parseInt(e.endFrame,10),style:{width:"100%",height:"100%"}}),i&&(0,l.jsxs)(l.Fragment,{children:[x.map(((e,t)=>{var n,r,o;const i=N(e,C,k),s=D(a,h,e.player),u=null!==(n=null===E||void 0===E||null===(r=E.playerSettings)||void 0===r||null===(o=r[e.player])||void 0===o?void 0:o.hidden)&&void 0!==n&&n?0:1;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{position:"absolute",left:`${i.x}px`,top:`${i.y}px`,width:`${i.width}px`,height:`${i.height}px`,border:`2px solid ${V(e.player)}`,boxSizing:"border-box",pointerEvents:"none",opacity:u*K(e.player)}}),(0,l.jsx)("div",{style:{position:"absolute",left:i.x+i.width/2-4+"px",top:i.y+i.height-4+"px",width:"8px",height:"8px",background:s?"#FFFF00":"red",borderRadius:"50%",pointerEvents:"none",transform:s?"scale(2)":"none",boxShadow:s?"0 0 10px rgba(255, 255, 0, 0.5)":"none",opacity:u*K(e.player)}}),(0,l.jsxs)("div",{style:{position:"absolute",left:`${i.x}px`,top:i.y-25+"px",background:H(e.player),color:G(e.player),padding:"2px 6px",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",whiteSpace:"nowrap",opacity:u*q(e.player)},children:[e.player,s?" \ud83c\udfc8":""]})]},t)})),Object.entries(F(a,p,v)).map((e=>{let[t,n]=e;const o=n.positions.map((e=>{const t=N({bbox:e.bbox},C,k);return`${t.x+t.width/2},${t.y+t.height}`})),i=((e,t,n)=>{const r={};for(let a=n.startFrame;a<=t;a++){const t=T(e,a);t.sort(((e,t)=>(e.frame||0)-(t.frame||0))),t.forEach((e=>{var t;const n=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").match(/(\w+)\s+(catch|throw)/);if(n){const[e,t,o]=n;if(r[t]||(r[t]=[]),"catch"===o)r[t].push({start:a});else if("throw"===o){const e=r[t][r[t].length-1];e&&!e.end&&(e.end=a)}}}))}return r})(a,p,v),s=i[t]||[];o.map(((e,r)=>{const a=n.positions[r].frame;return{point:e,hasPossession:s.some((e=>e.start<=a&&(!e.end||a<=e.end)&&a>=v.startFrame&&a<=v.endFrame)),frame:a,player:t,playerPossessions:s}}));return o.length>0?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none"},children:(0,l.jsx)("path",{d:A(o),stroke:P(t),strokeWidth:4,fill:"none",opacity:j(t)},`trail-${t}`)}),n.positions.filter((e=>n.receptionFrames.includes(e.frame))).map(((e,n)=>{const r=N({bbox:e.bbox},C,k);return(0,l.jsx)("div",{style:{position:"absolute",left:r.x+r.width/2-1+"px",top:r.y+r.height-1+"px",width:"2px",height:"2px",background:"#FFFF00",borderRadius:"50%",pointerEvents:"none",boxShadow:"0 0 10px rgba(255, 255, 0, 0.5)",opacity:.8}},`reception-${t}-${e.frame}`)}))]},`trail-${t}`):null})),(0,l.jsxs)("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none"},children:[(0,l.jsx)("defs",{children:(0,l.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,l.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:L(),opacity:B()})})}),(e=>{const t=null!==(e=null===E||void 0===E?void 0:E.showOnlyFirstLastThrow)&&void 0!==e?e:w.showOnlyFirstLastThrow.default;let n=S;return t&&S.length>0&&(n=[S[0],...S.length>1?[S[S.length-1]]:[]]),n.map(((e,t)=>{const n=N({bbox:e.throwBbox},C,k),r=N({bbox:e.catchBbox},C,k),a=(n.x+r.x+n.width/2+r.width/2)/2,o=Math.min(n.y,r.y)-Math.abs(r.x-n.x)*b-Math.abs(r.y-n.y)*b;return(0,l.jsx)("path",{d:`M ${n.x+n.width/2} ${n.y+n.height}\n                                 Q ${a} ${o} \n                                 ${r.x+r.width/2} ${r.y+r.height}`,stroke:L(),strokeWidth:3,opacity:B(),fill:"none",markerEnd:"url(#arrowhead)"},`reception-line-${t}`)}))})(),(()=>{const e=((e,t)=>{const n=[];for(let s=0;s<=t+60;s++)T(e,s).forEach((e=>{var t,r;(null!==(t=e.name)&&void 0!==t&&t.toLowerCase().includes("catch")||null!==(r=e.name)&&void 0!==r&&r.toLowerCase().includes("throw"))&&n.push({...e,frame:s})}));n.sort(((e,t)=>e.frame-t.frame));let r=null,a=null;for(let s=n.length-1;s>=0;s--){var o;const l=n[s],u=(null===(o=l.name)||void 0===o?void 0:o.toLowerCase())||"";if(l.frame<=t){if(u.includes("throw")){const t=u.match(/(\w+)\s+throw/);if(t){const o=M(e,l.frame).find((e=>e.player===t[1]));if(o){r={startFrame:l.frame,thrower:t[1],bbox:o.bbox};for(let t=s+1;t<n.length;t++){var i;const r=n[t];if(null!==(i=r.name)&&void 0!==i&&i.toLowerCase().includes("catch")){const t=M(e,r.frame).find((e=>{var t;return null===(t=r.name)||void 0===t?void 0:t.toLowerCase().includes(e.player.toLowerCase())}));if(t){a={frame:r.frame,bbox:t.bbox};break}}}break}}}break}}return r?{...r,nextReception:a}:null})(a,p);if(!e)return null;const t=N({bbox:e.bbox},C,k);let n,r;if(e.nextReception){const t=N({bbox:e.nextReception.bbox},C,k);n=t.x+t.width/2,r=t.y+t.height}else n=t.x+300,r=t.y+t.height;const o=(t.x+n)/2,i=Math.min(t.y+t.height,r)-Math.abs(n-(t.x+t.width/2))*b-Math.abs(r-(t.y+t.height))*b,s=e.nextReception?e.nextReception.frame-e.startFrame:30,u=(p-e.startFrame)/s,c=Math.min(u,1),d=[];for(let a=0;a<=100*c;a++){const e=a/100,s=(1-e)*(1-e)*(t.x+t.width/2)+2*(1-e)*e*o+e*e*n,l=(1-e)*(1-e)*(t.y+t.height)+2*(1-e)*e*i+e*e*r;d.push(`${s} ${l}`)}return(0,l.jsx)("path",{d:`M ${d.join(" L ")}`,stroke:L(),strokeWidth:3,opacity:B(),fill:"none",markerEnd:"url(#arrowhead)",strokeDasharray:"4 4"},"active-throw")})()]}),(0,l.jsxs)("div",{style:{position:"absolute",top:20,right:20,background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"18px",fontWeight:"bold",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,l.jsx)("div",{children:"Summary"}),(()=>{const{finalThrower:t,finalCatcher:n}=((e,t,n)=>{let r=null,a=null;const o=[];for(let i=t;i<=n;i++)T(e,i).forEach((e=>{o.push({...e,frame:i})}));return o.sort(((e,t)=>e.frame-t.frame)),o.forEach((e=>{var t;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"",o=n.match(/(\w+)\s+throw/),i=n.match(/(\w+)\s+catch/);o&&(r=o[1]),i&&(a=i[1])})),{finalThrower:r,finalCatcher:a}})(a,parseInt(e.startFrame,10),parseInt(e.endFrame,10)),r=((e,t,n)=>{const r={};for(let a=t;a<=n;a++)T(e,a).forEach((e=>{var t;const n=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").match(/(\w+)\s+catch/);if(n){const e=n[1];r[e]=(r[e]||0)+1}}));return Object.entries(r).sort(((e,t)=>{let[,n]=e,[,r]=t;return r-n})).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{})})(a,parseInt(e.startFrame,10),parseInt(e.endFrame,10)),o=((parseInt(e.endFrame,10)-parseInt(e.startFrame,10))/30).toFixed(1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{fontSize:"16px",marginTop:"4px"},children:["Duration: ",o,"s"]}),t&&n&&(0,l.jsxs)("div",{style:{fontSize:"16px",marginTop:"4px"},children:[t," \u279c ",n]}),(0,l.jsx)("div",{style:{fontSize:"14px",marginTop:"8px",borderTop:"1px solid rgba(255,255,255,0.3)",paddingTop:"4px"},children:Object.entries(r).map((t=>{let[n,r]=t;const o=((e,t,n)=>{const r={},a={};for(let o=t;o<=n;o++)T(e,o).forEach((e=>{var t;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"",r=n.match(/(\w+)\s+catch/),i=n.match(/(\w+)\s+throw/);if(r){const e=r[1];a[e]||(a[e]=[]),a[e].push({start:o})}if(i){var s;const e=i[1];if(null!==(s=a[e])&&void 0!==s&&s.length){const t=a[e][a[e].length-1];t.end||(t.end=o)}}}));return Object.entries(a).forEach((e=>{let[t,a]=e;const o=a.reduce(((e,t)=>e+((t.end||n)-t.start)),0);r[t]=(o/30).toFixed(1)})),r})(a,parseInt(e.startFrame,10),parseInt(e.endFrame,10))[n];return(0,l.jsxs)("div",{children:[n,": ",r," ",1===r?"touch":"touches",o&&` (${o}s)`]},n)}))})]})})()]}),X()&&(0,l.jsxs)("div",{style:{position:"absolute",bottom:20,right:20,background:"rgba(0, 0, 0, 0.8)",color:"#00FF00",padding:"12px",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace",width:"300px",maxHeight:"80vh",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",borderBottom:"1px solid #00FF00",paddingBottom:"4px"},children:"\ud83d\udd0d Debug Info"}),((t,n)=>{const r=_(a),o=M(a,h),i=T(a,h);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,l.jsxs)("div",{children:["Frame: ",h]}),(0,l.jsxs)("div",{children:["Clip: ",e.key]}),(0,l.jsxs)("div",{children:["Video: ",a.id]})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,l.jsx)("div",{style:{color:"#FFF",marginBottom:"2px"},children:"Clip Reference"}),(0,l.jsxs)("div",{children:["\u2022 Start: ",(null===v||void 0===v?void 0:v.startFrame)||"?"]}),(0,l.jsxs)("div",{children:["\u2022 End: ",(null===v||void 0===v?void 0:v.endFrame)||"?"]}),(0,l.jsxs)("div",{children:["\u2022 Tag: ",(null===v||void 0===v?void 0:v.tagName)||"?"]}),(0,l.jsxs)("div",{children:["\u2022 Key: ",(null===v||void 0===v?void 0:v.key)||"?"]}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#AAA",marginLeft:"8px"},children:["Video: ",(null===v||void 0===v?void 0:v.videoName)||"?"]})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,l.jsx)("div",{style:{color:"#FFF",marginBottom:"2px"},children:"Metadata"}),(0,l.jsxs)("div",{children:["\u2022 Resolution: ",(null===r||void 0===r?void 0:r.width)||"?","x",(null===r||void 0===r?void 0:r.height)||"?"]}),(0,l.jsxs)("div",{children:["\u2022 Total Boxes: ",(null===r||void 0===r||null===(t=r.boxes)||void 0===t?void 0:t.length)||0]}),(0,l.jsxs)("div",{children:["\u2022 Total Tags: ",(null===r||void 0===r||null===(n=r.tags)||void 0===n?void 0:n.length)||0]})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,l.jsx)("div",{style:{color:"#FFF",marginBottom:"2px"},children:"Current Frame"}),(0,l.jsxs)("div",{children:["\u2022 Active Boxes: ",o.length]}),(0,l.jsxs)("div",{children:["\u2022 Active Tags: ",i.length]}),o.length>0&&(0,l.jsx)("div",{style:{marginLeft:"8px",fontSize:"12px",color:"#AAA"},children:o.map(((e,t)=>(0,l.jsxs)("div",{children:["- ",e.player,": [",e.bbox.map((e=>e.toFixed(1))).join(", "),"]"]},t)))}),i.length>0&&(0,l.jsx)("div",{style:{marginLeft:"8px",fontSize:"12px",color:"#AAA"},children:i.map(((e,t)=>(0,l.jsxs)("div",{children:["- ",e.name]},t)))})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,l.jsx)("div",{style:{color:"#FFF",marginBottom:"2px"},children:"Settings"}),(0,l.jsxs)("div",{children:["\u2022 Show Full Path: ","true"==Y()?"Yes":"No"]}),(0,l.jsxs)("div",{children:["\u2022 Path Detail: ",O(),"%"]}),(0,l.jsxs)("div",{children:["\u2022 Smoothing: ",R().toFixed(2)]})]})]})})()]})]})]})})},e.key)}))})},E=e=>{let{selectedVideos:t,videos:n,selectedTags:a,outputFileName:o,compositionName:i,onRenderStart:s,renderStatus:u,settings:c}=e;const d=(0,r.useContext)(es),[f,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(o),_=n.map((e=>{const{videoWithoutMetadata:t,metadata:n}=(()=>{const{metadata:t,tags:n,...r}=e;return{videoWithoutMetadata:r,metadata:t}})(),r=(e=>{const{extracted_yt_info:t,...n}=e;return n})(JSON.parse(n));return t.metadata=r,t})).filter((e=>Array.from(t).includes(e.id)));return(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)("button",{onClick:()=>{v(!0)},className:"cloud-render-button",disabled:f,style:{opacity:"rendering"===u?.7:1,cursor:"rendering"===u?"not-allowed":"pointer"},children:(()=>{switch(u){case"rendering":return"Rendering...";case"completed":return"Render Complete!";default:return"Render in Cloud"}})()}),g&&(0,l.jsxs)("div",{style:{top:"100%",left:0,backgroundColor:"white",padding:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",borderRadius:"4px",marginTop:"5px",zIndex:1e3},children:[(0,l.jsx)("input",{type:"text",value:b,onChange:e=>y(e.target.value),style:{marginRight:"10px"}}),(0,l.jsx)("button",{onClick:()=>{h(!0),(async()=>{const e={videos:n.filter((e=>t.has(e.id))).map((e=>e.filepath.split("/").pop())),props:{selectedVideos:Array.from(t),videos:_,selectedTags:Array.from(a),useStaticFile:!0,composition_name:i,settings:c},output_file_name:b,composition_name:i};try{const t=await fetch(`${d.APIbaseUrl}/api/cloud-render`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();console.log("Cloud render initiated successfully"),m(e.download_url),h(!1),s(b)}else console.error("Failed to initiate cloud render"),h(!1)}catch(r){console.error("Error initiating cloud render:",r),h(!1)}})(),v(!1)},children:"Confirm"}),(0,l.jsx)("button",{onClick:()=>{v(!1),y(o)},children:"Cancel"})]})]})};function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(null,arguments)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}function N(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var R="function"===typeof Symbol&&Symbol.observable||"@@observable",A=function(){return Math.random().toString(36).substring(7).split("").join(".")},I={INIT:"@@redux/INIT"+A(),REPLACE:"@@redux/REPLACE"+A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A()}};function L(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function B(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(F(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(F(1));return n(B)(e,t)}if("function"!==typeof e)throw new Error(F(2));var a=e,o=t,i=[],s=i,l=!1;function u(){s===i&&(s=i.slice())}function c(){if(l)throw new Error(F(3));return o}function d(e){if("function"!==typeof e)throw new Error(F(4));if(l)throw new Error(F(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(F(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),i=null}}}function f(e){if(!L(e))throw new Error(F(7));if("undefined"===typeof e.type)throw new Error(F(8));if(l)throw new Error(F(9));try{l=!0,o=a(o,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:I.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(F(10));a=e,f({type:I.REPLACE})}})[R]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(F(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[R]=function(){return this},e},r}function U(e,t){return function(){return t(e.apply(this,arguments))}}function W(e,t){if("function"===typeof e)return U(e,t);if("object"!==typeof e||null===e)throw new Error(F(16));var n={};for(var r in e){var a=e[r];"function"===typeof a&&(n[r]=U(a,t))}return n}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var $=r.createContext(null);var V=function(e){e()},G=function(){return V};var H={notify:function(){},get:function(){return[]}};function K(e,t){var n,r=H;function a(){i.onStateChange&&i.onStateChange()}function o(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=G(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var i={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=H)},getListeners:function(){return r}};return i}var q="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const Y=function(e){var t=e.store,n=e.context,a=e.children,o=(0,r.useMemo)((function(){var e=K(t);return{store:t,subscription:e}}),[t]),i=(0,r.useMemo)((function(){return t.getState()}),[t]);q((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var s=n||$;return r.createElement(s.Provider,{value:o},a)};function X(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var J=n(219),Q=n.n(J),Z=n(2086),ee=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],te=["reactReduxForwardedRef"],ne=[],re=[null,null];function ae(e,t){var n=e[1];return[t.payload,n+1]}function oe(e,t,n){q((function(){return e.apply(void 0,t)}),n)}function ie(e,t,n,r,a,o,i){e.current=r,t.current=a,n.current=!1,o.current&&(o.current=null,i())}function se(e,t,n,r,a,o,i,s,l,u){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=r(f,a.current)}catch(h){n=h,d=h}n||(d=null),e===o.current?i.current||l():(o.current=e,s.current=e,i.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var le=function(){return[null,0]};function ue(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,i=n.methodName,s=void 0===i?"connectAdvanced":i,l=n.renderCountProp,u=void 0===l?void 0:l,c=n.shouldHandleStateChanges,d=void 0===c||c,f=n.storeKey,h=void 0===f?"store":f,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,v=void 0===g?$:g,b=X(n,ee),y=v;return function(t){var n=t.displayName||t.name||"Component",a=o(n),i=j({},b,{getDisplayName:o,methodName:s,renderCountProp:u,shouldHandleStateChanges:d,storeKey:h,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=b.pure;var c=l?r.useMemo:function(e){return e()};function f(n){var a=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=X(n,te);return[n.context,e,t]}),[n]),o=a[0],s=a[1],l=a[2],u=(0,r.useMemo)((function(){return o&&o.Consumer&&(0,Z.isContextConsumer)(r.createElement(o.Consumer,null))?o:y}),[o,y]),f=(0,r.useContext)(u),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var p=h?n.store:f.store,m=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,i)}(p)}),[p]),g=(0,r.useMemo)((function(){if(!d)return re;var e=K(p,h?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,h,f]),v=g[0],b=g[1],_=(0,r.useMemo)((function(){return h?f:j({},f,{subscription:v})}),[h,f,v]),x=(0,r.useReducer)(ae,ne,le),w=x[0][0],S=x[1];if(w&&w.error)throw w.error;var C=(0,r.useRef)(),E=(0,r.useRef)(l),k=(0,r.useRef)(),P=(0,r.useRef)(!1),T=c((function(){return k.current&&l===E.current?k.current:m(p.getState(),l)}),[p,w,l]);oe(ie,[E,C,P,l,T,k,b]),oe(se,[d,p,v,m,E,C,P,k,b,S],[p,v,m]);var M=(0,r.useMemo)((function(){return r.createElement(t,j({},T,{ref:s}))}),[s,t,T]);return(0,r.useMemo)((function(){return d?r.createElement(u.Provider,{value:_},M):M}),[u,M,_])}var p=l?r.memo(f):f;if(p.WrappedComponent=t,p.displayName=f.displayName=a,m){var g=r.forwardRef((function(e,t){return r.createElement(p,j({},e,{reactReduxForwardedRef:t}))}));return g.displayName=a,g.WrappedComponent=t,Q()(g,t)}return Q()(p,t)}}function ce(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function de(e,t){if(ce(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!ce(e[n[a]],t[n[a]]))return!1;return!0}function fe(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function he(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function pe(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=he(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=he(a),a=r(t,n)),a},r}}const me=[function(e){return"function"===typeof e?pe(e):void 0},function(e){return e?void 0:fe((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?fe((function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"===typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)})):void 0}];const ge=[function(e){return"function"===typeof e?pe(e):void 0},function(e){return e?void 0:fe((function(){return{}}))}];function ve(e,t,n){return j({},n,e,t)}const be=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var l=e(t,n,s);return i?a&&o(l,r)||(r=l):(i=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return ve}}];var ye=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _e(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function xe(e,t,n,r,a){var o,i,s,l,u,c=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,h=!1;function p(a,h){var p=!d(h,i),m=!c(a,o,h,i);return o=a,i=h,p&&m?(s=e(o,i),t.dependsOnOwnProps&&(l=t(r,i)),u=n(s,l,i)):p?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(l=t(r,i)),u=n(s,l,i)):m?function(){var t=e(o,i),r=!f(t,s);return s=t,r&&(u=n(s,l,i)),u}():u}return function(a,c){return h?p(a,c):(s=e(o=a,i=c),l=t(r,i),u=n(s,l,i),h=!0,u)}}function we(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,o=X(t,ye),i=n(e,o),s=r(e,o),l=a(e,o);return(o.pure?xe:_e)(i,s,l,e,o)}var Se=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Ce(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Ee(e,t){return e===t}function ke(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?ue:n,a=t.mapStateToPropsFactories,o=void 0===a?ge:a,i=t.mapDispatchToPropsFactories,s=void 0===i?me:i,l=t.mergePropsFactories,u=void 0===l?be:l,c=t.selectorFactory,d=void 0===c?we:c;return function(e,t,n,a){void 0===a&&(a={});var i=a,l=i.pure,c=void 0===l||l,f=i.areStatesEqual,h=void 0===f?Ee:f,p=i.areOwnPropsEqual,m=void 0===p?de:p,g=i.areStatePropsEqual,v=void 0===g?de:g,b=i.areMergedPropsEqual,y=void 0===b?de:b,_=X(i,Se),x=Ce(e,o,"mapStateToProps"),w=Ce(t,s,"mapDispatchToProps"),S=Ce(n,u,"mergeProps");return r(d,j({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:w,initMergeProps:S,pure:c,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:y},_))}}const Pe=ke();var je,Te=n(7950);function Me(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,r.useRef)(!0),o=(0,r.useRef)(n),i=a.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){a.current=!1,o.current=i}),[i]),i.result}je=Te.unstable_batchedUpdates,V=je;var Ne=Me,De=function(e,t){return Me((function(){return e}),t)},Oe="Invariant failed";var Fe=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},Re=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Ae=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Ie={top:0,right:0,bottom:0,left:0},Le=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Ie:n,a=e.border,o=void 0===a?Ie:a,i=e.padding,s=void 0===i?Ie:i,l=Fe(Re(t,r)),u=Fe(Ae(t,o)),c=Fe(Ae(u,s));return{marginBox:l,borderBox:Fe(t),paddingBox:u,contentBox:c,margin:r,border:o,padding:s}},Be=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Oe)}(!1),n},Ue=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Le({borderBox:l,border:o,margin:i,padding:s})},We=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Ue(e,t)},ze=function(e,t){var n={top:Be(t.marginTop),right:Be(t.marginRight),bottom:Be(t.marginBottom),left:Be(t.marginLeft)},r={top:Be(t.paddingTop),right:Be(t.paddingRight),bottom:Be(t.paddingBottom),left:Be(t.paddingLeft)},a={top:Be(t.borderTopWidth),right:Be(t.borderRightWidth),bottom:Be(t.borderBottomWidth),left:Be(t.borderLeftWidth)};return Le({borderBox:e,margin:n,padding:r,border:a})},$e=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ze(t,n)},Ve=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Ge(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||Ve(r)&&Ve(a)))return!1;var r,a;return!0}const He=function(e,t){var n;void 0===t&&(t=Ge);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}};const Ke=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function qe(e,t){}qe.bind(null,"warn"),qe.bind(null,"error");function Ye(){}function Xe(e,t,n){var r=t.map((function(t){var r=function(e,t){return j({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Je="Invariant failed";function Qe(e){this.message=e}function Ze(e,t){if(!e)throw new Qe(Je)}Qe.prototype.toString=function(){return this.message};var et=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ye,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Qe&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}P(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Xe(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Qe))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r.Component),tt=function(e){return e+1},nt=function(e,t){var n=e.droppableId===t.droppableId,r=tt(e.index),a=tt(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},rt=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},at=function(e){return"\n  The item has returned to its starting position\n  of "+tt(e.index)+"\n"},ot="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",it=function(e){return"\n  You have lifted an item in position "+tt(e.source.index)+"\n"},st=function(e){var t=e.destination;if(t)return nt(e.source,t);var n=e.combine;return n?rt(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},lt=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+at(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+nt(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+rt(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+at(e.source)+"\n  "},ut={x:0,y:0},ct=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},dt=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},ft=function(e,t){return e.x===t.x&&e.y===t.y},ht=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},pt=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},mt=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},gt=function(e,t){return Math.min.apply(Math,t.map((function(t){return mt(e,t)})))},vt=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},bt=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},yt=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},_t=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Fe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Fe(e)},xt=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,o=function(e,t){return t?bt(e,t.scroll.diff.displacement):e}(t.marginBox,a),i=function(e,t,n){var r;return n&&n.increasedBy?j({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:_t(i,a)}},wt=function(e,t){e.frame||Ze(!1);var n=e.frame,r=dt(t,n.scroll.initial),a=ht(r),o=j({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return j({},e,{frame:o,subject:xt({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function St(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Ct(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Et(e,t){if(e.find)return e.find(t);var n=Ct(e,t);return-1!==n?e[n]:void 0}function kt(e){return Array.prototype.slice.call(e)}var Pt=He((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),jt=He((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Tt=He((function(e){return St(e)})),Mt=He((function(e){return St(e)})),Nt=He((function(e,t){var n=Mt(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Dt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Ot(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ft=He((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Rt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},At={point:ut,value:0},It={invisible:{},visible:{},all:[]},Lt={displaced:It,displacedBy:At,at:null},Bt=function(e,t){return function(n){return e<=n&&n<=t}},Ut=function(e){var t=Bt(e.top,e.bottom),n=Bt(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;var i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!i||!s)||(i&&o||s&&a)}},Wt=function(e){var t=Bt(e.top,e.bottom),n=Bt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},zt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$t={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Vt=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,i=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:ut;return bt(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(i,n,o)&&function(e,t,n){return n(t)(e)}(i,r,o)},Gt=function(e){return Vt(j({},e,{isVisibleThroughFrameFn:Ut}))},Ht=function(e){return Vt(j({},e,{isVisibleThroughFrameFn:Wt}))};function Kt(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Fe(Re(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!Gt({target:s,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var o=a[e];return!o||o.shouldAnimate}(l,i,o),c={draggableId:l,shouldAnimate:u};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function qt(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:It,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function Yt(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,o=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,u=Rt(t,r);if(null==s)return qt({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=Et(n,(function(e){return e.descriptor.index===s}));if(!c)return qt({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=Ft(t,n),f=n.indexOf(c);return{displaced:Kt({afterDragging:d.slice(f),destination:r,displacedBy:o,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Xt(e,t){return Boolean(t.effected[e])}var Jt=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,o=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||Ze(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var o=a.index,i=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return i<s||i>(n?l:l+1)?null:i}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:i});return null==d?null:Yt({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var i=a.draggableId,s=r[i].descriptor.index;return Xt(i,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:a,combine:c.combine,afterCritical:u});return null==f?null:Yt({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},Qt=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=Ot(n);a||Ze(!1);var o=a.draggableId,i=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Xt(r,n)?o?ut:ht(a.point):o?a.point:ut}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return ct(i,s)},Zt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},en=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},tn=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return pt(t.line,n.marginBox[t.end]+Zt(t,r),en(t,n.marginBox,r))},nn=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return pt(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),en(t,n.marginBox,r))},rn=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,o=e.afterCritical,i=Nt(a.descriptor.id,r),s=n.page,l=a.axis;if(!i.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return pt(t.line,n.contentBox[t.start]+Zt(t,r),en(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:s});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var f=r[d];if(Xt(d,o))return nn({axis:l,moveRelativeTo:f.page,isMoving:s});var h=Ue(f.page,c.point);return nn({axis:l,moveRelativeTo:h,isMoving:s})}var p=i[i.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Xt(p.descriptor.id,o)){var m=Ue(p.page,ht(o.displacedBy.point));return tn({axis:l,moveRelativeTo:m,isMoving:s})}return tn({axis:l,moveRelativeTo:p.page,isMoving:s})},an=function(e,t){var n=e.frame;return n?ct(t,n.scroll.diff.displacement):t},on=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.afterCritical,i=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?rn({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o}):Qt({impact:t,draggables:a,afterCritical:o}):i}(e),n=e.droppable;return n?an(n,t):t},sn=function(e,t){var n=dt(t,e.scroll.initial),r=ht(n);return{frame:Fe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function ln(e,t){return e.map((function(e){return t[e]}))}var un=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return ct(e.scroll.diff.displacement,t)}(e.viewport,t),a=dt(r,n.page.borderBox.center);return ct(n.client.borderBox.center,a)},cn=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=void 0!==i&&i,l=dt(r,t.page.borderBox.center),u={target:bt(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:a};return s?function(e){return Vt(j({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Bt(e.top,e.bottom),r=Bt(e.left,e.right);return function(e){return t===zt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):Ht(u)},dn=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,o=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=Nt(r.descriptor.id,a),d=Rt(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Dt(o))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return j({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?i(l):null;var u=Ft(n,a);if(!l)return u.length?i(u[u.length-1].descriptor.id):null;var c=Ct(u,(function(e){return e.descriptor.id===l}));-1===c&&Ze(!1);var d=c-1;return d<0?null:i(u[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||Jt({isMovingForward:t,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:c,previousImpact:o,viewport:i,afterCritical:u});if(!f)return null;var h=on({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:u});if(cn({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:un({pageBorderBoxCenter:h,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null};var p=dt(h,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,o=e.maxScrollChange,i=sn(n,ct(n.scroll.current,o)),s=r.frame?wt(r,ct(r.frame.scroll.current,o)):r,l=t.displaced,u=Kt({afterDragging:ln(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),c=Kt({afterDragging:ln(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,u,c];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:d[e]=!0})),j({},t,{displaced:{all:l.all,invisible:d,visible:f}})}({impact:f,viewport:i,destination:r,draggables:a,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}},fn=function(e){var t=e.subject.active;return t||Ze(!1),t},hn=function(e,t){var n=e.page.borderBox.center;return Xt(e.descriptor.id,t)?dt(n,t.displacedBy.point):n},pn=function(e,t){var n=e.page.borderBox;return Xt(e.descriptor.id,t)?bt(n,ht(t.displacedBy.point)):n},mn=He((function(e,t){var n=t[e.line];return{value:n,point:pt(e.line,n)}})),gn=function(e,t){return j({},e,{scroll:j({},e.scroll,{max:t})})},vn=function(e,t,n){var r=e.frame;Rt(t,e)&&Ze(!1),e.subject.withPlaceholder&&Ze(!1);var a=mn(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return pt(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],o=Nt(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-a;return o<=0?null:pt(r.line,o)}(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return j({},e,{subject:xt({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame})});var s=o?ct(r.scroll.max,o):r.scroll.max,l=gn(r,s);return j({},e,{subject:xt({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l}),frame:l})},bn=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,o=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,o=e.viewport,i=r.subject.active;if(!i)return null;var s=r.axis,l=Bt(i[s.start],i[s.end]),u=Tt(a).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Ut(o.frame)(fn(e))})).filter((function(e){var n=fn(e);return t?i[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<i[s.crossAxisStart]})).filter((function(e){var t=fn(e),n=Bt(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(i[s.start])||n(i[s.end])})).sort((function(e,n){var r=fn(e)[s.crossAxisStart],a=fn(n)[s.crossAxisStart];return t?r-a:a-r})).filter((function(e,t,n){return fn(e)[s.crossAxisStart]===fn(n[0])[s.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return Bt(fn(e)[s.start],fn(e)[s.end])(n[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return fn(e)[s.start]-fn(t)[s.start]}))[0]:u.sort((function(e,t){var r=gt(n,yt(fn(e))),a=gt(n,yt(fn(t)));return r!==a?r-a:fn(e)[s.start]-fn(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:i,viewport:s});if(!u)return null;var c=Nt(u.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,o=e.afterCritical,i=a.filter((function(e){return Ht({target:pn(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var a=mt(t,an(r,hn(e,o))),i=mt(t,an(r,hn(n,o)));return a<i?-1:i<a?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:u,insideDestination:c,afterCritical:l}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,o=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:It,displacedBy:At,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},c=on({impact:u,draggable:a,droppable:i,draggables:o,afterCritical:l}),d=Rt(a,i)?i:vn(i,a,o);return cn({draggable:a,destination:d,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var f=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),h=function(){var e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||f?e:e+1}(),p=mn(i.axis,a.displaceBy);return Yt({draggable:a,insideDestination:r,destination:i,viewport:s,displacedBy:p,last:It,index:h})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:l});if(!f)return null;var h=on({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l});return{clientSelection:un({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:f,scrollJumpRequest:null}},yn=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},_n=function(e){var t=e.state,n=e.type,r=function(e,t){var n=yn(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],i=r||o,s=i.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,h=f.draggables,p=f.droppables;return l?dn({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:i,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):bn({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:i,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function xn(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function wn(e){var t=Bt(e.top,e.bottom),n=Bt(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Sn(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=Tt(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(wn(a)(t.center))return!0;var o=e.axis,i=a.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],u=Bt(a[o.crossAxisStart],a[o.crossAxisEnd]),c=u(s),d=u(l);return!c&&!d||(c?s<i:l>i)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=pt(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:mt(a,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var Cn=function(e,t){return Fe(bt(e,t))};function En(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var kn=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,o=e.previousImpact,i=e.viewport,s=e.afterCritical,l=Cn(n.page.borderBox,t),u=Sn({pageBorderBox:l,draggable:n,droppables:a});if(!u)return Lt;var c=a[u],d=Nt(c.descriptor.id,r),f=function(e,t){var n=e.frame;return n?Cn(t,n.scroll.diff.value):t}(c,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,o=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=mn(a.axis,t.displaceBy),u=l.value,c=n[s.start],d=n[s.end],f=Et(Ft(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[s.size]/4,o=Xt(t,i),l=En({displaced:r.displaced,id:t});return o?l?d>n[s.start]+a&&d<n[s.end]-a:c>n[s.start]-u+a&&c<n[s.end]-u-a:l?d>n[s.start]+u+a&&d<n[s.end]+u-a:c>n[s.start]+a&&c<n[s.end]-a}));return f?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.last,i=e.viewport,s=e.afterCritical,l=r.axis,u=mn(r.axis,n.displaceBy),c=u.value,d=t[l.start],f=t[l.end],h=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Et(Ft(n,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Xt(t,s),a=En({displaced:o,id:t});return r?a?f<=n:d<n-c:a?f<=n+c:d<n})),inHomeList:Rt(n,r)});return Yt({draggable:n,insideDestination:a,destination:r,viewport:i,last:o,displacedBy:u,index:h})}({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:i,afterCritical:s})},Pn=function(e,t){var n;return j({},e,((n={})[t.descriptor.id]=t,n))},jn=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=yn(t),o=yn(n);if(!a)return r;if(a===o)return r;var i=r[a];if(!i.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Ze(!1);var n=e.frame;if(!n)return j({},e,{subject:xt({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Ze(!1);var a=gn(n,r);return j({},e,{subject:xt({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(i);return Pn(r,s)},Tn=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,o=e.impact,i=e.scrollJumpRequest,s=a||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=dt(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:ct(t.initial.client.borderBoxCenter,c)},f={selection:ct(d.selection,s.scroll.current),borderBoxCenter:ct(d.borderBoxCenter,s.scroll.current),offset:ct(d.offset,s.scroll.diff.value)},h={client:d,page:f};if("COLLECTING"===t.phase)return j({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:h});var p=l.draggables[t.critical.draggable.id],m=o||kn({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,o=e.impact,i=jn({previousImpact:a,impact:o,droppables:r}),s=yn(o);if(!s)return i;var l=r[s];if(Rt(t,l))return i;if(l.subject.withPlaceholder)return i;var u=vn(l,t,n);return Pn(i,u)}({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return j({},t,{current:h,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};var Mn=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,o=e.forceShouldAnimate,i=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(i.all,r);return j({},t,{displaced:Kt({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i})})},Nn=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.viewport,i=e.afterCritical,s=on({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i});return un({pageBorderBoxCenter:s,draggable:n,viewport:o})},Dn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Ze(!1);var a=t.impact,o=r||t.viewport,i=n||t.dimensions,s=i.draggables,l=i.droppables,u=s[t.critical.draggable.id],c=yn(a);c||Ze(!1);var d=l[c],f=Mn({impact:a,viewport:o,destination:d,draggables:s}),h=Nn({impact:f,draggable:u,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Tn({impact:f,clientSelection:h,state:t,dimensions:i,viewport:o})},On=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,o=mn(n.axis,t.displaceBy),i=Nt(n.descriptor.id,r),s=i.indexOf(t);-1===s&&Ze(!1);var l,u=i.slice(s+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};return{impact:{displaced:Kt({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},Fn=function(e){0},Rn=function(e){0},An=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||Ze(!1),t}(n[t]),i=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=Ue(t.client,n),o=We(a,r);return j({},t,{placeholder:j({},t.placeholder,{client:a}),client:a,page:o})}({draggable:e,offset:ct(a,i),initialWindowScroll:r.scroll.initial});return s}))},In=function(e){return"SNAP"===e.movementMode},Ln=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Pn(e.droppables,t)}}(e.dimensions,t);return!In(e)||n?Tn({state:e,dimensions:r}):Dn({state:e,dimensions:r})};function Bn(e){return e.isDragging&&"SNAP"===e.movementMode?j({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Un={phase:"IDLE",completed:null,shouldFlush:!1},Wn=function(e,t){if(void 0===e&&(e=Un),"FLUSH"===t.type)return j({},Un,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Ze(!1);var n=t.payload,r=n.critical,a=n.clientSelection,o=n.viewport,i=n.dimensions,s=n.movementMode,l=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],c={selection:a,borderBoxCenter:l.client.borderBox.center,offset:ut},d={client:c,page:{selection:ct(c.selection,o.scroll.initial),borderBoxCenter:ct(c.selection,o.scroll.initial),offset:ct(c.selection,o.scroll.diff.value)}},f=Tt(i.droppables).every((function(e){return!e.isFixedOnPage})),h=On({draggable:l,home:u,draggables:i.draggables,viewport:o}),p=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:i,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:h.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Ze(!1),j({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ze(!1),function(e){var t=e.state,n=e.published;Fn();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return wt(n,e.scroll)})),a=j({},t.dimensions.droppables,{},Pt(r)),o=jt(An({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),i=j({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete i[e]}));var s={droppables:a,draggables:i},l=yn(t.impact),u=l?s.droppables[l]:null,c=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],f=On({draggable:c,home:d,draggables:i,viewport:t.viewport}),h=f.impact,p=f.afterCritical,m=u&&u.isCombineEnabled?t.impact:h,g=kn({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});Rn();var v=j({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:j({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;xn(e)||Ze(!1);var m=t.payload.client;return ft(m,e.current.client.selection)?e:Tn({state:e,clientSelection:m,impact:In(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Bn(e);if("COLLECTING"===e.phase)return Bn(e);xn(e)||Ze(!1);var g=t.payload,v=g.id,b=g.newScroll,y=e.dimensions.droppables[v];if(!y)return e;var _=wt(y,b);return Ln(e,_,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;xn(e)||Ze(!1);var x=t.payload,w=x.id,S=x.isEnabled,C=e.dimensions.droppables[w];C||Ze(!1),C.isEnabled===S&&Ze(!1);var E=j({},C,{isEnabled:S});return Ln(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;xn(e)||Ze(!1);var k=t.payload,P=k.id,T=k.isCombineEnabled,M=e.dimensions.droppables[P];M||Ze(!1),M.isCombineEnabled===T&&Ze(!1);var N=j({},M,{isCombineEnabled:T});return Ln(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;xn(e)||Ze(!1),e.isWindowScrollAllowed||Ze(!1);var D=t.payload.newScroll;if(ft(e.viewport.scroll.current,D))return Bn(e);var O=sn(e.viewport,D);return In(e)?Dn({state:e,viewport:O}):Tn({state:e,viewport:O})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!xn(e))return e;var F=t.payload.maxScroll;if(ft(F,e.viewport.scroll.max))return e;var R=j({},e.viewport,{scroll:j({},e.viewport.scroll,{max:F})});return j({phase:"DRAGGING"},e,{viewport:R})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Ze(!1);var A=_n({state:e,type:t.type});return A?Tn({state:e,impact:A.impact,clientSelection:A.clientSelection,scrollJumpRequest:A.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var I=t.payload.reason;return"COLLECTING"!==e.phase&&Ze(!1),j({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:I})}if("DROP_ANIMATE"===t.type){var L=t.payload,B=L.completed,U=L.dropDuration,W=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ze(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:U,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},zn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},$n=function(){return{type:"COLLECTION_STARTING",payload:null}},Vn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Gn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Hn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Kn=function(e){return{type:"MOVE",payload:e}},qn=function(){return{type:"MOVE_UP",payload:null}},Yn=function(){return{type:"MOVE_DOWN",payload:null}},Xn=function(){return{type:"MOVE_RIGHT",payload:null}},Jn=function(){return{type:"MOVE_LEFT",payload:null}},Qn=function(e){return{type:"DROP_COMPLETE",payload:e}},Zn=function(e){return{type:"DROP",payload:e}},er=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var tr="cubic-bezier(.2,1,.1,1)",nr={drop:0,combining:.7},rr={drop:.75},ar=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",or={fluid:"opacity "+ar,snap:"transform "+ar+", opacity "+ar,drop:function(e){var t=e+"s "+tr;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+ar,placeholder:"height "+ar+", width "+ar+", margin "+ar},ir=function(e){return ft(e,ut)?null:"translate("+e.x+"px, "+e.y+"px)"},sr=ir,lr=function(e,t){var n=ir(e);return n?t?n+" scale("+rr.drop+")":n:null},ur=.33,cr=.55,dr=cr-ur,fr=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),o=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Ze(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Ze(!1);var i=a.critical,s=a.dimensions,l=s.draggables[a.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,o=e.viewport,i=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:j({},r,{displaced:It}),didDropInsideDroppable:!0}:{impact:Mn({draggables:t,impact:i,destination:a,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),c=u.impact,d=u.didDropInsideDroppable,f=d?Dt(c):null,h=d?Ot(c):null,p={index:i.draggable.index,droppableId:i.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:a.movementMode,destination:f,combine:h},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,o=e.afterCritical,i=r.draggables,s=r.droppables,l=yn(t),u=l?s[l]:null,c=s[n.descriptor.droppableId],d=Nn({impact:t,draggable:n,draggables:i,afterCritical:o,droppable:u||c,viewport:a});return dt(d,n.client.borderBox.center)}({impact:c,draggable:l,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),v={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:c};if(!ft(a.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,a=mt(t,n);if(a<=0)return ur;if(a>=1500)return cr;var o=ur+dr*(a/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:a.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:v}))}else n(Qn({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},hr=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function pr(e){var t=e.onWindowScroll;var n=Ke((function(){t(hr())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=Ye;function o(){return a!==Ye}return{start:function(){o()&&Ze(!1),a=Xe(window,[r])},stop:function(){o()||Ze(!1),n.cancel(),a(),a=Ye},isActive:o}}var mr=function(e){var t=pr({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},gr=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Ct(e,(function(e){return e.timerId===t}));-1===n&&Ze(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},vr=function(e,t){Fn(),t(),Rn()},br=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},yr=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},_r=function(e,t){var n=function(e,t){var n=gr(),r=null,a=function(n){r||Ze(!1),r=null,vr(0,(function(){return yr(e().onDragEnd,n,t,lt)}))};return{beforeCapture:function(t,n){r&&Ze(!1),vr(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Ze(!1),vr(0,(function(){var r=e().onBeforeDragStart;r&&r(br(t,n))}))},start:function(a,o){r&&Ze(!1);var i=br(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add((function(){vr(0,(function(){return yr(e().onDragStart,i,t,it)}))}))},update:function(a,o){var i=Dt(o),s=Ot(o);r||Ze(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);l&&(r.lastCritical=a);var u,c,d=(c=i,!(null==(u=r.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));d&&(r.lastLocation=i);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(f&&(r.lastCombine=s),l||d||f){var h=j({},br(a,r.mode),{combine:s,destination:i});n.add((function(){vr(0,(function(){return yr(e().onDragUpdate,h,t,st)}))}))}},flush:function(){r||Ze(!1),n.flush()},drop:a,abort:function(){if(r){var e=j({},br(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},xr=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Ze(!1),e.dispatch(Qn({completed:r.completed}))}else t(n)}}},wr=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Xe(window,[o])}))}}}},Sr=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Zn({reason:r.reason})))}}}},Cr=z,Er=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,o=e.getResponders,i=e.announce,s=e.autoScroller;return B(Wn,Cr(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(F(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return r=z.apply(void 0,o)(n.dispatch),O(O({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var o=a.payload,i=o.id,s=o.clientSelection,l=o.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(Qn({completed:u.completed})),"IDLE"!==n().phase&&Ze(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(c),f=d.critical,h=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:h,clientSelection:s,movementMode:l,viewport:p}})}else t(a)}}}}(n),fr,xr,wr,Sr,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Ze(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(s),mr,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),_r(o,i))))};var kr=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,o=dt({x:n,y:t},{x:a,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Pr=function(){var e=document.documentElement;return e||Ze(!1),e},jr=function(){var e=Pr();return kr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Tr=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;Fn();var a=function(){var e=hr(),t=jr(),n=e.y,r=e.x,a=Pr(),o=a.clientWidth,i=a.clientHeight;return{frame:Fe({top:n,left:r,right:r+o,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:ut,displacement:ut}}}}(),o=a.scroll.current,i=t.droppable,s=r.droppable.getAllByType(i.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),u={draggables:jt(l),droppables:Pt(s)};return Rn(),{dimensions:u,critical:t,viewport:a}};function Mr(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Nr=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,o=function(){a||(n.collectionStarting(),a=requestAnimationFrame((function(){a=null,Fn();var e=r,o=e.additions,i=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(ut)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:l,removals:Object.keys(i),modified:u};r={additions:{},removals:{},modified:{}},Rn(),n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Ze(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Mr(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Mr(e,a,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Ze(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Ze(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Ze(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Ze(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(a);return n={critical:i,unsubscribe:s},Tr({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},Dr=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Or=function(e){window.scrollBy(e.x,e.y)},Fr=He((function(e){return Tt(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Rr=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var o=function(e,t){var n=Et(Fr(t),(function(t){return t.frame||Ze(!1),wn(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},Ar=.25,Ir=.05,Lr=28,Br=function(e){return Math.pow(e,2)},Ur={stopDampeningAt:1200,accelerateAt:360},Wr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},zr=Ur.accelerateAt,$r=Ur.stopDampeningAt,Vr=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Lr;if(e===t.startScrollingFrom)return 1;var n=Wr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=Lr*Br(1-n);return Math.ceil(r)}(t,n);return 0===o?0:a?Math.max(function(e,t){var n=t,r=$r,a=Date.now()-n;if(a>=$r)return e;if(a<zr)return 1;var o=Wr({startOfRange:zr,endOfRange:r,current:a}),i=e*Br(o);return Math.ceil(i)}(o,r),1):o},Gr=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,o=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:e[t.size]*Ar,maxScrollValueAt:e[t.size]*Ir}}(t,a);return n[a.end]<n[a.start]?Vr({distanceToEdge:n[a.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o}):-1*Vr({distanceToEdge:n[a.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o})},Hr=vt((function(e){return 0===e?0:e})),Kr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,o=e.shouldUseTimeDampening,i={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=Gr({container:n,distanceToEdges:i,dragStartTime:t,axis:zt,shouldUseTimeDampening:o}),l=Gr({container:n,distanceToEdges:i,dragStartTime:t,axis:$t,shouldUseTimeDampening:o}),u=Hr({x:l,y:s});if(ft(u,ut))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,o=n.width>t.width;return o||a?o&&a?null:{x:o?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?ft(c,ut)?null:c:null},qr=vt((function(e){return 0===e?0:e>0?1:-1})),Yr=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,o=ct(n,a),i={x:e(o.x,r.x),y:e(o.y,r.y)};return ft(i,ut)?null:i}}(),Xr=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=qr(r),i=Yr({max:a,current:n,change:o});return!i||(0!==o.x&&0===i.x||0!==o.y&&0===i.y)},Jr=function(e,t){return Xr({current:e.scroll.current,max:e.scroll.max,change:t})},Qr=function(e,t){var n=e.frame;return!!n&&Xr({current:n.scroll.current,max:n.scroll.max,change:t})},Zr=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=Kr({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&Jr(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:i,shouldUseTimeDampening:r});if(l)return void a(l)}var u=Rr({center:i,destination:yn(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=Kr({dragStartTime:a,container:i.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&Qr(t,s)?s:null}({dragStartTime:n,droppable:u,subject:s,center:i,shouldUseTimeDampening:r});c&&o(u.descriptor.id,c)}},ea=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!Qr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Qr(e,t)?Yr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=dt(t,r);return n(e.descriptor.id,a),dt(t,a)},o=function(e,t,n){if(!e)return n;if(!Jr(t,n))return n;var a=function(e,t){if(!Jr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Yr({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var o=dt(n,a);return r(o),dt(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=yn(e.impact);r||Ze(!1);var i=a(e.dimensions.droppables[r],n);if(i){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,i);l&&function(e,n){var r=ct(e.current.client.selection,n);t({client:r})}(e,l)}}}},ta=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Ke(t),a=Ke(n),o=null,i=function(e){o||Ze(!1);var t=o,n=t.shouldUseTimeDampening,i=t.dragStartTime;Zr({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:n})};return{start:function(e){Fn(),o&&Ze(!1);var t=Date.now(),n=!1,r=function(){n=!0};Zr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},Rn(),n&&i(e)},stop:function(){o&&(r.cancel(),a.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),o=ea({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}},na="data-rbd",ra=function(){var e=na+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),aa=function(){var e=na+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),oa=function(){var e=na+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ia={contextId:na+"-scroll-container-context-id"},sa=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},la="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,ua=function(){var e=document.querySelector("head");return e||Ze(!1),e},ca=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function da(e,t){var n=Ne((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(ra.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+or.outOfTheWay+";\n    ";return{selector:n(aa.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(oa.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:sa(a,"always"),resting:sa(a,"resting"),dragging:sa(a,"dragging"),dropAnimating:sa(a,"dropAnimating"),userCancel:sa(a,"userCancel")}}(e)}),[e]),a=(0,r.useRef)(null),o=(0,r.useRef)(null),i=De(He((function(e){var t=o.current;t||Ze(!1),t.textContent=e})),[]),s=De((function(e){var t=a.current;t||Ze(!1),t.textContent=e}),[]);la((function(){(a.current||o.current)&&Ze(!1);var r=ca(t),l=ca(t);return a.current=r,o.current=l,r.setAttribute(na+"-always",e),l.setAttribute(na+"-dynamic",e),ua().appendChild(r),ua().appendChild(l),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Ze(!1),ua().removeChild(t),e.current=null};e(a),e(o)}}),[t,s,i,n.always,n.resting,e]);var l=De((function(){return i(n.dragging)}),[i,n.dragging]),u=De((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),c=De((function(){o.current&&i(n.resting)}),[i,n.resting]);return Ne((function(){return{dragging:l,dropping:u,resting:c}}),[l,u,c])}var fa=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ha(e){return e instanceof fa(e).HTMLElement}function pa(e,t){var n="["+ra.contextId+'="'+e+'"]',r=kt(document.querySelectorAll(n));if(!r.length)return null;var a=Et(r,(function(e){return e.getAttribute(ra.draggableId)===t}));return a&&ha(a)?a:null}function ma(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Ze(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return St(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Ze(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return St(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var ga=r.createContext(null),va=function(){var e=document.body;return e||Ze(!1),e},ba={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var ya=0,_a={separator:"::"};function xa(e,t){return void 0===t&&(t=_a),Ne((function(){return""+e+t.separator+ya++}),[t.separator,e])}var wa=r.createContext(null);function Sa(e){0}function Ca(e,t){Sa()}function Ea(){Ca()}function ka(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),t}var Pa,ja=((Pa={})[13]=!0,Pa[9]=!0,Pa),Ta=function(e){ja[e.keyCode]&&e.preventDefault()},Ma=function(){var e="visibilitychange";return"undefined"===typeof document?e:Et([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Na,Da={type:"IDLE"};function Oa(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var i={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);"PENDING"!==s.type&&Ze(!1);var l=s.point;if(u=l,c=i,Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5){var u,c;e.preventDefault();var d=s.actions.fluidLift(i);a({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ta(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Ze(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Ma,fn:t}]}function Fa(){}var Ra=((Na={})[34]=!0,Na[33]=!0,Na[36]=!0,Na[35]=!0,Na);function Aa(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Ra[r.keyCode]?r.preventDefault():Ta(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ma,fn:n}]}var Ia={type:"IDLE"};var La={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Ba(e,t){if(null==t)return!1;if(Boolean(La[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Ba(e,t.parentElement)}function Ua(e,t){var n=t.target;return!!ha(n)&&Ba(e,n)}var Wa=function(e){return Fe(e.getBoundingClientRect()).center};var za=function(){var e="matches";return"undefined"===typeof document?e:Et([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function $a(e,t){return null==e?null:e[za](t)?e:$a(e.parentElement,t)}function Va(e,t){return e.closest?e.closest(t):$a(e,t)}function Ga(e,t){var n,r=t.target;if(!((n=r)instanceof fa(n).Element))return null;var a=function(e){return"["+ra.contextId+'="'+e+'"]'}(e),o=Va(r,a);return o&&ha(o)?o:null}function Ha(e){e.preventDefault()}function Ka(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function qa(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(a);return!!o&&(!!o.options.isEnabled&&!!Dr(n.getState(),a))}function Ya(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,o=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent;if(!qa({lockAPI:t,store:r,registry:a,draggableId:o}))return null;var l=a.draggable.getById(o),u=function(e,t){var n="["+aa.contextId+'="'+e+'"]',r=Et(kt(document.querySelectorAll(n)),(function(e){return e.getAttribute(aa.id)===t}));return r&&ha(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&Ua(u,s))return null;var c=t.claim(i||Ye),d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(c)}var p=function(e,t){Ka({expected:e,phase:d,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var o=Xe(window,[{eventName:"click",fn:Ha,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Zn({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Ze(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",j({isActive:function(){return Ka({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}var g={isActive:function(){return Ka({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Ke((function(e){p((function(){return Kn({client:e})}))}));return j({},m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(qn)},moveRight:function(){return p(Xn)},moveDown:function(){return p(Yn)},moveLeft:function(){return p(Jn)}};return m({liftActionArgs:{id:o,clientSelection:Wa(u),movementMode:"SNAP"},cleanup:Ye,actions:e})},abort:function(){Ka({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}};return g}var Xa=[function(e){var t=(0,r.useRef)(Da),n=(0,r.useRef)(Ye),a=Ne((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,s,{sourceEvent:t});if(a){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),c(a,o)}}}}}}),[e]),o=Ne((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=De((function(){n.current=Xe(window,[o,a],{passive:!1,capture:!0})}),[o,a]),s=De((function(){"IDLE"!==t.current.type&&(t.current=Da,n.current(),i())}),[i]),l=De((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),u=De((function(){var e=Oa({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Xe(window,e,{capture:!0,passive:!1})}),[l,s]),c=De((function(e,n){"IDLE"!==t.current.type&&Ze(!1),t.current={type:"PENDING",point:n,actions:e},u()}),[u]);la((function(){return i(),function(){n.current()}}),[i])},function(e){var t=(0,r.useRef)(Fa),n=Ne((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var o=e.tryGetLock(r,l,{sourceEvent:n});if(o){n.preventDefault();var i=!0,s=o.snapLift();t.current(),t.current=Xe(window,Aa(s,l),{capture:!0,passive:!1})}}}function l(){i||Ze(!1),i=!1,t.current(),a()}}}}),[e]),a=De((function(){t.current=Xe(window,[n],{passive:!1,capture:!0})}),[n]);la((function(){return a(),function(){t.current()}}),[a])},function(e){var t=(0,r.useRef)(Ia),n=(0,r.useRef)(Ye),a=De((function(){return t.current}),[]),o=De((function(e){t.current=e}),[]),i=Ne((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var o=t.touches[0],i={x:o.clientX,y:o.clientY};n.current(),f(a,i)}}}}}}),[e]),s=De((function(){n.current=Xe(window,[i],{capture:!0,passive:!1})}),[i]),l=De((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Ia),n.current(),s())}),[s,o]),u=De((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),c=De((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:l,getPhase:a},r=Xe(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],o={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Ze(!1);var a=e.touches[0];if(a&&a.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Ma,fn:t}]}(t),e),o=Xe(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Ma,fn:t}]}(t),e);n.current=function(){r(),o()}}),[u,a,l]),d=De((function(){var e=a();"PENDING"!==e.type&&Ze(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,o]),f=De((function(e,t){"IDLE"!==a().type&&Ze(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,a,o,d]);la((function(){return s(),function(){n.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Ia))}}),[a,s,o]),la((function(){return Xe(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Ja(e){var t=e.contextId,n=e.store,a=e.registry,o=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?Xa:[],o||[]),l=(0,r.useState)((function(){return function(){var e=null;function t(){e||Ze(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Ze(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],u=De((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);la((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();u(e,t),e=t}))}),[l,n,u]),la((function(){return l.tryAbandon}),[l.tryAbandon]);var c=De((function(e){return qa({lockAPI:l,registry:a,store:n,draggableId:e})}),[l,a,n]),d=De((function(e,r,o){return Ya({lockAPI:l,registry:a,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,a,n]),f=De((function(e){return function(e,t){var n=Ga(e,t);return n?n.getAttribute(ra.draggableId):null}(t,e)}),[t]),h=De((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),p=De((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=De(l.isClaimed,[l]),g=Ne((function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}}),[c,d,f,h,p,m]);Sa();for(var v=0;v<s.length;v++)s[v](g)}function Qa(e){return e.current||Ze(!1),e.current}function Za(e){var t=e.contextId,n=e.setCallbacks,a=e.sensors,o=e.nonce,i=e.dragHandleUsageInstructions,s=(0,r.useRef)(null);Ea();var l=ka(e),u=De((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),c=function(e){var t=Ne((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),j(e.style,ba),va().appendChild(e),function(){setTimeout((function(){var t=va();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),De((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,a=xa("hidden-text",{separator:"-"}),o=Ne((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:a}).contextId+"-"+e.uniqueId;var e}),[a,t]);return(0,r.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",va().appendChild(e),function(){var t=va();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:i}),f=da(t,o),h=De((function(e){Qa(s).dispatch(e)}),[]),p=Ne((function(){return W({publishWhileDragging:zn,updateDroppableScroll:Vn,updateDroppableIsEnabled:Gn,updateDroppableIsCombineEnabled:Hn,collectionStarting:$n},h)}),[h]),m=function(){var e=Ne(ma,[]);return(0,r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=Ne((function(){return Nr(m,p)}),[m,p]),v=Ne((function(){return ta(j({scrollWindow:Or,scrollDroppable:g.scrollDroppable},W({move:Kn},h)))}),[g.scrollDroppable,h]),b=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),a=(0,r.useRef)(null),o=(0,r.useRef)(!1),i=De((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=De((function(t){var n=pa(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=De((function(e,t){n.current===e&&(n.current=t)}),[]),u=De((function(){a.current||o.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=n.current;e&&s(e)})))}),[s]),c=De((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(ra.draggableId)===e&&(n.current=e)}),[]);return la((function(){return o.current=!0,function(){o.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),Ne((function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}}),[i,c,u,l])}(t),y=Ne((function(){return Er({announce:c,autoScroller:v,dimensionMarshal:g,focusMarshal:b,getResponders:u,styleMarshal:f})}),[c,v,g,b,u,f]);s.current=y;var _=De((function(){var e=Qa(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=De((function(){var e=Qa(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Ne((function(){return{isDragging:x,tryAbort:_}}),[x,_]));var w=De((function(e){return Dr(Qa(s).getState(),e)}),[]),S=De((function(){return xn(Qa(s).getState())}),[]),C=Ne((function(){return{marshal:g,focus:b,contextId:t,canLift:w,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:m}}),[t,g,d,b,w,S,m]);return Ja({contextId:t,store:y,registry:m,customSensors:a,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((function(){return _}),[_]),r.createElement(wa.Provider,{value:C},r.createElement(Y,{context:ga,store:y},e.children))}var eo=0;function to(e){var t=Ne((function(){return""+eo++}),[]),n=e.dragHandleUsageInstructions||ot;return r.createElement(et,null,(function(a){return r.createElement(Za,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var no=function(e){return function(t){return e===t}},ro=no("scroll"),ao=no("auto"),oo=(no("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),io=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return oo(n,ro)||oo(n,ao)},so=function e(t){return null==t||t===document.body||t===document.documentElement?null:io(t)?t:e(t.parentElement)},lo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},uo=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},co=function(e){return{closestScrollable:so(e),isFixedOnPage:uo(e)}},fo=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,o=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=$e(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,s=Re({top:r,right:i,bottom:o,left:a},n.border);return Le({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,u),d=We(c,a),f=function(){if(!u)return null;var e=$e(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:We(e,a),scroll:lo(u),scrollSize:t,shouldClipSubject:l}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,o=e.direction,i=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=kr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:ut,displacement:ut}}}}(),c="vertical"===o?zt:$t;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:c,isEnabled:n,client:i,page:s,frame:u,subject:xt({page:s,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:f});return h},ho={passive:!1},po={passive:!0},mo=function(e){return e.shouldPublishImmediately?ho:po};function go(e){var t=(0,r.useContext)(e);return t||Ze(!1),t}var vo=function(e){return e&&e.env.closestScrollable||null};function bo(){}var yo={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},_o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?yo:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?or.placeholder:null}};var xo=r.memo((function(e){var t=(0,r.useRef)(null),n=De((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),a=e.animate,o=e.onTransitionEnd,i=e.onClose,s=e.contextId,l=(0,r.useState)("open"===e.animate),u=l[0],c=l[1];(0,r.useEffect)((function(){return u?"open"!==a?(n(),c(!1),bo):t.current?bo:(t.current=setTimeout((function(){t.current=null,c(!1)})),n):bo}),[a,u,n]);var d=De((function(e){"height"===e.propertyName&&(o(),"close"===a&&i())}),[a,i,o]),f=_o({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),wo=r.createContext(null);var So=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return P(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r.PureComponent),Co=5e3,Eo=4500,ko=function(e,t){return t?or.drop(t.duration):e?or.snap:or.fluid},Po=function(e,t){return e?t?nr.drop:nr.combining:null};function jo(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,o=Boolean(r),i=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(a),l=s?lr(n,o):sr(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ko(i,a),transform:l,opacity:Po(o,s),zIndex:s?Eo:Co,pointerEvents:"none"}}(e):{transform:sr((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function To(e){var t=xa("draggable"),n=e.descriptor,a=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,u=Ne((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}}),[i,l,s]),c=De((function(e){var t=o();return t||Ze(!1),function(e,t,n){void 0===n&&(n=ut);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=ze(a,r),i=We(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)}),[n,o]),d=Ne((function(){return{uniqueId:t,descriptor:n,options:u,getDimension:c}}),[n,c,u,t]),f=(0,r.useRef)(d),h=(0,r.useRef)(!0);la((function(){return a.draggable.register(f.current),function(){return a.draggable.unregister(f.current)}}),[a.draggable]),la((function(){if(h.current)h.current=!1;else{var e=f.current;f.current=d,a.draggable.update(d,e)}}),[d,a.draggable])}function Mo(e,t,n){Ca()}function No(e){e.preventDefault()}var Do=function(e,t){return e===t},Oo=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Fo(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Ro={mapped:{type:"SECONDARY",offset:ut,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Fo(null)}};var Ao=Pe((function(){var e=function(){var e=He((function(e,t){return{x:e,y:t}})),t=He((function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=He((function(e,n,r,a,o,i,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,o,i,null)}}}));return function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var o=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],s=yn(r.impact),l=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,i,a.isClone,s,l,u)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==a.draggableId)return null;var f=a.isClone,h=r.dimensions.draggables[a.draggableId],p=d.result,m=p.mode,g=Oo(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),b={duration:r.dropDuration,curve:tr,moveTo:r.newHomeClientOffset,opacity:v?nr.drop:null,scale:v?rr.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:b,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,f,g,v,b)}}}return null}}(),t=function(){var e=He((function(e,t){return{x:e,y:t}})),t=He(Fo),n=He((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(ut,e,!0):null},a=function(t,a,o,i){var s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),u=Ot(o),c=u&&u.draggableId===t?a:null;if(!s){if(!l)return r(c);if(o.displaced.invisible[t])return null;var d=ht(i.displacedBy.point),f=e(d.x,d.y);return n(f,c,!0)}if(l)return r(c);var h=o.displacedBy.point,p=e(h.x,h.y);return n(p,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||Ro}}),{dropAnimationFinished:er},null,{context:ga,pure:!0,areStatePropsEqual:Do})((function(e){var t=(0,r.useRef)(null),n=De((function(e){t.current=e}),[]),a=De((function(){return t.current}),[]),o=go(wa),i=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,u=go(wo),c=u.type,d=u.droppableId,f=Ne((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}}),[e.draggableId,e.index,c,d]),h=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,_=e.dropAnimationFinished;Mo(),Sa(),b||To(Ne((function(){return{descriptor:f,registry:l,getDraggableRef:a,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[f,l,a,v,g,m]));var x=Ne((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:No}:null}),[i,s,p,m]),w=De((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&_()}),[_,y]),S=Ne((function(){var e=jo(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:x}}),[i,x,p,y,w,n]),C=Ne((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return h(S,y.snapshot,C)}));function Io(e){return go(wo).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(Ao,e):null}function Lo(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return r.createElement(Io,j({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}var Bo=function(e,t){return e===t.droppable.type},Uo=function(e,t){return t.draggables[e.draggable.id]};var Wo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Ze(!1),document.body}},zo=Pe((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=j({},e,{shouldAnimatePlaceholder:!1}),n=He((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=He((function(r,a,o,i,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===r){var c=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!a)return t;if(!i)return e;var f={isDraggingOver:o,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}));return function(n,a){var o=a.droppableId,i=a.type,s=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var u=n.critical;if(!Bo(i,u))return t;var c=Uo(u,n.dimensions),d=yn(n.impact)===o;return r(o,s,d,d,c,l)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!Bo(i,f.critical))return t;var h=Uo(f.critical,n.dimensions);return r(o,s,Oo(f.result)===o,yn(f.impact)===o,h,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Bo(i,p.critical))return t;var m=yn(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:ga,pure:!0,areStatePropsEqual:Do})((function(e){var t=(0,r.useContext)(wa);t||Ze(!1);var n=t.contextId,a=t.isMovementAllowed,o=(0,r.useRef)(null),i=(0,r.useRef)(null),s=e.children,l=e.droppableId,u=e.type,c=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,b=e.getContainerForClone,y=De((function(){return o.current}),[]),_=De((function(e){o.current=e}),[]),x=(De((function(){return i.current}),[]),De((function(e){i.current=e}),[]));Ca();var w=De((function(){a()&&v({maxScroll:jr()})}),[a,v]);!function(e){var t=(0,r.useRef)(null),n=go(wa),a=xa("droppable"),o=n.registry,i=n.marshal,s=ka(e),l=Ne((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),u=(0,r.useRef)(l),c=Ne((function(){return He((function(e,n){t.current||Ze(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)}))}),[l.id,i]),d=De((function(){var e=t.current;return e&&e.env.closestScrollable?lo(e.env.closestScrollable):ut}),[]),f=De((function(){var e=d();c(e.x,e.y)}),[d,c]),h=Ne((function(){return Ke(f)}),[f]),p=De((function(){var e=t.current,n=vo(e);e&&n||Ze(!1),e.scrollOptions.shouldPublishImmediately?f():h()}),[h,f]),m=De((function(e,r){t.current&&Ze(!1);var a=s.current,o=a.getDroppableRef();o||Ze(!1);var i=co(o),u={ref:o,descriptor:l,env:i,scrollOptions:r};t.current=u;var c=fo({ref:o,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(ia.contextId,n.contextId),d.addEventListener("scroll",p,mo(u.scrollOptions))),c}),[n.contextId,l,p,s]),g=De((function(){var e=t.current,n=vo(e);return e&&n||Ze(!1),lo(n)}),[]),v=De((function(){var e=t.current;e||Ze(!1);var n=vo(e);t.current=null,n&&(h.cancel(),n.removeAttribute(ia.contextId),n.removeEventListener("scroll",p,mo(e.scrollOptions)))}),[p,h]),b=De((function(e){var n=t.current;n||Ze(!1);var r=vo(n);r||Ze(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=Ne((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:b}}),[v,m,g,b]),_=Ne((function(){return{uniqueId:a,descriptor:l,callbacks:y}}),[y,l,a]);la((function(){return u.current=_.descriptor,o.droppable.register(_),function(){t.current&&v(),o.droppable.unregister(_)}}),[y,l,v,_,i,o.droppable]),la((function(){t.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),la((function(){t.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:l,type:u,mode:c,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:y});var S=r.createElement(So,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,a=e.data,o=e.animate;return r.createElement(xo,{placeholder:a,onClose:t,innerRef:x,animate:o,contextId:n,onTransitionEnd:w})})),C=Ne((function(){return{innerRef:_,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,S,_]),E=g?g.dragging.draggableId:null,k=Ne((function(){return{droppableId:l,type:u,isUsingCloneFor:E}}),[l,E,u]);return r.createElement(wo.Provider,{value:k},s(C,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=r.createElement(Io,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return Te.createPortal(n,b())}())}));zo.defaultProps=Wo;const $o=e=>{let{renders:t,onRefresh:n,isRefreshing:a}=e;const[o,i]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"render-history "+(o?"collapsed":""),children:[(0,l.jsxs)("div",{className:"render-history-header",children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("h3",{children:"Render History"}),(0,l.jsx)("button",{onClick:()=>i(!o),className:"collapse-button",children:o?"\u25bc":"\u25b2"})]}),(0,l.jsx)("button",{onClick:n,disabled:a,className:"refresh-button",children:a?"\ud83d\udd04 Refreshing...":"\ud83d\udd04 Refresh"})]}),!o&&(0,l.jsxs)("table",{className:"render-history-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Timestamp"}),(0,l.jsx)("th",{children:"Filename"}),(0,l.jsx)("th",{children:"Size"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:t.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))).map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:new Date(e.timestamp).toLocaleString()}),(0,l.jsx)("td",{children:e.filename}),(0,l.jsx)("td",{children:e.size?`${(e.size/1024/1024).toFixed(2)} MB`:"-"}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:`status-${e.status.toLowerCase()}`,children:e.status})}),(0,l.jsx)("td",{children:e.b2_url&&(0,l.jsx)("a",{href:e.b2_url,target:"_blank",rel:"noopener noreferrer",className:"download-link",children:"Download"})})]},t)))})]})]})},Vo=e=>{let{videos:t,selectedVideos:n,tagFilter:r,setTagFilter:a,onAddClip:o,onAddAllVisibleTags:i,onAddAllClips:s,includedClips:u}=e;return(0,l.jsxs)("div",{className:"tags-table-container",children:[(0,l.jsx)("h2",{children:"All Tags"}),(0,l.jsxs)("div",{className:"tags-filter-controls",children:[(0,l.jsx)("input",{type:"text",placeholder:"Filter tags...",value:r,onChange:e=>a(e.target.value)}),(0,l.jsx)("button",{onClick:i,className:"add-clip-button",children:"Add Filtered Tags"}),(0,l.jsx)("button",{onClick:s,className:"add-clip-button",children:"Add All Tags"})]}),(0,l.jsxs)("table",{className:"tags-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Actions"}),(0,l.jsx)("th",{children:"Video Name"}),(0,l.jsx)("th",{children:"Tag Name"}),(0,l.jsx)("th",{children:"Frame"}),(0,l.jsx)("th",{children:"Frame Range"})]})}),(0,l.jsx)("tbody",{children:t.filter((e=>n.has(e.id))).flatMap((e=>e.tags.filter((e=>e.startFrame&&e.endFrame)).filter((t=>r.toLowerCase().split(",").every((n=>t.name.toLowerCase().includes(n.trim())||e.name.toLowerCase().includes(n.trim()))))).map(((t,n)=>{e.id,t.name,t.frame,t.startFrame,t.endFrame;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>o(e.id,t.name,t.frame,e.name,e.filepath,t.startFrame,t.endFrame),className:"add-clip-button",children:"Add"})}),(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:t.name}),(0,l.jsx)("td",{children:t.frame}),(0,l.jsx)("td",{children:`${t.startFrame}-${t.endFrame}`})]},`${e.id}-${n}`)}))))})]})]})},Go=e=>{let{clip:t,videos:n,clipSettings:r,onSettingChange:a,onBulkSettingChange:o,settingsClipboard:i,setSettingsClipboard:s}=e;const u=n.find((e=>e.id===t.videoId)),c=((e,t,n)=>{if(null===e||void 0===e||!e.boxes)return new Set;const r=new Set;return e.boxes.forEach((e=>{e&&Object.entries(e).forEach((e=>{let[a,o]=e;const i=o.frame;i>=t&&i<=n&&r.add(a)}))})),r})(null!==u&&void 0!==u&&u.metadata?"string"===typeof u.metadata?JSON.parse(u.metadata):u.metadata:null,t.startFrame,t.endFrame);return(0,l.jsx)("tr",{className:"settings-row",children:(0,l.jsx)("td",{colSpan:"8",children:(0,l.jsxs)("div",{className:"clip-settings",children:[(0,l.jsxs)("div",{className:"settings-header",children:[(0,l.jsx)("h4",{children:"All Settings"}),(0,l.jsxs)("div",{className:"player-settings-controls",children:[(0,l.jsx)("button",{onClick:()=>{var e;const n={...r[t.key],playerSettings:(null===(e=r[t.key])||void 0===e?void 0:e.playerSettings)||{}};s(n)},className:"copy-paste-btn",title:"Copy all settings",children:"\ud83d\udccb Copy All"}),(0,l.jsx)("button",{onClick:()=>{i&&o(t.key,i)},className:"copy-paste-btn",disabled:!i,title:"Paste all settings",children:"\ud83d\udcdd Paste All"})]})]}),(0,l.jsxs)("div",{className:"regular-settings",children:["for key: ",t.key,Object.entries(w).map((e=>{var n,o,i,s,u,c,d;let[f,h]=e;return"playerGroup"===h.type?null:(0,l.jsxs)("div",{className:"setting-item",children:[(0,l.jsxs)("label",{children:[h.label,":"]}),(0,l.jsx)("input",{type:h.type,min:null!==(n=h.min)&&void 0!==n?n:0,max:null!==(o=h.max)&&void 0!==o?o:1,step:null!==(i=h.step)&&void 0!==i?i:.1,checked:"checkbox"===h.type?null!==(s=null===(u=r[t.key])||void 0===u?void 0:u[f])&&void 0!==s?s:h.default:void 0,value:"checkbox"!==h.type?null!==(c=null===(d=r[t.key])||void 0===d?void 0:d[f])&&void 0!==c?c:h.default:void 0,onChange:e=>{var n,r,o;const i=null!==(n=null===(r=(o={range:()=>Number(e.target.value),checkbox:()=>e.target.checked})[h.type])||void 0===r?void 0:r.call(o))&&void 0!==n?n:e.target.value;a(t.key,f,i)}})]},f)}))]}),Object.entries(w).map((e=>{let[n,o]=e;return"playerGroup"!==o.type?null:Array.from(c).map((e=>(0,l.jsxs)("div",{className:"player-settings-group",children:[(0,l.jsxs)("div",{className:"player-settings-header",children:[(0,l.jsx)("h4",{children:e}),(0,l.jsxs)("div",{className:"player-settings-controls",children:[(0,l.jsx)("button",{onClick:()=>{var n,a;const o=(null===(n=r[t.key])||void 0===n||null===(a=n.playerSettings)||void 0===a?void 0:a[e])||{};s(o)},className:"copy-paste-btn",title:"Copy settings",children:"\ud83d\udccb Copy"}),(0,l.jsx)("button",{onClick:()=>{var n;i&&a(t.key,"playerSettings",{...null===(n=r[t.key])||void 0===n?void 0:n.playerSettings,[e]:{...i}})},className:"copy-paste-btn",disabled:!i,title:"Paste settings",children:"\ud83d\udcdd Paste"})]})]}),Object.entries(o.perPlayer).map((n=>{var o,i,s,u,c,d,f,h,p,m,g;let[v,b]=n;var y,_,x,S;return"useCustomSettings"===v?(0,l.jsxs)("div",{className:"setting-item",children:[(0,l.jsxs)("label",{children:[b.label,":"]}),(0,l.jsx)("input",{type:"checkbox",checked:null!==(y=null===(_=r[t.key])||void 0===_||null===(x=_.playerSettings)||void 0===x||null===(S=x[e])||void 0===S?void 0:S[v])&&void 0!==y?y:b.default,onChange:n=>{var o,i,s;const l=n.target.checked,u={...null===(o=r[t.key])||void 0===o||null===(i=o.playerSettings)||void 0===i?void 0:i[e],useCustomSettings:l};var c,d,f,h,p,m,g,v,b,y;l&&(u.customBoxColor=null!==(c=null===(d=r[t.key])||void 0===d?void 0:d.boundingBoxColor)&&void 0!==c?c:w.boundingBoxColor.default,u.customNameColor=null!==(f=null===(h=r[t.key])||void 0===h?void 0:h.playerNameColor)&&void 0!==f?f:w.playerNameColor.default,u.customNameBgColor=null!==(p=null===(m=r[t.key])||void 0===m?void 0:m.playerNameBgColor)&&void 0!==p?p:w.playerNameBgColor.default,u.customBoxOpacity=null!==(g=null===(v=r[t.key])||void 0===v?void 0:v.boundingBoxOpacity)&&void 0!==g?g:w.boundingBoxOpacity.default,u.customNameOpacity=null!==(b=null===(y=r[t.key])||void 0===y?void 0:y.playerNameOpacity)&&void 0!==b?b:w.playerNameOpacity.default);a(t.key,"playerSettings",{...null===(s=r[t.key])||void 0===s?void 0:s.playerSettings,[e]:u})}})]},`${e}-${v}`):(0,l.jsxs)("div",{className:"setting-item",children:[(0,l.jsxs)("label",{children:[b.label,":"]}),(0,l.jsx)("input",{type:b.type,min:"range"===b.type?null!==(o=b.min)&&void 0!==o?o:0:void 0,max:"range"===b.type?null!==(i=b.max)&&void 0!==i?i:1:void 0,step:"range"===b.type?null!==(s=b.step)&&void 0!==s?s:.1:void 0,checked:"checkbox"===b.type?null!==(u=null===(c=r[t.key])||void 0===c||null===(d=c.playerSettings)||void 0===d||null===(f=d[e])||void 0===f?void 0:f[v])&&void 0!==u?u:b.default:void 0,value:"checkbox"!==b.type?null!==(h=null===(p=r[t.key])||void 0===p||null===(m=p.playerSettings)||void 0===m||null===(g=m[e])||void 0===g?void 0:g[v])&&void 0!==h?h:b.default:void 0,onChange:n=>{var o,i,s;const l="range"===b.type?Number(n.target.value):"checkbox"===b.type?n.target.checked:n.target.value;a(t.key,"playerSettings",{...null===(o=r[t.key])||void 0===o?void 0:o.playerSettings,[e]:{...null===(i=r[t.key])||void 0===i||null===(s=i.playerSettings)||void 0===s?void 0:s[e],[v]:l}})}})]},`${e}-${v}`)}))]},`${e}-settings`)))}))]})})})},Ho={async fetchFilm(e,t){const n=await fetch(`${e}/api/films/${t}`),r=await n.json();return r.data&&"string"===typeof r.data&&(r.data=JSON.parse(r.data)),r},updateFilmName:async(e,t,n)=>(await fetch(`${e}/api/films/${t}/name`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n})})).ok,updateFilmData:async(e,t,n)=>(await fetch(`${e}/api/films/${t}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n})})).ok,fetchVideos:async e=>(await fetch(`${e}/api/videos/with-tags`)).json(),async checkRenderStatus(e,t,n,r){const a=n.data.renders||[],o=a.filter((e=>e.filename===t)).sort(((e,t)=>t.timestamp-e.timestamp))[0],i=(null===o||void 0===o?void 0:o.timestamp)||0,s=await fetch(`${e}/api/check-render/${t}?last_render_time=${i}`),l=await s.json();if("completed"===l.status){const t={filename:l.filename,b2_url:l.b2_url,timestamp:l.timestamp,file_id:l.file_id,size:l.size,status:"completed"};return await this.updateFilmData(e,n.id,{...n.data,renders:[...a,t]}),r({status:"completed",film:{...n,data:{...n.data,renders:[...a,t]}}}),!0}return!1},refreshB2Files:async(e,t)=>(await fetch(`${e}/api/check-b2-files`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filenames:t})})).json(),async saveTemplate(e,t,n,r){return await this.updateFilmData(e,t,{...n.data,template:r})?{...n,data:{...n.data,template:r}}:null},async saveClips(e,t,n,r){return await this.updateFilmData(e,t,{...n.data,clips:r})?{...n,data:{...n.data,clips:r}}:null}};const Ko=function(){var e,t;const n=(0,r.useContext)(es),[a,o]=(0,r.useState)(null),[u,c]=(0,r.useState)([]),{id:d}=(0,i.g)(),[f,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(new Set),[y,w]=(0,r.useState)(new Set),[S,k]=(0,r.useState)("VideoFirstFiveSeconds"),[P,j]=(0,r.useState)([]),T=(0,r.useRef)(null),[M,N]=(0,r.useState)(null),[D,O]=(0,r.useState)(null),[F,R]=(0,r.useState)(""),[A,I]=(0,r.useState)(!1),[L,B]=(0,r.useState)(!1),[U,W]=(0,r.useState)(null),[z,$]=(0,r.useState)(1),[V,G]=(0,r.useState)(0),[H,K]=(0,r.useState)(null),[q,Y]=(0,r.useState)(null),[X,J]=(0,r.useState)(!1),[Q,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(0),[ne,re]=(0,r.useState)(null),[ae,oe]=(0,r.useState)(new Set),[ie,se]=(0,r.useState)(null),le=async e=>{try{const t=await Ho.saveClips(n.APIbaseUrl,d,a,e);t&&o(t)}catch(t){console.error("Error updating film clips:",t)}};(0,r.useEffect)((()=>{(async()=>{try{const e=await Ho.fetchFilm(n.APIbaseUrl,d);o(e)}catch(e){console.error("Error fetching film:",e)}})(),(async()=>{try{const e=await Ho.fetchVideos(n.APIbaseUrl);c(e)}catch(e){console.error("Error fetching videos:",e)}})()}),[d]),(0,r.useEffect)((()=>{null!==a&&void 0!==a&&a.data&&(a.data.clips&&(j(a.data.clips),w(new Set(a.data.clips))),a.data.selectedVideos&&v(new Set(a.data.selectedVideos)),a.data.template&&k(a.data.template))}),[a]);const ue=async e=>{const t=[...P,...e];try{(await fetch(`${n.APIbaseUrl}/api/films/${d}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{...a.data,clips:t}})})).ok?(j(t),w(new Set(t)),o({...a,data:{...a.data,clips:t}})):console.error("Failed to update film clips")}catch(r){console.error("Error updating film clips:",r)}};(0,r.useEffect)((()=>{let e;return X&&(e=setTimeout((()=>{var e;J(!1),G(0),$(.2),Y(H+2),null===(e=T.current)||void 0===e||e.play()}),500)),()=>{e&&clearTimeout(e)}}),[X,H]),(0,r.useCallback)((async(e,t)=>{try{var r;const i={...a.data,clipSettings:{...(null===(r=a.data)||void 0===r?void 0:r.clipSettings)||{},[e]:t}};(await fetch(`${n.APIbaseUrl}/api/films/${d}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:i})})).ok&&o((e=>({...e,data:i})))}catch(i){console.error("Failed to save clip settings:",i)}}),[null===a||void 0===a?void 0:a.data,n.APIbaseUrl,d]);const ce=(0,r.useCallback)((async(e,t,r)=>{try{var i,s,l;const u={...(null===(i=a.data)||void 0===i?void 0:i.clipSettings)||{},[e]:{...(null===(s=a.data)||void 0===s||null===(l=s.clipSettings)||void 0===l?void 0:l[e])||{},[t]:r}};(await fetch(`${n.APIbaseUrl}/api/films/${d}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{...a.data,clipSettings:u}})})).ok&&o((e=>({...e,data:{...e.data,clipSettings:u}})))}catch(u){console.error("Error updating clip settings:",u)}}),[null===a||void 0===a?void 0:a.data,n.APIbaseUrl,d]),de=(0,r.useCallback)((async(e,t)=>{try{var r,i,s;const l={...(null===(r=a.data)||void 0===r?void 0:r.clipSettings)||{},[e]:{...(null===(i=a.data)||void 0===i||null===(s=i.clipSettings)||void 0===s?void 0:s[e])||{},...t}};(await fetch(`${n.APIbaseUrl}/api/films/${d}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{...a.data,clipSettings:l}})})).ok&&o((e=>({...e,data:{...e.data,clipSettings:l}})))}catch(l){console.error("Error updating clip settings:",l)}}),[null===a||void 0===a?void 0:a.data,n.APIbaseUrl,d]),fe=(0,r.useCallback)((e=>{oe((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}),[oe]);return a?(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"view-film",children:[(0,l.jsx)("div",{className:"film-title",children:f?(0,l.jsxs)("div",{className:"edit-title",children:[(0,l.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),autoFocus:!0}),(0,l.jsx)("span",{className:"save-icon",onClick:async()=>{try{await Ho.updateFilmName(n.APIbaseUrl,d,p)&&(o({...a,name:p}),h(!1))}catch(e){console.error("Error updating film name:",e)}},title:"Save",children:"\ud83d\udcbe"})]}):(0,l.jsxs)("h1",{children:[a.name,(0,l.jsx)("span",{className:"edit-icon",onClick:()=>{h(!0),m(a.name)},title:"Edit",children:"\u270f\ufe0f"})]})}),(0,l.jsxs)("div",{className:"template-selector",children:[(0,l.jsx)("label",{htmlFor:"template-select",children:"Select Video Template: "}),(0,l.jsxs)("select",{id:"template-select",value:S,onChange:async e=>{const t=e.target.value;try{const e=await Ho.saveTemplate(n.APIbaseUrl,d,a,t);e&&(o(e),k(t))}catch(r){console.error("Error updating template:",r)}},children:[(0,l.jsx)("option",{value:"VideoFirstFiveSeconds",children:"All clips back to back"}),(0,l.jsx)("option",{value:"VideoPlayerTracking",children:"Player Tracking"})]})]}),(0,l.jsxs)("div",{className:"included-clips-container "+(A?"expanded":""),children:[(0,l.jsxs)("div",{className:"included-clips-header",children:[(0,l.jsx)("h2",{children:"Included Clips"}),(0,l.jsx)("button",{className:"expand-toggle",onClick:()=>I(!A),children:A?"\ud83d\uddd7 Minimize":"\u2922 Expand"})]}),(0,l.jsxs)(to,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(P),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),j(t),le(t)},children:[(0,l.jsxs)("div",{className:"included-clips-header-row",children:[(0,l.jsx)("div",{style:{width:"40px"}}),(0,l.jsx)("div",{children:"Video Name"}),(0,l.jsx)("div",{children:"Tag Name"}),(0,l.jsx)("div",{children:"Frame"}),(0,l.jsx)("div",{children:"Frame Range"}),(0,l.jsx)("div",{children:"Duration"}),(0,l.jsx)("div",{children:"Frame Range of Output"}),(0,l.jsx)("div",{children:"Actions"})]}),(0,l.jsx)(zo,{droppableId:"clips",children:e=>(0,l.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"included-clips-list",children:[(()=>{const e=P.map((e=>e.endFrame-e.startFrame));return P.map(((t,n)=>{var o;const i=(s=n,P.slice(0,s).reduce(((e,t)=>e+(t.endFrame-t.startFrame)),0));var s;const c=t.endFrame-t.startFrame,d=i+c,f=(c/30).toFixed(1),h=((e,t)=>{if(!t||0===t.length)return"";const n=[...t].sort(((e,t)=>t-e)),r=Math.floor(.1*n.length),a=Math.floor(.25*n.length),o=n[r],i=n[a];return e>=o?"very-long-clip":e>=i?"long-clip":""})(c,e),p=ee>=i&&ee<d,m=p?t.startFrame+(ee-i):null;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(Lo,{draggableId:t.key,index:n,children:(e,n)=>(0,l.jsxs)("div",{ref:e.innerRef,...e.draggableProps,className:`clip-row ${n.isDragging?"dragging":""} ${h}`,children:[(0,l.jsx)("div",{...e.dragHandleProps,className:"drag-handle",children:"\u22ee\u22ee"}),(0,l.jsx)("div",{children:(0,l.jsxs)("a",{href:`/videos/${t.videoId}?startFrame=${t.startFrame}&endFrame=${t.endFrame}`,className:"video-link",children:[t.videoName," (",t.startFrame,"-",t.endFrame,")"]})}),(0,l.jsx)("div",{children:t.tagName}),(0,l.jsx)("div",{children:p?(0,l.jsxs)("span",{style:{color:"#0d6efd",fontWeight:"bold"},children:[m," / abs: ",ee]}):t.frame}),(0,l.jsx)("div",{children:`${t.startFrame}-${t.endFrame}`}),(0,l.jsx)("div",{className:"duration-cell",children:(0,l.jsxs)("div",{className:"duration-content",children:[(0,l.jsxs)("span",{children:[f,"s"]}),Q===t.key&&(0,l.jsx)("div",{className:"clip-progress",children:(0,l.jsx)("div",{className:"progress-bar",style:{width:`${Math.round((ee-t.startFrame)/(t.endFrame-t.startFrame)*100)}%`}})})]})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"clickable-frame-range",onClick:()=>{return e=i,void(T.current&&T.current.seekTo(e));var e},children:`${i}-${d}`})}),(0,l.jsxs)("div",{className:"clip-actions",children:[(0,l.jsx)("button",{onClick:()=>(e=>{T.current&&(T.current.seekTo(e.startFrame),T.current.pause(),J(!0),K(e.startFrame),W(e.endFrame),Z(e.key),re(e))})(t),className:"preview-clip-button "+(Q===t.key?"playing":""),title:"Preview this clip",children:Q===t.key?"\u23f8\ufe0f":"\u25b6\ufe0f"}),(0,l.jsx)("button",{onClick:()=>(e=>{const t=P.filter((t=>t.key!==e));j(t),w(new Set(t)),le(t)})(t.key),className:"remove-clip-button",children:"Remove"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),fe(t.key)},className:"settings-toggle-button",title:"Toggle Settings",children:ae.has(t.key)?"\u2699\ufe0f":"\u2699"})]})]})}),ae.has(t.key)&&(0,l.jsx)(Go,{clip:t,videos:u,clipSettings:(null===(o=a.data)||void 0===o?void 0:o.clipSettings)||{},onSettingChange:ce,onBulkSettingChange:de,settingsClipboard:ie,setSettingsClipboard:se})]},t.key)}))})(),e.placeholder]})})]})]}),(0,l.jsx)("div",{className:"video-player",children:y.size>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.ai,{ref:T,component:(()=>{switch(S){case"VideoFirstFiveSeconds":default:return x;case"VideoPlayerTracking":return C}})(),inputProps:{selectedVideos:g,videos:u,selectedTags:y,onFrameUpdate:e=>{te(e);let t=0;const n=P.find(((n,r)=>{const a=n.endFrame-n.startFrame;return e>=t&&e<t+a||(t+=a,!1)}));var r;(n&&(re((e=>e&&e.key===n.key?e:n)),Z(n.key)),U)&&(V<5&&q&&e>=q&&(G((e=>e+1)),Y(e+2),$(.2)),V>=3&&q&&($(1),Y(null)),e>=U&&(null===(r=T.current)||void 0===r||r.pause(),W(null),$(1),G(0),K(null),Z(null),re(null)))},width:1920,height:1080,settings:(null===(e=a.data)||void 0===e?void 0:e.clipSettings)||{}},durationInFrames:(()=>{switch(S){case"VideoFirstFiveSeconds":default:return _(y)||1;case"VideoPlayerTracking":return(e=>Array.from(e).reduce(((e,t)=>e+(parseInt(t.endFrame,10)-parseInt(t.startFrame,10))),0))(y)||1}})(),compositionWidth:1920,compositionHeight:1080,fps:29.8,controls:!0,loop:!U,playbackRate:z,style:{width:"100%",aspectRatio:"16/9"}}),(0,l.jsx)(E,{selectedVideos:g,videos:u,selectedTags:y,outputFileName:`${a.name.replace(/\s+/g,"_")}.mp4`,compositionName:S,settings:(null===(t=a.data)||void 0===t?void 0:t.clipSettings)||{},onRenderStart:e=>{N("rendering"),O(e);const t=setInterval((async()=>{const r=await(async e=>{try{return await Ho.checkRenderStatus(n.APIbaseUrl,e,a,(e=>{let{status:t,film:n}=e;N(t),o(n)}))}catch(t){return console.error("Error checking render status:",t),!1}})(e);r&&clearInterval(t)}),1e3)},renderStatus:M})]}):(0,l.jsx)("div",{style:{width:"100%",height:360,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px"},children:"Please select a video"})}),a.data.renders&&(0,l.jsx)($o,{renders:a.data.renders,onRefresh:async()=>{B(!0);try{const e=a.data.renders.map((e=>e.filename)),t=await Ho.refreshB2Files(n.APIbaseUrl,e);if(t.results){const e=a.data.renders.map((e=>{const n=t.results.find((t=>t.filename===e.filename));return n?{...e,...n}:e}));await Ho.updateFilmData(n.APIbaseUrl,d,{...a.data,renders:e}),o((t=>({...t,data:{...t.data,renders:e}})))}}catch(e){console.error("Error refreshing render history:",e)}finally{B(!1)}},isRefreshing:L}),(0,l.jsxs)("div",{className:"video-table-container",children:[(0,l.jsx)("h2",{children:"Videos"}),(0,l.jsxs)("table",{className:"film-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Show"}),(0,l.jsx)("th",{children:"Video Name"}),(0,l.jsx)("th",{children:"Number of Tags"})]})}),(0,l.jsx)("tbody",{children:u.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"checkbox",checked:g.has(e.id),onChange:()=>(async e=>{v((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}));try{(await fetch(`${n.APIbaseUrl}/api/films/${d}/data`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{...a.data,selectedVideos:Array.from(g).concat(e)}})})).ok?o({...a,data:{...a.data,selectedVideos:Array.from(g).concat(e)}}):console.error("Failed to update selected videos")}catch(t){console.error("Error updating selected videos:",t)}})(e.id)})}),(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.tags.length})]},e.id)))})]})]}),(0,l.jsx)(Vo,{videos:u,selectedVideos:g,tagFilter:F,setTagFilter:R,onAddClip:(e,t,n,r,a,o,i)=>{const s=Date.now();ue([{key:`${e}-${t}-${o}-${i}-${s}`,videoId:e,videoName:r,videoFilepath:a,tagName:t,frame:n,startFrame:o,endFrame:i}])},onAddAllVisibleTags:()=>{const e=u.filter((e=>g.has(e.id))).flatMap((e=>e.tags.filter((e=>e.startFrame&&e.endFrame)).filter((t=>F.toLowerCase().split(",").every((n=>t.name.toLowerCase().includes(n.trim())||e.name.toLowerCase().includes(n.trim()))))).map((t=>({key:`${e.id}-${t.name}-${t.frame}-${t.startFrame}-${t.endFrame}-${Date.now()}-${Math.random()}`,videoId:e.id,videoName:e.name,videoFilepath:e.filepath,tagName:t.name,frame:t.frame,startFrame:t.startFrame,endFrame:t.endFrame})))));ue(e)},onAddAllClips:()=>{const e=u.filter((e=>g.has(e.id))).flatMap((e=>e.tags.filter((e=>e.startFrame&&e.endFrame)).map((t=>({key:`${e.id}-${t.name}-${t.frame}-${t.startFrame}-${t.endFrame}-${Date.now()}-${Math.random()}`,videoId:e.id,videoName:e.name,videoFilepath:e.filepath,tagName:t.name,frame:t.frame,startFrame:t.startFrame,endFrame:t.endFrame})))));ue(e)},includedClips:P})]})}):(0,l.jsx)(s.A,{children:"Loading..."})},qo=(e,t)=>{const n=t,r="home"===n?"away":"home";if(null===e||void 0===e||!e.tags)return[];const a=e.tags.filter((e=>e.name.includes("_touch_")||e.name.includes("_clear_")||e.name.includes("score")));return ti(a,`${n}_touch_attacking`,["score",`${r}_touch_`],[]).map((e=>{const t=e.touches;let n=t[t.length-1];n.name.startsWith(`${r}_touch_`)&&(t.pop(),n=t[t.length-1]);const a=n.frame;return{...e,endFrame:a,touches:t,scored:e.touches.some((e=>"score"===e.name))}}))},Yo=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return 0;const r=n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags,a={...e,tags:r};return qo(a,t).length},Xo=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return 0;const r=n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags,a={...e,tags:r};return qo(a,t).filter((e=>e.scored)).length},Jo=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return null;const r=n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags,a={...e,tags:r},o=qo(a,t).reduce(((e,t)=>{const n=t.scored?"scoring":"nonScoring";return e[n].totalTouches+=t.touches.length,e[n].attackCount++,e}),{scoring:{totalTouches:0,attackCount:0},nonScoring:{totalTouches:0,attackCount:0}});return{scoring:{...o.scoring,averageTouches:o.scoring.attackCount>0?Math.round(o.scoring.totalTouches/o.scoring.attackCount*10)/10:0},nonScoring:{...o.nonScoring,averageTouches:o.nonScoring.attackCount>0?Math.round(o.nonScoring.totalTouches/o.nonScoring.attackCount*10)/10:0}}},Qo=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return null;const r=n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags,a={...e,tags:r},o=qo(a,t).reduce(((e,t)=>{const n=t.scored?"scoring":"nonScoring",r=Math.round((t.endFrame-t.startFrame)/30);return e[n].totalSeconds+=r,e[n].attackCount++,e}),{scoring:{totalSeconds:0,attackCount:0},nonScoring:{totalSeconds:0,attackCount:0}});return{scoring:{...o.scoring,averageSeconds:o.scoring.attackCount>0?Math.round(o.scoring.totalSeconds/o.scoring.attackCount*10)/10:0},nonScoring:{...o.nonScoring,averageSeconds:o.nonScoring.attackCount>0?Math.round(o.nonScoring.totalSeconds/o.nonScoring.attackCount*10)/10:0}}},Zo=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return null;const r=n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags,a={...e,tags:r},o=qo(a,t),i=o.filter((e=>e.scored)).length,s=o.length,l=ei(a,t);return{scores:i,attacks:s,scoringPercentage:s>0?Math.round(i/s*100):0,clearingTurnovers:l-s}},ei=(e,t,n)=>{if(null===e||void 0===e||!e.tags)return{count:0,sequences:[]};const r="home"===t?"away":"home",a=(n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags).filter((e=>e.name.includes("_touch_")||e.name.includes("score"))),o=ti(a,`${t}_touch_clearing`,["score",`${r}_touch_clearing`],[]);return{count:o.length,sequences:o}},ti=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return[];const a=[];let o=null;return[...e].sort(((e,t)=>e.frame-t.frame)).forEach((e=>{e.name.includes(t)&&!o?o={startFrame:e.frame,endFrame:e.frame,touches:[e]}:o&&(n.some((t=>e.name.includes(t)))?(o.touches.push(e),o.endFrame=e.frame,a.push(o),o=null):r.some((t=>e.name.includes(t)))?o=null:(o.touches.push(e),o.endFrame=e.frame))})),a},ni=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!e)return[];const r=t.startsWith("home")?"away_touch_":"home_touch_";return ti(e,`${t}attacking`,[`${r}clearing`],["score"]).map((e=>{const t=e.touches;return t.pop(),t.length>n&&t.splice(0,t.length-n),{startFrame:t[0].frame,endFrame:t[t.length-1].frame,metadata:{touches:t}}}))},ri=(e,t)=>{if(!e||!t)return[];const n=e.filter((e=>e.name.includes(t)));return ti(n,`${t} IN`,[`${t} OUT`],[`${t} OUT`]).map((e=>({name:`${t} playing`,startFrame:e.startFrame,endFrame:e.endFrame,metadata:{touchCount:e.touches.length,touches:e.touches.map((e=>({name:e.name,frame:e.frame})))}})))},ai=e=>{const t=[],n=[...e].sort(((e,t)=>e.startFrame-t.startFrame));return n.forEach(((e,r)=>{if("game_start"===e.name)for(let a=r+1;a<n.length;a++){const r=n[a];if("game_end"===r.name){t.push({startFrame:e.frame,endFrame:r.frame,metadata:{gameNumber:t.length+1,duration:r.frame-e.frame}});break}}})),t},oi=(e,t)=>{if(!e||!t)return[];const n=[...e.filter((e=>e.name.includes("_touch_")||e.name===t))].sort(((e,t)=>e.frame-t.frame)),r=[];return n.forEach(((e,a)=>{if(e.name===t){const e=Math.max(0,a-2),o=Math.min(n.length-1,a+1),i=n.slice(e,o+1);i.length>0&&r.push({name:`${t}_sequence`,startFrame:i[0].frame,endFrame:i[i.length-1].frame,metadata:{touchCount:i.length,touches:i.map((e=>({name:e.name,frame:e.frame})))}})}})),r},ii=(e,t)=>{if(!e||!t)return[];const n=[],r="home"===t?"away":"home";let a=null;const o=e.filter((e=>e.name.includes("_touch_attacking")||e.name.includes("_touch_clearing")));for(let i=0;i<o.length;i++){const e=o[i],s=o[i+1];e.name.includes(`${r}_touch_`)?a=null:(e.name===`${t}_touch_attacking`&&(a=e.frame),a&&(null===s||void 0===s?void 0:s.name)===`${t}_touch_clearing`&&e.name===`${t}_touch_attacking`&&(n.push({name:"score",frame:e.frame+1}),a=null))}return n},si=(e,t)=>{if(null===e||void 0===e||!e.tags)return null;const n=t?e.tags.filter((e=>{const n=e.frame||e.startFrame;return n>=t.startFrame&&n<=t.endFrame})):e.tags,r={...e,tags:n};return{homeScore:Xo(r,"home"),awayScore:Xo(r,"away"),durationInSeconds:t?(t.endFrame-t.startFrame)/30:0}},li=(e,t)=>{if(null===e||void 0===e||!e.boxes||!Array.isArray(e.boxes))return[];const n=[];let r=null;return console.log(e.boxes),e.boxes.forEach(((e,a)=>{if(!e)return;const o=Object.keys(e).includes(t);o&&!r?r={startFrame:a,endFrame:a}:o&&r?r.endFrame=a:!o&&r&&(r.endFrame-r.startFrame>=2&&n.push(r),r=null)})),r&&r.endFrame-r.startFrame>=2&&n.push(r),n};function ui(e,t,n){if(!e||!t||!n)return[];const r=e.filter((e=>e.name.toLowerCase()===`${t.toLowerCase()} playing`&&void 0!==e.startFrame&&void 0!==e.endFrame)),a=e.filter((e=>{const t=e.name.startsWith("home_touch_"),n=e.name.startsWith("away_touch_");return t||n})),o=[];for(const i of r){const e=a.filter((e=>e.frame<=i.endFrame)).sort(((e,t)=>e.frame-t.frame));let r=null,s=null,l=i.startFrame;const u=e.filter((e=>e.frame<=i.startFrame)).pop();u&&(r=u.name.startsWith("home_touch_")?"home":"away",s=u.frame);for(const a of e.filter((e=>e.frame>=i.startFrame))){const e=a.name.startsWith("home_touch_")?"home":"away";if(null!==r&&r!==e){const e=r===n;o.push({name:`${t} playing ${e?"offense":"defense"}`,startFrame:l,endFrame:a.frame-1}),l=a.frame}r=e,s=a.frame}if(null!==r){const e=r===n;o.push({name:`${t} playing ${e?"offense":"defense"}`,startFrame:l,endFrame:i.endFrame})}}return o}const ci=async(e,t,n)=>{if(!e||0===t.length)return!1;try{const r=e.metadata?JSON.parse(e.metadata):{},a=[...r.tags||[],...t];if(!(await fetch(`${n}/api/videos/${e.id}/metadata`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:JSON.stringify({...r,tags:a})})})).ok)throw new Error("Failed to save tags");return!0}catch(r){return console.error("Error saving proposed tags:",r),!1}};const di='\n.tooltip-container {\n  position: relative;\n  display: inline-block;\n  margin-left: 8px;\n}\n\n.info-icon {\n  cursor: help;\n  font-size: 16px;\n}\n\n.tooltip-content {\n  display: none;\n  position: absolute;\n  left: 25px;\n  top: -5px;\n  background: #333;\n  color: white;\n  padding: 10px;\n  border-radius: 4px;\n  width: 250px;\n  z-index: 100;\n  font-size: 14px;\n}\n\n.tooltip-content ul {\n  margin: 5px 0;\n  padding-left: 20px;\n}\n\n.tooltip-content li {\n  margin: 3px 0;\n}\n\n.tooltip-container:hover .tooltip-content {\n  display: block;\n}\n\n/* Add arrow */\n.tooltip-content::before {\n  content: "";\n  position: absolute;\n  left: -5px;\n  top: 10px;\n  width: 0;\n  height: 0;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-right: 5px solid #333;\n}\n',fi=function(e){let{selectedVideo:t,onTagsApproved:n}=e;const a=(0,r.useContext)(es),[o,i]=(0,r.useState)([]),[s,u]=(0,r.useState)(""),[c,d]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const e=document.createElement("style");return e.innerText=di,document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),(0,r.useEffect)((()=>{if(null!==t&&void 0!==t&&t.tags){const e=new Set;t.tags.forEach((t=>{if(t.name.includes(" IN")||t.name.includes(" OUT")){const n=t.name.split(" ")[0].toLowerCase();e.add(n)}}));const n=Array.from(e).sort();d(n),u(n[0]||"")}}),[t]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags||!s)return;const e=ri(t.tags,s);i(e)},disabled:!s,children:"Process Playing Time"}),(0,l.jsxs)("select",{value:s,onChange:e=>u(e.target.value),className:"player-name-select",children:[0===c.length&&(0,l.jsx)("option",{value:"",children:"No players found"}),c.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:'Finds all sequences between "<playerName> IN" and "<playerName> OUT" tags'}),(0,l.jsx)("li",{children:'Creates new "<playerName> playing" tags for each valid sequence'}),(0,l.jsx)("li",{children:'Excludes sequences that contain "<playerName> OUT" tags'}),(0,l.jsx)("li",{children:"Use this to track player time on field"})]})]})]})]}),o.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsxs)("h2",{children:["Proposed ",s," Playing Tags"]}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(o,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,o,a.APIbaseUrl)&&(i([]),n())},children:"Approve and Save Tags"})]})]})};const hi=function(e){let{selectedVideo:t,onTagsApproved:n,buttonText:a="Process Attacking Sequences",teamTouchPrefix:o="home_touch_",turnoverTag:i="home_turnover",maxPrecedingTouches:s=3}=e;const u=(0,r.useContext)(es),[c,d]=(0,r.useState)([]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags)return;const e=ni(t.tags,o,s).map((e=>({name:i,startFrame:e.startFrame,endFrame:e.endFrame,metadata:{touchCount:e.touches.length,touches:e.touches.map((e=>({name:e.name,frame:e.frame,originalTag:e.originalTag})))}})));d(e)},children:a}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:['Finds sequences between "',o,'attacking" and "',o,'clearing"']}),(0,l.jsxs)("li",{children:["For each sequence, finds up to ",s,' preceding touches starting with "',o,'"']}),(0,l.jsx)("li",{children:'Stops at any touch starting with "away_touch_" when looking for preceding touches'})]})]})]})]}),c.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsx)("h2",{children:"Proposed Attacking Sequence Tags"}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(c,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,c,u.APIbaseUrl)&&(d([]),n())},children:"Approve and Save Tags"})]})]})};const pi=function(e){let{selectedVideo:t,onTagsApproved:n,team:a,scoringOnly:o=!1,buttonText:i="Find Attack Sequences",onPreview:s}=e;const u=(0,r.useContext)(es),[c,d]=(0,r.useState)([]),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";if(!s)return;const n=e.endFrame-e.startFrame;switch(t){case"start":s(e.startFrame,e.startFrame+60);break;case"middle":const t=e.startFrame+Math.floor(n/2);s(t-30,t+30);break;case"end":s(e.endFrame-120,e.endFrame);break;default:s(e.startFrame,e.endFrame)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags)return;let e=qo(t,a);o&&(e=e.filter((e=>e.scored)));const n=e.map((e=>({name:`${a}_attack_sequence`,startFrame:e.startFrame,endFrame:e.endFrame,metadata:{touchCount:e.touches.length,scored:e.scored,touches:e.touches.map((e=>({name:e.name,frame:e.frame})))}})));d(n)},children:i}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:["Finds all attack sequences for ",a," team"]}),(0,l.jsx)("li",{children:"Attack sequence: clearing touch followed by attacking touch"}),(0,l.jsx)("li",{children:"Includes touch count and scoring information"}),o&&(0,l.jsx)("li",{children:"Only includes sequences that resulted in a score"})]})]})]})]}),c.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsx)("h2",{children:"Proposed Attack Sequence Tags"}),(0,l.jsx)("div",{className:"sequences-preview",children:c.map(((e,t)=>(0,l.jsxs)("div",{className:"sequence-item",children:[(0,l.jsxs)("span",{children:["Sequence ",t+1,": ",e.metadata.touchCount," touches"]}),(0,l.jsxs)("div",{className:"preview-buttons",children:[(0,l.jsx)("button",{className:"preview-button",onClick:()=>f(e,"start"),children:"First 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>f(e,"middle"),children:"Middle 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>f(e,"end"),children:"Last 4s"}),(0,l.jsx)("button",{className:"preview-button","data-type":"full",onClick:()=>f(e,"full"),children:"Full Preview"})]})]},t)))}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(c,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,c,u.APIbaseUrl)&&(d([]),n())},children:"Approve and Save Tags"})]})]})};const mi=function(e){let{selectedVideo:t,onTagsApproved:n,onPreview:a}=e;const o=(0,r.useContext)(es),[i,s]=(0,r.useState)(""),[u,c]=(0,r.useState)([]),[d,f]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.metadata,n=e?JSON.parse(e):{};f(n.boxes)}),[t]);const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";if(!a)return;const n=e.endFrame-e.startFrame;switch(t){case"start":a(e.startFrame,e.startFrame+60);break;case"middle":const t=e.startFrame+Math.floor(n/2);a(t-30,t+30);break;case"end":a(e.endFrame-60,e.endFrame);break;default:a(e.startFrame,e.endFrame)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Enter player name",className:"player-input"}),(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(!d||!i)return void console.log("No video or player name",{boxes:d,playerName:i});const e=li({boxes:d},i).map((e=>({name:`${i}_in_game`,startFrame:e.startFrame,endFrame:e.endFrame,metadata:{durationFrames:e.endFrame-e.startFrame,durationSeconds:Math.round((e.endFrame-e.startFrame)/30*10)/10}})));c(e)},disabled:!i,children:"Find Player Sequences"}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Finds all sequences where player is visible"}),(0,l.jsx)("li",{children:"Creates tags for sequences 3+ frames long"}),(0,l.jsx)("li",{children:"Includes duration information"})]})]})]})]}),u.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsx)("h2",{children:"Proposed Player Sequence Tags"}),(0,l.jsx)("div",{className:"sequences-preview",children:u.map(((e,t)=>(0,l.jsxs)("div",{className:"sequence-item",children:[(0,l.jsxs)("span",{children:["Sequence ",t+1,": ",e.metadata.durationSeconds,"s (",e.metadata.durationFrames," frames)"]}),(0,l.jsxs)("div",{className:"preview-buttons",children:[(0,l.jsx)("button",{className:"preview-button",onClick:()=>h(e,"start"),children:"First 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>h(e,"middle"),children:"Middle 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>h(e,"end"),children:"Last 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>h(e,"full"),children:"Full Preview"})]})]},t)))}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(u,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,u,o.APIbaseUrl)&&(c([]),n())},children:"Approve and Save Tags"})]})]})};const gi=function(e){let{selectedVideo:t,onTagsApproved:n}=e;const a=(0,r.useContext)(es),[o,i]=(0,r.useState)([]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags)return;const e=ai(t.tags).map((e=>({name:"game",startFrame:e.startFrame,endFrame:e.endFrame,metadata:e.metadata})));i(e)},children:"Process Games"}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Finds sequences between game_start and game_end tags"}),(0,l.jsx)("li",{children:"Creates game tags with duration and game number"})]})]})]})]}),o.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsx)("h2",{children:"Proposed Game Tags"}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(o,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,o,a.APIbaseUrl)&&(i([]),n())},children:"Approve and Save Tags"})]})]})};const vi=function(e){let{selectedVideo:t,onTagsApproved:n,onPreview:a}=e;const o=(0,r.useContext)(es),[i,s]=(0,r.useState)([]),[u,c]=(0,r.useState)("screen"),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";if(!a)return;const n=e.endFrame-e.startFrame;switch(t){case"start":a(e.startFrame,e.startFrame+60);break;case"middle":const t=e.startFrame+Math.floor(n/2);a(t-30,t+30);break;case"end":a(e.endFrame-120,e.endFrame);break;default:a(e.startFrame,e.endFrame)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags||!u)return;const e=oi(t.tags,u);s(e)},disabled:!u,children:"Process Screen Sequences"}),(0,l.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),placeholder:"Enter screen tag name",className:"screen-tag-input"}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Finds all instances of the specified screen tag"}),(0,l.jsx)("li",{children:"Creates sequences including 2 touches before and 1 touch after"}),(0,l.jsx)("li",{children:"Use this to analyze screen plays"})]})]})]})]}),i.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsx)("h2",{children:"Proposed Screen Sequence Tags"}),(0,l.jsx)("div",{className:"sequences-preview",children:i.map(((e,t)=>(0,l.jsxs)("div",{className:"sequence-item",children:[(0,l.jsxs)("span",{children:["Sequence ",t+1,": ",e.metadata.touchCount," touches"]}),(0,l.jsxs)("div",{className:"preview-buttons",children:[(0,l.jsx)("button",{className:"preview-button",onClick:()=>d(e,"start"),children:"First 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>d(e,"middle"),children:"Middle 2s"}),(0,l.jsx)("button",{className:"preview-button",onClick:()=>d(e,"end"),children:"Last 4s"}),(0,l.jsx)("button",{className:"preview-button","data-type":"full",onClick:()=>d(e,"full"),children:"Full Preview"})]})]},t)))}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(i,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,i,o.APIbaseUrl)&&(s([]),n())},children:"Approve and Save Tags"})]})]})};var bi=n(9729),yi=n(2871);const _i=function(e){let{startFrame:t,endFrame:n,onFrameSelect:r,fps:a=30}=e;return(0,l.jsxs)("div",{className:"range-slider-container",children:[(0,l.jsxs)("span",{children:[(t/a).toFixed(2),"s-",(n/a).toFixed(2),"s"]}),(0,l.jsx)("input",{type:"range",min:t,max:n,defaultValue:t,onChange:e=>r(parseInt(e.target.value)),className:"frame-range-slider"})]})};const xi=function(e){let{selectedVideo:t,onTagsApproved:n,team:a,globalData:o}=e;const[i,s]=(0,r.useState)([]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags||!a)return;const e=ii(t.tags,a);s(e)},disabled:!a,children:`Find Scores (${a})`}),i.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsxs)("h2",{children:[a," Score Tags"]}),(0,l.jsx)("textarea",{value:JSON.stringify(i,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,i,o.APIbaseUrl)&&(s([]),n())},children:"Approve and Save Tags"})]})]})};const wi=function(e){let{selectedVideo:t,onTagsApproved:n,globalData:a}=e;const[o,i]=(0,r.useState)(""),[s,u]=(0,r.useState)(!1);return(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>u(!0),children:"Add Tags Manually"}),s&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)("h2",{children:"Enter Tag Data (JSON format)"}),(0,l.jsx)("button",{className:"process-button",onClick:()=>{i(JSON.stringify([{name:"player_name playing",startFrame:100,endFrame:200}],null,2))},style:{marginLeft:"10px"},children:"Insert Template"})]}),(0,l.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),rows:10,className:"proposed-tags-textarea",placeholder:'[{"name": "example_tag", "frame": 123}]'}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{try{const e=JSON.parse(o);await ci(t,e,a.APIbaseUrl)&&(i(""),u(!1),n())}catch(e){alert("Invalid JSON format"),console.error("Error parsing tags:",e)}},children:"Approve and Save Tags"})]})]})};const Si=function(e){let{selectedVideo:t,onTagsApproved:n}=e;const a=(0,r.useContext)(es),[o,i]=(0,r.useState)([]),[s,u]=(0,r.useState)(""),[c,d]=(0,r.useState)([]),[f,h]=(0,r.useState)("home");return(0,r.useEffect)((()=>{if(null!==t&&void 0!==t&&t.tags){const e=new Set;t.tags.forEach((t=>{if(t.name.includes(" playing")){const n=t.name.split(" ")[0].toLowerCase();e.add(n)}}));const n=Array.from(e).sort();d(n),u(n[0]||"")}}),[t]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[(0,l.jsx)("button",{className:"process-button",onClick:()=>{if(null===t||void 0===t||!t.tags||!s||!f)return;const e=ui(t.tags,s,f);console.log({tags:t.tags,playerName:s,team:f,newTags:e}),i(e)},disabled:!s,children:"Split Playing Time"}),(0,l.jsxs)("select",{value:s,onChange:e=>u(e.target.value),className:"player-name-select",children:[0===c.length&&(0,l.jsx)("option",{value:"",children:"No players found"}),c.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),(0,l.jsxs)("select",{value:f,onChange:e=>h(e.target.value),className:"team-select",children:[(0,l.jsx)("option",{value:"home",children:"Home"}),(0,l.jsx)("option",{value:"away",children:"Away"})]}),(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("span",{className:"info-icon",role:"img","aria-label":"info",children:"\u2139\ufe0f"}),(0,l.jsxs)("div",{className:"tooltip-content",children:["This processor:",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:'Finds all "<playerName> playing" tags'}),(0,l.jsx)("li",{children:"Splits them into offense/defense segments based on which team is attacking"}),(0,l.jsx)("li",{children:'Creates new tags like "<playerName> playing offense" and "<playerName> playing defense"'})]})]})]})]}),o.length>0&&(0,l.jsxs)("div",{className:"proposed-tags-container",children:[(0,l.jsxs)("h2",{children:["Proposed ",s," Split Playing Tags"]}),(0,l.jsx)("textarea",{readOnly:!0,value:JSON.stringify(o,null,2),rows:10,className:"proposed-tags-textarea"}),(0,l.jsx)("button",{className:"approve-button",onClick:async()=>{await ci(t,o,a.APIbaseUrl)&&(i([]),n())},children:"Approve and Save Tags"})]})]})};const Ci=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[u,c]=(0,r.useState)(1800),[d,f]=(0,r.useState)(null),h=(0,r.useRef)(null),p=(0,i.zy)(),m=new URLSearchParams(p.search),g=parseInt(m.get("videoId")),[v,y]=(0,r.useState)(""),[_,x]=(0,r.useState)(null),[w,S]=(0,r.useState)(1),[C,E]=(0,r.useState)(null),[k,P]=(0,r.useState)(0),[j,T]=(0,r.useState)(null),[M,N]=(0,r.useState)(!1);(0,r.useEffect)((()=>{D()}),[]),(0,r.useEffect)((()=>{g&&t.length>0&&F(g)}),[g,t]);const D=async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/videos/with-tags`),r=await t.json();n(r)}catch(t){console.error("Error fetching videos:",t)}},O=async()=>{if(await D(),a){const t=(await(await fetch(`${e.APIbaseUrl}/api/videos/with-tags`)).json()).find((e=>e.id===a.id));o(t)}},F=async e=>{const n=t.find((t=>t.id===e));if(o(n),n)try{const e=await(0,bi.getVideoMetadata)(n.filepath),t=30;e.fps=t,f(e),c(Math.ceil(e.durationInSeconds*e.fps))}catch(r){console.error("Error getting video metadata:",r)}},R=e=>{h.current&&h.current.seekTo(e)},A=async(e,t)=>{h.current&&(h.current.seekTo(e),h.current.pause(),N(!0),T(e),x(t))};return(0,r.useEffect)((()=>{let e;return M&&(e=setTimeout((()=>{var e;N(!1),P(0),S(.2),E(j+2),null===(e=h.current)||void 0===e||e.play()}),500)),()=>{e&&clearTimeout(e)}}),[M,j]),(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"clipmaker-container",children:[(0,l.jsx)("h1",{children:"Clip Maker"}),(0,l.jsxs)("div",{className:"video-selection",children:[(0,l.jsx)("h2",{children:"Select a Video"}),(0,l.jsxs)("select",{onChange:e=>F(parseInt(e.target.value)),value:(null===a||void 0===a?void 0:a.id)||"",children:[(0,l.jsx)("option",{value:"",children:"Choose a video..."}),t.map((e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.tags.length," tags)"]},e.id)))]})]}),a&&a.filepath.includes("backblaze")&&(0,l.jsx)("div",{className:"video-player",style:{marginBottom:"20px"},children:(0,l.jsx)(b.ai,{ref:h,component:yi.A,inputProps:{src:a.filepath,onFrameUpdate:e=>{var t;_&&(k<5&&C&&e>=C&&(P((e=>e+1)),E(e+2),S(.2)),k>=3&&C&&(S(1),E(null)),e>=_&&(null===(t=h.current)||void 0===t||t.pause(),x(null),S(1),P(0),T(null)))}},durationInFrames:u,compositionWidth:800,compositionHeight:d?Math.round(d.height/d.width*800):450,fps:(null===d||void 0===d?void 0:d.fps)||30,playbackRate:w,controls:!0,renderLoading:()=>(0,l.jsx)("div",{children:"Loading..."})})}),a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"tags-table-container",children:[(0,l.jsxs)("h2",{children:["Tags for ",a.name]}),(0,l.jsx)(pi,{buttonText:"Scoring Possessions (home)",selectedVideo:a,onTagsApproved:O,team:"home",scoringOnly:!0,onPreview:A}),(0,l.jsx)(pi,{buttonText:"Scoring Possessions (away)",selectedVideo:a,onTagsApproved:O,team:"away",scoringOnly:!0,onPreview:A}),(0,l.jsx)(pi,{buttonText:"Scores (home)",selectedVideo:a,onTagsApproved:O,team:"home",scoringOnly:!0,maxPrecedingTouches:3,onPreview:A}),(0,l.jsx)(pi,{buttonText:"Scores (away)",selectedVideo:a,onTagsApproved:O,team:"away",scoringOnly:!0,maxPrecedingTouches:3,onPreview:A}),(0,l.jsx)(pi,{buttonText:"Attacks (home)",selectedVideo:a,onTagsApproved:O,team:"home",scoringOnly:!1,onPreview:A}),(0,l.jsx)(pi,{buttonText:"Attacks (away)",selectedVideo:a,onTagsApproved:O,team:"away",scoringOnly:!1,onPreview:A}),(0,l.jsx)(hi,{buttonText:"Turnovers (home)",selectedVideo:a,onTagsApproved:O,teamTouchPrefix:"home_touch_",turnoverTag:"home_turnover",maxPrecedingTouches:3,onPreview:A}),(0,l.jsx)(hi,{buttonText:"Turnovers (away)",selectedVideo:a,onTagsApproved:O,teamTouchPrefix:"away_touch_",turnoverTag:"away_turnover",maxPrecedingTouches:3,onPreview:A}),(0,l.jsx)(gi,{selectedVideo:a,onTagsApproved:O}),(0,l.jsx)(fi,{selectedVideo:a,onTagsApproved:O}),(0,l.jsx)(Si,{selectedVideo:a,onTagsApproved:O}),(0,l.jsx)(vi,{selectedVideo:a,onTagsApproved:O,onPreview:A}),(0,l.jsx)(xi,{selectedVideo:a,onTagsApproved:O,team:"home",globalData:e}),(0,l.jsx)(xi,{selectedVideo:a,onTagsApproved:O,team:"away",globalData:e}),(0,l.jsx)(mi,{selectedVideo:a,onTagsApproved:O,onPreview:A}),(0,l.jsx)(wi,{selectedVideo:a,onTagsApproved:O,globalData:e}),(0,l.jsxs)("div",{className:"tag-filters",style:{marginBottom:"20px",marginTop:"30px"},children:[(0,l.jsx)("input",{type:"text",placeholder:"Filter tags...",value:v,onChange:e=>y(e.target.value),style:{padding:"5px",width:"200px",marginRight:"10px"}}),(0,l.jsxs)("div",{className:"filter-buttons",style:{marginTop:"10px",display:"flex",gap:"10px"},children:[(0,l.jsx)("button",{onClick:()=>y(""),className:""===v?"active":"",children:"All"}),(0,l.jsx)("button",{onClick:()=>y("home_touch"),className:"home_touch"===v?"active":"",children:"Home Touches"}),(0,l.jsx)("button",{onClick:()=>y("away_touch"),className:"away_touch"===v?"active":"",children:"Away Touches"}),(0,l.jsx)("button",{onClick:()=>y("turnover"),className:"turnover"===v?"active":"",children:"Turnovers"}),(0,l.jsx)("button",{onClick:()=>y("score"),className:"score"===v?"active":"",children:"Scores"}),(0,l.jsx)("button",{onClick:()=>y("_in_game"),className:"_in_game"===v?"active":"",children:"Player Sequences"})]})]}),(0,l.jsxs)("table",{className:"tags-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Tag Name"}),(0,l.jsx)("th",{children:"Frame Range"}),(0,l.jsx)("th",{children:"Time Range"}),(0,l.jsx)("th",{children:"Frame"}),(0,l.jsx)("th",{children:"Time"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:[...a.tags].sort(((e,t)=>(e.frame||0)-(t.frame||0))).filter((e=>e.name.toLowerCase().includes(v.toLowerCase()))).map(((t,n)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:t.name}),(0,l.jsxs)("td",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>R(t.startFrame||t.frame),children:[t.startFrame,"-",t.endFrame]}),(0,l.jsx)("td",{children:t.startFrame&&t.endFrame?(0,l.jsx)(_i,{startFrame:t.startFrame,endFrame:t.endFrame,onFrameSelect:R,fps:(null===d||void 0===d?void 0:d.fps)||30}):(0,l.jsxs)(l.Fragment,{children:[t.startFrame?`${(t.startFrame/30).toFixed(2)}s`:"","-",t.endFrame?`${(t.endFrame/30).toFixed(2)}s`:""]})}),(0,l.jsx)("td",{style:t.frame?{cursor:"pointer",textDecoration:"underline"}:{},onClick:()=>t.frame&&R(t.frame),children:t.frame}),(0,l.jsx)("td",{children:t.frame?`${(t.frame/30).toFixed(2)}s`:""}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"delete-button",onClick:()=>(async t=>{if(a)try{const n=a.metadata?JSON.parse(a.metadata):{},r=n.tags||[],o=r.findIndex((e=>e.name===t.name&&e.frame===t.frame&&e.startFrame===t.startFrame&&e.endFrame===t.endFrame));if(-1===o)return;const i=[...r.slice(0,o),...r.slice(o+1)];if(!(await fetch(`${e.APIbaseUrl}/api/videos/${a.id}/metadata`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:JSON.stringify({...n,tags:i})})})).ok)throw new Error("Failed to delete tag");await O()}catch(n){console.error("Error deleting tag:",n)}})(t),children:"Delete"})})]},n)))})]})]})})]})})};const Ei=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),u=(0,i.Zp)();return(0,r.useEffect)((()=>{fetch(`${e.APIbaseUrl}/api/hotkeys`).then((e=>e.json())).then((e=>n(e))).catch((e=>o("Failed to load hotkey configurations")))}),[]),(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"hotkey-config",children:[(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)("h1",{children:"Hotkey Configuration"}),(0,l.jsx)("button",{className:"add-new-button",onClick:async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/hotkeys/new`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"New Hotkey Group"})}),n=await t.json();n.error?o(n.error):u(`/hotkeys/${n.id}`)}catch(t){o("Failed to create new hotkey group")}},children:"Add New Group"})]}),a&&(0,l.jsx)("div",{className:"error-message",children:a}),(0,l.jsx)("div",{className:"hotkey-groups",children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Group Name"}),(0,l.jsx)("th",{children:"Shortcuts"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsxs)("tbody",{children:[t.map((r=>{return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"group-name",children:r.name}),(0,l.jsx)("td",{className:"shortcuts-cell",children:(a=r.shortcuts,a&&0!==Object.keys(a).length?(0,l.jsx)("ul",{className:"shortcuts-list",children:Object.entries(a).map((e=>{let[t,n]=e;return(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"key",children:t})," \u2192",(0,l.jsx)("span",{className:"action",children:n.action}),n.description&&(0,l.jsxs)("span",{className:"description",children:["(",n.description,")"]})]},t)}))}):(0,l.jsx)("em",{children:"No shortcuts configured"}))}),(0,l.jsx)("td",{className:"actions-cell",children:(0,l.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,l.jsx)("button",{onClick:()=>u(`/hotkeys/${r.id}`),className:"primary-button",children:"View/Edit"}),(0,l.jsx)("button",{onClick:()=>(async r=>{if(window.confirm("Are you sure you want to delete this hotkey group?"))try{const a=await fetch(`${e.APIbaseUrl}/api/hotkeys/${r}`,{method:"DELETE"});if(a.ok)n(t.filter((e=>e.id!==r)));else{const e=await a.json();o(e.error||"Failed to delete hotkey group")}}catch(a){o("Failed to delete hotkey group")}})(r.id),className:"delete-button",style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})})]},r.id);var a})),0===t.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"3",className:"no-groups",children:'No hotkey groups configured. Click "Add New Group" to create one.'})})]})]})})]})})};const ki=function(){const e=(0,r.useContext)(es),{id:t}=(0,i.g)(),n=(0,i.Zp)(),[a,o]=(0,r.useState)(null),[u,c]=(0,r.useState)(null),[d,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[y,_]=(0,r.useState)(!1),[x,w]=(0,r.useState)(null),[S,C]=(0,r.useState)(""),[E,k]=(0,r.useState)(null),[P,j]=(0,r.useState)(""),[T,M]=(0,r.useState)([]),[N,D]=(0,r.useState)(""),[O,F]=(0,r.useState)({});(0,r.useEffect)((()=>{fetch(`${e.APIbaseUrl}/api/hotkeys/${t}`).then((e=>e.json())).then((e=>{if(e.error)c(e.error);else{var t=e.shortcuts,n=e.instructions||[];t.shortcuts&&(n=t.instructions,t=t.shortcuts),n=n.map((e=>"string"===typeof e?{id:Date.now()+Math.random(),name:"No name yet",text:e}:e.name?e:{...e,name:"No name yet"})),o({...e,shortcuts:t}),M(n)}})).catch((e=>c("Failed to load hotkey group")))}),[t]),(0,r.useEffect)((()=>{if(y)return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}}),[y]);const R=e=>{e.preventDefault();const t=[];e.ctrlKey&&t.push("CTRL"),e.shiftKey&&t.push("SHIFT"),e.altKey&&t.push("ALT"),["Control","Shift","Alt"].includes(e.key)||t.push(e.key);const n=t.join("+");n&&b(n)},A=async n=>{if(S)try{const r={...a.shortcuts};r[n]={...r[n],action:S};if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:r,instructions:T})})).ok)throw new Error("Failed to update shortcuts");o({...a,shortcuts:r}),w(null),C("")}catch(r){c("Failed to update shortcuts")}},I=()=>{w(null),C("")},L=async n=>{if(P)try{const r={...a.shortcuts};r[n]={...r[n],description:P};if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:r,instructions:T})})).ok)throw new Error("Failed to update shortcuts");o({...a,shortcuts:r}),k(null),j("")}catch(r){c("Failed to update shortcuts")}};return u?(0,l.jsx)(s.A,{children:(0,l.jsx)("div",{className:"error-message",children:u})}):a?(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"view-hotkey-group",children:[d?(0,l.jsxs)("div",{className:"edit-title",children:[(0,l.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),autoFocus:!0}),(0,l.jsx)("button",{onClick:async()=>{try{if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/rename`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok)throw new Error("Failed to update name");o({...a,name:h}),f(!1)}catch(n){c("Failed to update name")}},title:"Save",children:"\ud83d\udcbe"}),(0,l.jsx)("button",{onClick:()=>{f(!1),p("")},title:"Cancel",children:"\u274c"})]}):(0,l.jsxs)("h1",{children:[a.name,(0,l.jsx)("button",{onClick:()=>{p(a.name),f(!0)},className:"edit-button",title:"Edit name",children:"\u270f\ufe0f"})]}),(0,l.jsxs)("div",{className:"instructions-container",children:[(0,l.jsx)("h2",{children:"Dictation Instructions"}),(0,l.jsxs)("div",{className:"add-instruction",children:[(0,l.jsx)("textarea",{value:N,onChange:e=>D(e.target.value),placeholder:"Enter new instruction...",onKeyPress:e=>{e.key},style:{width:"100%",minHeight:"200px",padding:"12px",fontSize:"16px",lineHeight:"1.5",border:"2px solid #ccc",borderRadius:"4px",resize:"vertical"}}),(0,l.jsx)("button",{onClick:async()=>{if(N.trim())try{const n=[...T,{id:Date.now(),name:`Instruction ${T.length+1}`,text:N}];if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:a.shortcuts,instructions:n})})).ok)throw new Error("Failed to add instruction");M(n),D("")}catch(n){c("Failed to add instruction")}},children:"Add"})]}),(0,l.jsx)("ul",{className:"instructions-list",children:T.map((n=>{var r;return(0,l.jsxs)("li",{children:[(0,l.jsx)("input",{type:"text",value:null!==(r=O[n.id])&&void 0!==r?r:n.name,onChange:e=>{return t=n.id,r=e.target.value,void F((e=>({...e,[t]:r})));var t,r},onBlur:async()=>{const r=O[n.id];void 0!==r&&r!==n.name&&await(async(n,r)=>{try{const o=T.map((e=>e.id===n?{...e,name:r}:e));if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:a.shortcuts,instructions:o})})).ok)throw new Error("Failed to update instruction name");M(o)}catch(o){c("Failed to update instruction name")}})(n.id,r)},className:"instruction-name-input"}),n.text,(0,l.jsx)("button",{onClick:()=>(async t=>{try{const n=T.filter((e=>e.id!==t));if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:a.shortcuts,instructions:n})})).ok)throw new Error("Failed to delete instruction");M(n)}catch(n){c("Failed to delete instruction")}})(n.id),className:"delete-button",title:"Delete instruction",children:"\ud83d\uddd1\ufe0f"})]},n.id)}))})]}),(0,l.jsxs)("div",{className:"shortcuts-container",children:[(0,l.jsxs)("div",{className:"shortcuts-header",children:[(0,l.jsx)("h2",{children:"Shortcuts"}),(0,l.jsx)("button",{onClick:async()=>{try{const n="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,.;".split(""),r=Object.keys(a.shortcuts),i=n.filter((e=>!r.includes(e)));if(0===i.length)return void c("No more available single letter keys!");const s=i[Math.floor(Math.random()*i.length)],l={...a.shortcuts};l[s]={action:'console.log("New hotkey")',description:"New hotkey description"};if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:l,instructions:T})})).ok)throw new Error("Failed to add shortcut");o({...a,shortcuts:l})}catch(n){c("Failed to add shortcut")}},className:"add-hotkey-button",title:"Add new hotkey",children:"Add Hotkey"})]}),(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Key"}),(0,l.jsx)("th",{children:"Action"}),(0,l.jsx)("th",{children:"Description"}),(0,l.jsx)("th",{children:"Delete"})]})}),(0,l.jsx)("tbody",{children:Object.entries(a.shortcuts).sort(((e,t)=>e[1].action.localeCompare(t[1].action))).map((n=>{let[r,i]=n;return(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{className:"key",children:[(0,l.jsx)("button",{onClick:()=>(g(r),b(""),void _(!0)),className:"edit-key-button",title:"Edit key",children:"\u270f\ufe0f"}),r]}),(0,l.jsx)("td",{children:x===r?(0,l.jsxs)("div",{className:"edit-action",children:[(0,l.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),onKeyPress:e=>{"Enter"===e.key&&A(r)},autoFocus:!0}),(0,l.jsx)("button",{onClick:()=>A(r),title:"Save",children:"\ud83d\udcbe"}),(0,l.jsx)("button",{onClick:I,title:"Cancel",children:"\u274c"})]}):(0,l.jsxs)("div",{className:"action-cell",children:[(0,l.jsx)("button",{onClick:()=>((e,t)=>{w(e),C(t)})(r,i.action),className:"edit-action-button",title:"Edit action",children:"\u270f\ufe0f"}),i.action]})}),(0,l.jsx)("td",{children:E===r?(0,l.jsxs)("div",{className:"edit-description",children:[(0,l.jsx)("input",{type:"text",value:P,onChange:e=>j(e.target.value),onKeyPress:e=>{"Enter"===e.key&&L(r)},autoFocus:!0}),(0,l.jsx)("button",{onClick:()=>L(r),title:"Save",children:"\ud83d\udcbe"}),(0,l.jsx)("button",{onClick:()=>{k(null),j("")},title:"Cancel",children:"\u274c"})]}):(0,l.jsxs)("div",{className:"description-cell",children:[(0,l.jsx)("button",{onClick:()=>((e,t)=>{k(e),j(t)})(r,i.description),className:"edit-description-button",title:"Edit description",children:"\u270f\ufe0f"}),i.description]})}),(0,l.jsx)("td",{className:"delete-cell",children:(0,l.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this hotkey?")&&(async n=>{try{const r={...a.shortcuts};if(delete r[n],!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:r,instructions:T})})).ok)throw new Error("Failed to delete shortcut");o({...a,shortcuts:r})}catch(r){c("Failed to delete shortcut")}})(r)},className:"delete-button",title:"Delete hotkey",children:"\ud83d\uddd1\ufe0f"})})]},r)}))})]}),(0,l.jsxs)("div",{className:"action-examples",children:[(0,l.jsx)("h3",{children:"Action Examples"}),(0,l.jsx)("p",{children:"When editing actions, you can use any of these formats:"}),(0,l.jsx)("ul",{children:[["addTag('game_start')","Adds a game start tag"],["addTag('home_possession')","Adds a home possession tag"],["addTag('away_possession')","Adds an away possession tag"],["addTag('home_clear')","Adds a home clear tag"],["addTag('away_clear')","Adds an away clear tag"],["addTag('home_turnover')","Adds a home turnover tag"],["addTag('away_turnover')","Adds an away turnover tag"],["addTag('home_score')","Adds a home score tag"],["addTag('touch')","Adds a touch tag"],["togglePlayPause","Plays/pauses the video"],["seekBackward(100)","Moves backward by 100 frames"],["seekForward(100)","Moves forward by 100 frames"],["addHighlight","Adds a highlight tag"],["slowDown","Decreases playback speed"],["speedUp","Increases playback speed"],["resetSpeed","Resets playback speed to 1x"]].map((e=>{let[t,n]=e;return(0,l.jsxs)("li",{children:[(0,l.jsx)("code",{onClick:()=>{x&&C(t)},className:x?"clickable":"",title:x?"Click to use this action":"",children:t}),"- ",n]},t)}))})]})]}),y&&(0,l.jsx)("div",{className:"key-overlay",children:(0,l.jsxs)("div",{className:"key-overlay-content",children:[(0,l.jsx)("h3",{children:"Press a key"}),(0,l.jsx)("div",{className:"key-display",children:v||"Waiting for key press..."}),(0,l.jsxs)("div",{className:"key-overlay-actions",children:[(0,l.jsx)("button",{onClick:async()=>{if(v&&m)try{const n={...a.shortcuts},r=n[m];delete n[m],n[v]=r;if(!(await fetch(`${e.APIbaseUrl}/api/hotkeys/${t}/update-shortcuts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcuts:n,instructions:T})})).ok)throw new Error("Failed to update shortcuts");o({...a,shortcuts:n}),_(!1),g(null),b("")}catch(n){c("Failed to update shortcuts")}},disabled:!v,children:"OK"}),(0,l.jsx)("button",{onClick:()=>{_(!1),g(null),b("")},children:"Cancel"})]})]})}),(0,l.jsx)("div",{className:"actions",children:(0,l.jsx)("button",{onClick:()=>n("/hotkeys"),children:"Back to List"})})]})}):(0,l.jsx)(s.A,{children:(0,l.jsx)("div",{children:"Loading..."})})};const Pi=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=((e,t,n)=>null!==e&&void 0!==e&&e.tags?(n?e.tags.filter((e=>{const t=e.frame||e.startFrame;return t>=n.startFrame&&t<=n.endFrame})):e.tags).filter((e=>e.name.startsWith(`${t}_touch_`))).length:0)(t,n,r),o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Touches"]}),(0,l.jsx)("div",{className:"stat-value",children:a})]})};const ji=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=Xo(t,n,r),o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Scores"]}),(0,l.jsx)("div",{className:"stat-value",children:a})]})};const Ti=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=Yo(t,n,r),o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Attacks"]}),(0,l.jsx)("div",{className:"stat-value",children:a})]})};const Mi=function(e){let{video:t,team:n,frameRange:r,onSelect:a}=e;if(!t)return null;const{count:o,sequences:i}=ei(t,n,r),s="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",onClick:()=>{null===a||void 0===a||a({team:n,count:o,sequences:i,frameRange:r})},style:{cursor:"pointer"},children:[(0,l.jsxs)("h3",{children:[s," Team Possessions"]}),(0,l.jsx)("div",{className:"stat-value",children:o})]})};const Ni=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=Zo(t,n,r);if(!a)return null;const o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Efficiency"]}),(0,l.jsxs)("div",{className:"stat-value",children:[a.scores,"/",a.attacks," (",a.scoringPercentage,"%)",(0,l.jsxs)("div",{className:"stat-subtext",children:[a.clearingTurnovers," clearing turnovers"]})]})]})};const Di=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=Jo(t,n,r);if(!a)return null;const o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Attack Length"]}),(0,l.jsxs)("div",{className:"stat-value",children:[(0,l.jsxs)("div",{children:["Scoring: ",a.scoring.averageTouches," touches/attack",(0,l.jsxs)("div",{className:"stat-subtext",children:[a.scoring.totalTouches," touches in ",a.scoring.attackCount," scoring attacks"]})]}),(0,l.jsxs)("div",{style:{marginTop:"10px"},children:["Non-Scoring: ",a.nonScoring.averageTouches," touches/attack",(0,l.jsxs)("div",{className:"stat-subtext",children:[a.nonScoring.totalTouches," touches in ",a.nonScoring.attackCount," non-scoring attacks"]})]})]})]})};const Oi=function(e){let{video:t,team:n,frameRange:r}=e;if(!t)return null;const a=Qo(t,n,r);if(!a)return null;const o="home"===n?"Home":"Away";return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsxs)("h3",{children:[o," Team Attack Duration"]}),(0,l.jsxs)("div",{className:"stat-value",children:[(0,l.jsxs)("div",{children:["Scoring: ",a.scoring.averageSeconds,"s/attack",(0,l.jsxs)("div",{className:"stat-subtext",children:[a.scoring.totalSeconds,"s total in ",a.scoring.attackCount," scoring attacks"]})]}),(0,l.jsxs)("div",{style:{marginTop:"10px"},children:["Non-Scoring: ",a.nonScoring.averageSeconds,"s/attack",(0,l.jsxs)("div",{className:"stat-subtext",children:[a.nonScoring.totalSeconds,"s total in ",a.nonScoring.attackCount," non-scoring attacks"]})]})]})]})};const Fi=function(e){let{video:t,frameRange:n}=e;if(!t)return null;const r=si(t,n);if(!r)return null;const a=r.homeScore>r.awayScore?"Home":"Away",o=Math.round(r.durationInSeconds),i=Math.floor(o/60),s=o%60;return(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Game Summary"}),(0,l.jsxs)("div",{className:"stat-value",children:[a," won ",r.homeScore," to ",r.awayScore,(0,l.jsxs)("div",{className:"stat-subtext",children:["Game lasted ",i,":",s.toString().padStart(2,"0")]})]})]})},Ri={title:"Team Efficiency",description:"Scores over attacks (ignores clearing turnovers)"},Ai={title:"Attack Length",description:"Average number of touches per attack, split between scoring and non-scoring sequences"},Ii={title:"Attack Duration",description:"Average time spent per attack in seconds, for scoring vs non-scoring attempts"},Li={title:"Team Touches",description:"Total number of touches by the team"},Bi={title:"Team Possessions",description:"Total number of possesions"},Ui={title:"Scores",description:"Total number of scores"},Wi={title:"Attacks",description:"Attacks meaning that the team completed the clear and began advancing toward the hoop"};const zi=function(e){let{sequence:t,video:n,onClipResults:a,validDetections:o,detections:i,setDetections:s}=e;const[u,c]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),h=(0,r.useContext)(es),p=(0,r.useCallback)((async()=>{c(!0),f(null);try{console.log(" doing clip analysis",{video:n,sequence:t});const e=await fetch(`${h.APIbaseUrl}/api/videos/clip-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_url:n.filepath,frame_number:t.startFrame,text_prompt:"person player athlete"})}),r=await e.json();if(r.error)throw new Error(r.error);const o=r.detections.map((e=>({x:e.bbox[0],y:e.bbox[1],width:e.bbox[2]-e.bbox[0],height:e.bbox[3]-e.bbox[1],label:e.label,source:"clip"})));s(o),a({detections:o,frame:t.startFrame,frameImage:r.frame_image})}catch(d){f(d.message),alert(`Failed to analyze: ${d.message}`)}finally{c(!1)}}),[s]),m=(0,r.useCallback)((async()=>{c(!0);try{const e=await fetch(`${h.APIbaseUrl}/api/videos/process-tracking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rectangles:o||i,sourceUrl:n.filepath,outputFilename:`tracked_sequence_${t.startFrame}-${t.endFrame}.mp4`,startFrame:t.startFrame,endFrame:t.endFrame})}),r=await e.json();if(r.error)throw new Error(r.error);alert("Tracking started successfully!"),s(null)}catch(d){f(d.message),alert(`Failed to track: ${d.message}`)}finally{c(!1)}}),[i,o,s]);return i?(0,l.jsxs)("button",{onClick:m,disabled:u,className:"track-sequence-button process "+(u?"processing":""),title:d||"Process tracking for this sequence",children:[u?"\ud83d\udd04":"\ud83c\udfaf"," Process"]}):(0,l.jsxs)("button",{onClick:p,disabled:u,className:"track-sequence-button "+(u?"processing":""),title:d||"Track players in this sequence",children:[u?"\ud83d\udd04":"\ud83d\udc65"," Track"]})},$i=e=>null!==e&&void 0!==e&&e.tags&&0!==e.tags.length?Math.max(...e.tags.flatMap((e=>[e.frame||0,e.startFrame||0,e.endFrame||0]))):3e3,Vi=e=>{if(!e)return null;const t=$i(e);return{key:`${e.id}-full-video-0-${t}`,videoId:e.id,videoName:e.name,videoFilepath:e.filepath,tagName:"full_video",frame:0,startFrame:0,endFrame:t}},Gi=e=>{const t=e/30;return`${Math.floor(t/60)}:${Math.floor(t%60).toString().padStart(2,"0")}`},Hi=e=>e.touches.some((e=>"score"===e.name))?"\ud83c\udfc6 Score":"\u274c No Score",Ki=e=>{let{detections:t,onRemove:n,onHover:r}=e;return(0,l.jsxs)("div",{className:"detections-table-container",children:[(0,l.jsx)("h3",{children:"Detected Objects"}),(0,l.jsxs)("table",{className:"detections-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Label"}),(0,l.jsx)("th",{children:"Confidence"}),(0,l.jsx)("th",{children:"Position"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:t.map(((e,t)=>(0,l.jsxs)("tr",{onMouseEnter:()=>r(t),onMouseLeave:()=>r(null),children:[(0,l.jsx)("td",{children:e.label}),(0,l.jsxs)("td",{children:[(100*e.confidence).toFixed(1),"%"]}),(0,l.jsxs)("td",{children:["x: ",e.x.toFixed(0),", y: ",e.y.toFixed(0),", w: ",e.width.toFixed(0),", h: ",e.height.toFixed(0)]}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>n(t),className:"remove-detection-btn",children:"\u274c"})})]},t)))})]})]})};const qi=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[i,u]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[f,h]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null),[y,_]=(0,r.useState)(0),[w,S]=(0,r.useState)(null),[C,E]=(0,r.useState)(1),[k,P]=(0,r.useState)(0),[j,T]=(0,r.useState)(null),[M,N]=(0,r.useState)(!1),[D,O]=(0,r.useState)(null),[F,R]=(0,r.useState)(null),[A,I]=(0,r.useState)(null),[L,B]=(0,r.useState)(!0),[U,W]=(0,r.useState)(null),[z,$]=(0,r.useState)([]),[V,G]=(0,r.useState)(null);(0,r.useEffect)((()=>{H()}),[]);const H=async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/videos/with-tags`),r=await t.json();n(r)}catch(t){console.error("Error fetching videos:",t)}};(0,r.useEffect)((()=>{S(null)}),[a,c]);const K=()=>{if(null===c||!i[c])return null;const e=i[c];return{startFrame:e.startFrame,endFrame:e.endFrame}},q=e=>{var t;if(console.log("Possession clicked:",e),S(e),null!==(t=e.sequences)&&void 0!==t&&t[0]){const t=e.sequences[0];f&&(f.seekTo(t.startFrame),v(t.startFrame),m(t.endFrame),f.play())}};(0,r.useEffect)((()=>{let e;return M&&(e=setTimeout((()=>{N(!1),P(0),E(.2),T(g+2),null===f||void 0===f||f.play()}),500)),()=>{e&&clearTimeout(e)}}),[M,g]);const Y=e=>{console.log("clipResults",{results:e}),I(e),$(e.detections||[]),G(e.detections||[]),f&&(f.currentTime=e.frame/30)};return(0,l.jsxs)(s.A,{children:[(0,l.jsxs)("div",{className:"stats-container",children:[(0,l.jsx)("h1",{children:"Stats & Reports"}),(0,l.jsxs)("div",{className:"video-selection",children:[(0,l.jsx)("h2",{children:"Select a Video"}),(0,l.jsxs)("select",{onChange:e=>(e=>{const n=t.find((t=>t.id===e));if(o(n),null!==n&&void 0!==n&&n.tags){const e=n.tags.filter((e=>"game"===e.name&&e.startFrame&&e.endFrame)).sort(((e,t)=>e.startFrame-t.startFrame));u(e),d(e.length>0?0:null)}})(parseInt(e.target.value)),value:(null===a||void 0===a?void 0:a.id)||"",children:[(0,l.jsx)("option",{value:"",children:"Choose a video..."}),t.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id)))]}),i.length>0&&(0,l.jsx)("div",{style:{marginTop:"10px"},children:(0,l.jsx)("select",{onChange:e=>d(parseInt(e.target.value)),value:c||0,children:i.map(((e,t)=>(0,l.jsxs)("option",{value:t,children:["Game ",t+1," (",(e.startFrame/30).toFixed(0),"s - ",(e.endFrame/30).toFixed(0),"s)"]},t)))})})]}),a&&(0,l.jsxs)("div",{className:"video-player",style:{marginBottom:"2rem"},children:[(0,l.jsxs)("div",{className:"video-container",children:[(0,l.jsx)("div",{className:"video-controls",children:A&&(0,l.jsx)("button",{onClick:()=>B(!L),className:"toggle-frame-button",children:L?"Show Video":"Show Analysis Frame"})}),(0,l.jsx)(b.ai,{ref:h,component:x,inputProps:{selectedVideos:new Set([a.id]),videos:[a],selectedTags:new Set([Vi(a)]),onFrameUpdate:e=>{_(e),p&&(k<5&&j&&e>=j&&(P((e=>e+1)),T(e+2),E(.2)),k>=3&&j&&(E(1),T(null)),e>=p&&(null===f||void 0===f||f.pause(),m(null),E(1),P(0),v(null),O(null)))},detections:V||[],frameImage:L?null===A||void 0===A?void 0:A.frameImage:null,hoveredDetectionIndex:U},durationInFrames:$i(a),compositionWidth:1280,compositionHeight:720,fps:30,controls:!0,loop:!p,playbackRate:C,style:{width:"100%"}})]}),w&&(0,l.jsxs)("div",{className:"sequences-table-container",children:[(0,l.jsxs)("h3",{children:["home"===w.team?"Home":"Away"," Team Possession Sequences"]}),(0,l.jsxs)("table",{className:"sequences-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Sequence"}),(0,l.jsx)("th",{children:"Start Time"}),(0,l.jsx)("th",{children:"End Time"}),(0,l.jsx)("th",{children:"Duration"}),(0,l.jsx)("th",{children:"Touch Count"}),(0,l.jsx)("th",{children:"Result"}),(0,l.jsx)("th",{children:"Actions"}),(0,l.jsx)("th",{children:"Clip"})]})}),(0,l.jsx)("tbody",{children:w.sequences.map(((e,t)=>(0,l.jsxs)("tr",{className:`${F===e?"last-played":""} ${D===e?"currently-playing":""}`,children:[(0,l.jsx)("td",{children:t+1}),(0,l.jsx)("td",{children:Gi(e.startFrame)}),(0,l.jsx)("td",{children:Gi(e.endFrame)}),(0,l.jsx)("td",{className:"duration-cell",children:(0,l.jsxs)("div",{className:"duration-content",children:[(0,l.jsxs)("span",{children:[((e.endFrame-e.startFrame)/30).toFixed(1),"s"]}),D===e&&(0,l.jsx)("div",{className:"clip-progress",children:(0,l.jsx)("div",{className:"progress-bar",style:{width:`${Math.round((y-e.startFrame)/(e.endFrame-e.startFrame)*100)}%`}})})]})}),(0,l.jsx)("td",{children:e.touches.length}),(0,l.jsx)("td",{className:"result-cell "+(Hi(e).includes("Score")?"score":"no-score"),children:Hi(e)}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>(e=>{f&&(f.seekTo(e.startFrame),f.pause(),N(!0),v(e.startFrame),m(e.endFrame),O(e),R(e))})(e),className:"play-sequence-button "+(D===e?"playing":""),children:D===e?"\ud83d\udd04":"\u25b6\ufe0f"})}),(0,l.jsx)("td",{children:(0,l.jsx)(zi,{sequence:e,video:a,onClipResults:Y,validDetections:z,detections:V,setDetections:G})})]},t)))})]})]})]}),a&&(0,l.jsxs)("div",{className:"stats-panel",children:[(0,l.jsxs)("h2",{children:["Statistics for ",a.name]}),(0,l.jsx)("div",{className:"game-summary-section",children:(0,l.jsx)(Fi,{video:a,frameRange:K()})}),(0,l.jsxs)("div",{className:"stats-table",children:[(0,l.jsxs)("div",{className:"stats-header",children:[(0,l.jsx)("div",{className:"stats-cell description-header"}),(0,l.jsx)("div",{className:"stats-cell",children:"Home Team"}),(0,l.jsx)("div",{className:"stats-cell",children:"Away Team"})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Ri.title}),(0,l.jsx)("p",{children:Ri.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Ni,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Ni,{video:a,team:"away",frameRange:K()})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Ai.title}),(0,l.jsx)("p",{children:Ai.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Di,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Di,{video:a,team:"away",frameRange:K()})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Ii.title}),(0,l.jsx)("p",{children:Ii.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Oi,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Oi,{video:a,team:"away",frameRange:K()})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Li.title}),(0,l.jsx)("p",{children:Li.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Pi,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Pi,{video:a,team:"away",frameRange:K()})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Bi.title}),(0,l.jsx)("p",{children:Bi.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Mi,{video:a,team:"home",frameRange:K(),onSelect:q})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Mi,{video:a,team:"away",frameRange:K(),onSelect:q})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Ui.title}),(0,l.jsx)("p",{children:Ui.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(ji,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(ji,{video:a,team:"away",frameRange:K()})})]}),(0,l.jsxs)("div",{className:"stats-row",children:[(0,l.jsxs)("div",{className:"stats-cell description-cell",children:[(0,l.jsx)("h4",{children:Wi.title}),(0,l.jsx)("p",{children:Wi.description})]}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Ti,{video:a,team:"home",frameRange:K()})}),(0,l.jsx)("div",{className:"stats-cell",children:(0,l.jsx)(Ti,{video:a,team:"away",frameRange:K()})})]})]}),(0,l.jsx)("div",{className:"overall-stats"})]})]}),A&&(0,l.jsx)(Ki,{detections:V||[],onRemove:e=>{I((t=>({...t,detections:t.detections.filter(((t,n)=>n!==e))}))),$((t=>t.filter(((t,n)=>n!==e)))),G((t=>t.filter(((t,n)=>n!==e))))},onHover:W})]})};const Yi=function(){var e;const t=(0,r.useContext)(es),[n,a]=(0,r.useState)([]),[o,i]=(0,r.useState)(null),[u,c]=(0,r.useState)(!0),[d,f]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[v,b]=(0,r.useState)(!1),[y,_]=(0,r.useState)(null),x=(0,r.useRef)(null),[w,S]=(0,r.useState)({width:0,height:0}),[C,E]=(0,r.useState)(""),[k,P]=(0,r.useState)(!1),[j,T]=(0,r.useState)(null),[M,N]=(0,r.useState)(null),[D,O]=(0,r.useState)(""),[F,R]=(0,r.useState)(!1),[A,I]=(0,r.useState)(null),[L,B]=(0,r.useState)(0),[U,W]=(0,r.useState)([]),[z,$]=(0,r.useState)("draw"),[V,G]=(0,r.useState)(0),[H,K]=(0,r.useState)(0);(0,r.useEffect)((()=>{q()}),[]),(0,r.useEffect)((()=>{o&&Y()}),[o]),(0,r.useEffect)((()=>{h&&X()}),[h,m,y]);const q=async()=>{try{const e=await fetch(`${t.APIbaseUrl}/api/videos`),n=(await e.json()).map((e=>({...e,metadata:JSON.parse(e.metadata)})));a(n)}catch(d){f("Failed to fetch videos")}finally{c(!1)}},Y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const n=await fetch(`${t.APIbaseUrl}/api/videos/b2-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:o.url,frame_number:e})}),r=await n.json();if(r.error)console.error(r.error),f(r.error);else{T(r);const e=new Image;if(e.onload=()=>{S({width:r.width,height:r.height}),p(e)},e.src=`data:image/jpeg;base64,${r.frame_image}`,r.boxes_data){const e=r.boxes_data.map((e=>{const t=[];for(const[n,r]of Object.entries(e))t.push({x:r[0],y:r[1],width:r[2],height:r[3],id:n,name:n});return t}));e.length>0&&g(e[0])}}}catch(d){f("Failed to fetch video info")}},X=()=>{const e=x.current,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.drawImage(h,0,0,e.width,e.height),m.forEach((e=>{t.strokeStyle="#00ff00",t.lineWidth=2,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="rgba(0, 255, 0, 0.1)",t.fillRect(e.x,e.y,e.width,e.height)})),U.forEach((e=>{t.strokeStyle="#ff0000",t.lineWidth=2,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="rgba(255, 0, 0, 0.1)",t.fillRect(e.x,e.y,e.width,e.height),t.font="14px Arial",t.fillStyle="#ff0000",t.fillText(e.label,e.x,e.y-5)})),y&&(t.strokeStyle="#ff0000",t.lineWidth=2,t.strokeRect(y.x,y.y,y.width,y.height),t.fillStyle="rgba(255, 0, 0, 0.1)",t.fillRect(y.x,y.y,y.width,y.height))},J=(e,t)=>{const n=t.getBoundingClientRect(),r=t.width/n.width,a=t.height/n.height;return{x:(e.clientX-n.left)*r,y:(e.clientY-n.top)*a}},Q=()=>{var e;v&&y&&(e=y,"draw"===z?g((t=>[...t,{...e,name:""}])):"keep"===z?g((t=>t.filter((t=>t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height)))):"remove"===z&&g((t=>t.filter((t=>!(t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height))))),b(!1),_(null))},Z=e=>{let{results:t}=e;return t?(0,l.jsxs)("div",{className:"clip-results",children:[(0,l.jsx)("h3",{children:"CLIP Analysis Results"}),(0,l.jsxs)("p",{children:["Similarity Score: ",(100*t.similarity_score).toFixed(2),"%"]}),(0,l.jsx)("img",{src:`data:image/jpeg;base64,${t.frame_image}`,alt:"CLIP analysis frame",style:{maxWidth:"100%",marginTop:"10px"}})]}):null},ee=(0,l.jsx)("div",{className:"video-player-container",children:(0,l.jsx)("video",{ref:e=>I(e),src:null===o||void 0===o?void 0:o.url,controls:!0,style:{maxWidth:"100%",marginBottom:"1rem"},onTimeUpdate:e=>B(e.target.currentTime)})}),te=(0,l.jsxs)("table",{className:"coordinates-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"X"}),(0,l.jsx)("th",{children:"Y"}),(0,l.jsx)("th",{children:"Width"}),(0,l.jsx)("th",{children:"Height"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsxs)("tbody",{children:[m.map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"text",value:e.name||"",onChange:e=>((e,t)=>{g((n=>n.map(((n,r)=>r===e?{...n,name:t}:n))))})(t,e.target.value),placeholder:"Player name",style:{width:"100px"}})}),(0,l.jsx)("td",{children:Math.round(e.x)}),(0,l.jsx)("td",{children:Math.round(e.y)}),(0,l.jsx)("td",{children:Math.round(e.width)}),(0,l.jsx)("td",{children:Math.round(e.height)}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"delete-rectangle-button",onClick:()=>(e=>{g((t=>t.filter(((t,n)=>n!==e))))})(t),title:"Delete rectangle",children:"\ud83d\uddd1\ufe0f"})})]},t))),0===m.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"6",className:"no-rectangles",children:"No rectangles drawn yet"})})]})]}),ne=(0,l.jsxs)("div",{className:"render-status",children:[d&&(0,l.jsx)("div",{className:"error-message",children:d}),(0,l.jsx)("button",{className:"cloud-render-button",onClick:async()=>{if(!C)return void f("Please enter an output filename");const e=[...m.map((e=>({x:e.x,y:e.y,width:e.width,height:e.height,name:e.name,source:"manual"}))),...U.map((e=>({x:e.x,y:e.y,width:e.width,height:e.height,label:e.label,source:"clip"})))];0!==e.length?(f(null),fetch(`${t.APIbaseUrl}/api/videos/process-tracking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rectangles:e,sourceUrl:o.url,outputFilename:C.endsWith(".mp4")?C:`${C}.mp4`,startFrame:V,endFrame:H})}),alert("Processing started!")):f("No rectangles or detections found")},disabled:!C||0===m.length,children:"Cloud Render"}),(0,l.jsx)("button",{className:"add-tracking-tag-button",onClick:async()=>{if(!o||!C)return;const e={name:"score tracking",startFrame:V,endFrame:H,type:"tracking"};console.log({selectedVideo:o,tag:e});const n=await(async(e,t,n)=>{try{const r=await fetch(`${n}/api/videos/${e}`),a=(await r.json()).metadata;"string"===typeof a&&(a=JSON.parse(a));const o=a.tags||[];if(o.some((e=>e.name===t.name&&e.startFrame===t.startFrame&&e.endFrame===t.endFrame&&e.type===t.type)))throw new Error("This exact tag already exists");const i=[...o,t],s={...a,tags:i};if(!(await fetch(`${n}/api/videos/${e}/metadata`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:JSON.stringify(s)})})).ok)throw new Error("Failed to save tag");return!0}catch(d){return console.error("Error managing tags:",d),alert(d.message||"Failed to add tag"),!1}})(o.id,e,t.APIbaseUrl);n?alert("Tracking tag added successfully!"):alert("Failed to add tracking tag")},disabled:!C,children:"Add Tracking Tag"})]});return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"player-tracking",children:[(0,l.jsx)("h1",{children:"Player Tracking"}),(0,l.jsxs)("div",{className:"video-selector",children:[(0,l.jsx)("h2",{children:"Select a Video"}),(0,l.jsxs)("select",{onChange:e=>{if(e.target.value){(e=>{if(!e)return;const t={id:e.id,url:e.filepath,name:e.title,title:e.title,size:e.size,filepath:e.filepath,metadata:e.metadata,uploadTimestamp:e.uploadTimestamp};i(t),g([]),_(null),W([])})(n.find((t=>t.id===parseInt(e.target.value))))}else i(null)},value:(null===o||void 0===o?void 0:o.id)||"",disabled:u,className:"video-dropdown",children:[(0,l.jsx)("option",{value:"",children:"Choose a video..."}),n.map((e=>(0,l.jsxs)("option",{value:e.id,children:[e.title," (",(e.size/1024/1024).toFixed(2)," MB)"]},e.id)))]}),u&&(0,l.jsx)("div",{className:"status-message",children:"Loading videos..."})]}),o&&(0,l.jsxs)("div",{className:"video-details",children:[(0,l.jsxs)("h3",{children:["Selected Video: ",o.name]}),(0,l.jsxs)("div",{className:"video-info-grid",children:[(0,l.jsxs)("div",{children:["Size: ",(o.size/1024/1024).toFixed(2)," MB"]}),(0,l.jsxs)("div",{children:["Uploaded: ",new Date(o.uploadTimestamp).toLocaleString()]}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:["Frames: ",j.frame_count]}),(0,l.jsxs)("div",{children:["Duration: ",j.duration,"s"]}),(0,l.jsxs)("div",{children:["Resolution: ",j.width,"x",j.height]}),(0,l.jsxs)("div",{children:["FPS: ",j.fps]})]})]})]}),h&&(0,l.jsxs)("div",{className:"frame-container",children:[ee,(0,l.jsxs)("div",{className:"drawing-modes",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",value:"draw",checked:"draw"===z,onChange:e=>$(e.target.value)}),"Draw"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",value:"keep",checked:"keep"===z,onChange:e=>$(e.target.value)}),"Keep Inside"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",value:"remove",checked:"remove"===z,onChange:e=>$(e.target.value)}),"Remove Inside"]})]}),(0,l.jsx)("canvas",{ref:x,width:w.width,height:w.height,onMouseDown:e=>{const t=J(e,x.current);b(!0),_({x:t.x,y:t.y,width:0,height:0})},onMouseMove:e=>{if(!v||!y)return;const t=J(e,x.current),n=t.x-y.x,r=t.y-y.y;_((e=>({...e,width:n,height:r}))),requestAnimationFrame(X)},onMouseUp:Q,onMouseLeave:Q,className:"frame-canvas"}),(0,l.jsxs)("div",{className:"coordinates-table-container",children:[(0,l.jsxs)("div",{className:"video-info",children:[(0,l.jsxs)("span",{children:["FPS: ",(null===j||void 0===j?void 0:j.fps)||30]}),(0,l.jsxs)("span",{children:["Time: ",(null===A||void 0===A||null===(e=A.currentTime)||void 0===e?void 0:e.toFixed(2))||0,"s"]})]}),(0,l.jsxs)("button",{onClick:async()=>{if(!A||!o)return;const e=Math.floor(A.currentTime*((null===j||void 0===j?void 0:j.fps)||29.97));try{const n=await fetch(`${t.APIbaseUrl}/api/videos/get-boxes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_url:o.url,frame_number:e})}),r=await n.json();if(r.error)f(r.error);else if(r.boxes){const e=Object.entries(r.boxes).map((e=>{let[t,n]=e;const[r,a,o,i]=n.bbox;return{x:r,y:a,width:o,height:i,id:t,name:t}}));console.log("New rectangles:",e),g(e)}}catch(d){console.error("Error fetching boxes data:",{error:d}),f(`Failed to fetch boxes data: ${d}`)}},className:"pull-boxes-button",disabled:!A||!o,children:["Pull Frame ",A?Math.floor(A.currentTime*((null===j||void 0===j?void 0:j.fps)||30)):0]}),te]}),(0,l.jsxs)("div",{className:"render-controls",children:[(0,l.jsxs)("div",{className:"filename-input",children:[(0,l.jsx)("label",{htmlFor:"output-filename",children:"Save as:"}),(0,l.jsx)("input",{id:"output-filename",type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"output.mp4"})]}),(0,l.jsx)("div",{className:"clip-controls",children:(0,l.jsxs)("div",{className:"clip-input",children:[(0,l.jsx)("label",{htmlFor:"clip-prompt",children:"CLIP Prompt:"}),(0,l.jsx)("input",{id:"clip-prompt",type:"text",value:D,onChange:e=>O(e.target.value),placeholder:"Describe what to look for..."}),(0,l.jsx)("button",{className:"clip-analyze-button",onClick:async()=>{if(D){R(!0),f(null);try{const e=Math.floor(30*L),n=await fetch(`${t.APIbaseUrl}/api/videos/clip-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_url:o.url,frame_number:e,text_prompt:D})}),r=await n.json();if(r.error)f(r.error);else if(N(r),r.detections){const e=r.detections.map((e=>({x:e.bbox[0],y:e.bbox[1],width:e.bbox[2]-e.bbox[0],height:e.bbox[3]-e.bbox[1],label:e.label,source:"clip"})));g((t=>[...t,...e]))}}catch(d){f("Failed to perform CLIP analysis")}finally{R(!1)}}else f("Please enter a text prompt")},disabled:F||!D||!o,children:F?"Analyzing...":"Analyze with CLIP"})]})}),(0,l.jsxs)("div",{className:"frame-range-controls",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"start-frame",children:"Start Frame:"}),(0,l.jsx)("input",{id:"start-frame",type:"number",min:"0",max:(null===j||void 0===j?void 0:j.frame_count)||0,value:V,onChange:e=>G(parseInt(e.target.value))}),(0,l.jsx)("button",{className:"set-frame-button",onClick:()=>{A&&V>=0&&(A.currentTime=V/((null===j||void 0===j?void 0:j.fps)||30),Y(V))},title:"Set video to this frame",disabled:!A||!o,children:"\u23ef\ufe0f"}),(0,l.jsx)("button",{className:"set-current-frame-button",onClick:()=>{if(A&&A.currentTime){const e=Math.floor(A.currentTime*((null===j||void 0===j?void 0:j.fps)||30));G(e)}},title:"Set to current frame",children:"\ud83d\udccd"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"end-frame",children:"End Frame:"}),(0,l.jsx)("input",{id:"end-frame",type:"number",min:V,max:(null===j||void 0===j?void 0:j.frame_count)||0,value:H,onChange:e=>K(parseInt(e.target.value))}),(0,l.jsx)("button",{className:"set-current-frame-button",onClick:()=>{if(A&&A.currentTime){const e=Math.floor(A.currentTime*((null===j||void 0===j?void 0:j.fps)||30));K(e)}},title:"Set to current frame",children:"\ud83d\udccd"})]})]}),(0,l.jsx)("button",{className:"roboflow-classify-button",onClick:async()=>{if(o&&0!==m.length)try{const e=Math.floor(A.currentTime*((null===j||void 0===j?void 0:j.fps)||30));for(const n of m){const r=await fetch(`${t.APIbaseUrl}/api/videos/roboflow-classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_id:o.id,frame_number:e,bbox:[n.x,n.y,n.width,n.height]})}),a=await r.json();console.log(`Classification for rectangle ${n.name||"unnamed"}:`,a)}}catch(d){console.error("Error classifying with Roboflow:",d)}},disabled:!h,children:"Classify with Roboflow"}),ne]})]}),M&&(0,l.jsx)(Z,{results:M})]})})},Xi=e=>{let{videoSrc:t,boxes:n=[],selectedPlayers:a,startFrame:o=0,endFrame:i,xScale:s=1,yScale:u=1}=e;const c=(0,y.useCurrentFrame)(),d=n[c]||{},f=a.reduce(((e,t)=>e+(d[t]?1:0)),0),h=(0,r.useMemo)((()=>a.reduce(((e,t)=>(e[t]=`hsl(${360*Math.random()}, 100%, 50%)`,e)),{})),[a.join(",")]);return(0,l.jsxs)(y.AbsoluteFill,{children:[(0,l.jsx)(y.Video,{src:t,startFrom:o,endAt:i}),a.map((e=>{var t;const n=null===(t=d[e])||void 0===t?void 0:t.bbox;if(!n)return null;const a=n[0]*s,o=n[1]*u,i=n[2]*s,c=n[3]*u;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{style:{position:"absolute",left:`${a}px`,top:o-20+"px",background:"rgba(0, 0, 0, 0.7)",color:h[e],padding:"2px 6px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",zIndex:1},children:[e,": ",d[e].frame]}),(0,l.jsx)("div",{style:{position:"absolute",left:`${a}px`,top:`${o}px`,width:`${i}px`,height:`${c}px`,border:`2px solid ${h[e]}`,boxShadow:"0 0 0 1px rgba(0,0,0,0.5)",borderRadius:"2px",pointerEvents:"none"}})]},e)})),(0,l.jsxs)("div",{style:{position:"absolute",top:20,left:20,background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"5px 10px",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",zIndex:1},children:["Frame: ",c+o]}),(0,l.jsx)("div",{style:{position:"absolute",left:"20px",bottom:"20px",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:f>0?"#00ff00":"#ff0000",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"bold",boxShadow:"0 0 0 2px rgba(0,0,0,0.3)",opacity:.8},children:f})]})};const Ji=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[i,u]=(0,r.useState)({}),[c,d]=(0,r.useState)([]),[f,h]=(0,r.useState)(new Set),p=(0,r.useRef)(null),[m,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(null),[_,x]=(0,r.useState)({x:0,y:0}),[w,S]=(0,r.useState)(null),[C,E]=(0,r.useState)([]),[k,P]=(0,r.useState)([960,540]),[j,T]=(0,r.useState)(null),M=400,N=600,D=[800,600],O=D[0]/k[0],F=D[1]/k[1],R=(0,r.useMemo)((()=>{if(!j)return 1;const e=1280/j.width;return console.log("x_scale_bbox",{value:e,metadata:j}),e}),[j]),A=(0,r.useMemo)((()=>{if(!j)return 1;const e=720/j.height;return console.log("y_scale_bbox",{value:e,metadata:j}),e}),[j]);(0,r.useEffect)((()=>{I()}),[]),(0,r.useEffect)((()=>{if(null!==a&&void 0!==a&&a.metadata){const e=JSON.parse(a.metadata),t=e.boxes||[];if(d(t),e.shapes){const t=e.shapes.find((e=>"homography_buckets"===e.name));if(t&&8===t.points.length){const e=[];for(let n=0;n<8;n+=2)e.push([t.points[n],t.points[n+1]]);y(e)}else console.warn('No valid homography shape found. Draw a 4-point "homography" shape in video details.'),y(null)}const n=new Set;t.forEach((e=>{e&&Object.keys(e).forEach((e=>n.add(e)))}));const r={};n.forEach((e=>{const n=li({boxes:t},e);n.length>0&&(r[e]=n)})),u(r),h(new Set),P([e.width,e.height])}}),[a]),(0,r.useEffect)((()=>{f.size>0&&c.length>0&&B()}),[f,c]),(0,r.useEffect)((()=>{if(f.size>0&&c.length>0){const e=[];c.forEach(((t,n)=>{f.forEach((r=>{if(t&&t[r]){const a=t[r].bbox,o=a[0]+a[2]/2,i=a[1]+a[3]/2;e.push({frame:n,x:Math.round(o),y:Math.round(i)})}}))})),E(e)}else E([])}),[f,c]);const I=async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/videos/with-tags`),r=await t.json();n(r)}catch(t){console.error("Error fetching videos:",t)}},L=(0,r.useMemo)((()=>(console.log("setting videoDurationInFrames",c.length),c.length)),[c]),B=()=>{const t=p.current.getContext("2d");if(t.clearRect(0,0,M,N),t.strokeStyle="#ffffff",t.lineWidth=2,t.strokeRect(0,0,M,N),t.beginPath(),t.moveTo(200,0),t.lineTo(200,N),t.stroke(),t.beginPath(),t.arc(200,300,50,0,2*Math.PI),t.stroke(),!v)return t.fillStyle="#ff0000",t.font="16px Arial",t.fillText('No homography points found. Draw "homography" shape in video details.',20,300),t.font="14px Arial",void t.fillText("(4 points: top-left \u2192 top-right \u2192 bottom-right \u2192 bottom-left)",20,325);const n=[];c.forEach(((e,t)=>{f.forEach((t=>{if(e&&e[t]){const r=e[t].bbox,a=r[0]+r[2]/2,o=r[1]+r[3]/2;n.push([a,o])}}))})),n.length>0&&(async t=>{if(v)try{t=t.map((e=>[e[0]*O,e[1]*F]));const n=await fetch(`${e.APIbaseUrl}/api/homography/transform`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({points:t,fieldPoints:v})}),r=await n.json();if(r.error)throw new Error(r.error);g(r.transformed_points)}catch(n){console.error("Error transforming points:",n)}else console.error("No field points available for transformation")})(n)};(0,r.useEffect)((()=>{if(m.length>0){console.log("drawing transformedPoints",m);const e=p.current.getContext("2d");e.beginPath(),e.strokeStyle="#ffffff",e.lineWidth=2,m.forEach(((t,n)=>{0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1]),e.fillStyle=n===m.length-1?"#ff0000":"#00ff00",e.beginPath(),e.arc(t[0],t[1],4,0,2*Math.PI),e.fill()})),e.stroke()}}),[m]);const U=async t=>{if(t.preventDefault(),v)try{const t=await fetch(`${e.APIbaseUrl}/api/homography/transform`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({points:[[_.x,_.y]],fieldPoints:v})}),n=await t.json();if(n.error)throw new Error(n.error);S(n.transformed_points[0]);const r=p.current.getContext("2d");r.fillStyle="#ff0000",r.beginPath(),r.arc(_.x,_.y,8,0,2*Math.PI),r.fill();const[a,o]=n.transformed_points[0];r.fillStyle="#ffff00",r.beginPath(),r.arc(a,o,8,0,2*Math.PI),r.fill()}catch(n){console.error("Error testing point transform:",n)}else alert("No field points available. Draw homography shape first.")};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"homography-container",children:[(0,l.jsx)("h1",{children:"Homography"}),(0,l.jsxs)("div",{className:"video-selection",children:[(0,l.jsx)("h2",{children:"Select a Video"}),(0,l.jsxs)("select",{onChange:e=>(e=>{const n=t.find((t=>t.id===parseInt(e)));o(n);const r=JSON.parse(n.metadata);T(r)})(e.target.value),value:(null===a||void 0===a?void 0:a.id)||"",children:[(0,l.jsx)("option",{value:"",children:"Choose a video..."}),t.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),a&&Object.keys(i).length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"player-selection",children:[(0,l.jsx)("h2",{children:"Select a Player"}),(0,l.jsx)("div",{className:"player-buttons",children:Object.keys(i).map((e=>(0,l.jsx)("button",{onClick:()=>(e=>{h((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))})(e),className:"player-button "+(f.has(e)?"selected":""),children:e},e)))})]}),(0,l.jsx)("div",{className:"visualization-container",children:(0,l.jsx)("canvas",{ref:p,width:M,height:N,className:"field-canvas"})}),(()=>{if(!a||0===f.size)return null;console.log("selectedVideo",{selectedVideo:a,metadata:j});const e=t.find((e=>e.id===a.id));return e?(0,l.jsxs)("div",{className:"video-preview",children:[(0,l.jsx)("h3",{children:"Video Preview"}),(0,l.jsx)(b.ai,{component:Xi,inputProps:{videoSrc:e.filepath,boxes:c,selectedPlayers:Array.from(f),startFrame:1,endFrame:L,xScale:R,yScale:A},durationInFrames:L,compositionWidth:1280,compositionHeight:720,fps:29.97,controls:!0,style:{width:"100%",maxWidth:"800px",margin:"20px 0"}})]}):null})(),f.size>0&&(0,l.jsxs)("div",{className:"sequences-container",children:[(0,l.jsx)("h2",{children:"Selected Players' Sequences"}),(0,l.jsxs)("table",{className:"sequences-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Start Frame"}),(0,l.jsx)("th",{children:"End Frame"}),(0,l.jsx)("th",{children:"Duration (frames)"}),(0,l.jsx)("th",{children:"Duration (seconds)"})]})}),(0,l.jsx)("tbody",{children:f.size>0&&Object.entries(i).map((e=>{let[t,n]=e;return n.map(((e,n)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.startFrame}),(0,l.jsx)("td",{children:e.endFrame}),(0,l.jsx)("td",{children:e.endFrame-e.startFrame}),(0,l.jsxs)("td",{children:[((e.endFrame-e.startFrame)/30).toFixed(2),"s"]})]},`${t}-${n}`)))}))})]})]})]}),a&&0===Object.keys(i).length&&(0,l.jsx)("div",{className:"no-sequences",children:"No player tracking sequences found in this video"}),f.size>0&&C.length>0&&(0,l.jsxs)("div",{className:"points-table-container",children:[(0,l.jsx)("h3",{children:"First 100 Points"}),(0,l.jsxs)("table",{className:"points-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Frame"}),(0,l.jsx)("th",{children:"X"}),(0,l.jsx)("th",{children:"Y"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:C.map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.frame}),(0,l.jsx)("td",{children:e.x}),(0,l.jsx)("td",{children:e.y}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>{x({x:e.x,y:e.y}),U({preventDefault:()=>{}})},className:"use-point-button",children:"Test Point"})})]},t)))})]})]}),a&&(0,l.jsxs)("div",{className:"test-form-container",children:[(0,l.jsx)("h3",{children:"Test Point Transform"}),(0,l.jsxs)("form",{onSubmit:U,className:"test-form",children:[(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsxs)("label",{children:["X:",(0,l.jsx)("input",{type:"number",value:_.x,onChange:e=>x((t=>({...t,x:Number(e.target.value)})))})]}),(0,l.jsxs)("label",{children:["Y:",(0,l.jsx)("input",{type:"number",value:_.y,onChange:e=>x((t=>({...t,y:Number(e.target.value)})))})]})]}),(0,l.jsx)("button",{type:"submit",children:"Transform Point"})]}),w&&(0,l.jsxs)("div",{className:"test-result",children:[(0,l.jsx)("h4",{children:"Transformed Point:"}),(0,l.jsxs)("p",{children:["X: ",w[0].toFixed(2),", Y: ",w[1].toFixed(2)]})]})]})]})})};const Qi=function(){const e=(0,r.useContext)(es),[t,n]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[i,u]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[f,h]=(0,r.useState)(0),p=(0,r.useRef)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[_,x]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),[C,E]=(0,r.useState)([]),k=(0,r.useRef)(null),[P,j]=(0,r.useState)(null),[T,M]=(0,r.useState)(.167),[N,D]=(0,r.useState)("draw"),[O,F]=(0,r.useState)(null),[R,A]=(0,r.useState)({x:0,y:0}),[I,L]=(0,r.useState)(null),[B,U]=(0,r.useState)([]),[W,z]=(0,r.useState)([]),[$,V]=(0,r.useState)(!0),G=(0,r.useRef)(null),[H,K]=(0,r.useState)(""),[q,Y]=(0,r.useState)(!1),[X,J]=(0,r.useState)(new Set),[Q,Z]=(0,r.useState)({width:0,height:0}),[ee,te]=(0,r.useState)(null),[ne,re]=(0,r.useState)(null);(0,r.useEffect)((()=>{ae()}),[]);const ae=async()=>{try{const t=await fetch(`${e.APIbaseUrl}/api/videos`),r=(await t.json()).map((e=>({...e,metadata:JSON.parse(e.metadata)})));n(r)}catch(c){d("Failed to fetch videos")}finally{u(!1)}},oe=()=>{if(v)if("drag"!==N){if(_){const e={...w,frame:f,tag:""};U((t=>[...t,e])),z((t=>[...t,e])),x(!1),j(null),Y(!0)}}else F(null)};(0,r.useEffect)((()=>{if(k.current){const e=k.current.getContext("2d");e.clearRect(0,0,k.current.width,k.current.height);W.filter((e=>e.frame===f)).forEach((t=>{e.strokeStyle="#00ff00",e.lineWidth=2,e.strokeRect(t.x,t.y,t.width,t.height),"drag"===N&&v&&(e.fillStyle="rgba(0, 255, 0, 0.2)",e.fillRect(t.x,t.y,t.width,t.height))})),v&&(B.forEach((t=>{e.strokeStyle="#00ff00",e.lineWidth=2,e.strokeRect(t.x,t.y,t.width,t.height),"drag"===N&&(e.fillStyle="rgba(0, 255, 0, 0.2)",e.fillRect(t.x,t.y,t.width,t.height))})),w&&"draw"===N&&(e.strokeStyle="#0000ff",e.lineWidth=2,e.strokeRect(w.x,w.y,w.width,w.height)))}}),[B,w,v,N,f,W]),(0,r.useEffect)((()=>{if(G.current){const e=G.current.getContext("2d");if(e.clearRect(0,0,G.current.width,G.current.height),$){W.filter((e=>e.frame===f)).forEach((t=>{e.strokeStyle="#00ff00",e.lineWidth=2,e.strokeRect(t.x,t.y,t.width,t.height)}))}}}),[f,W,$]);const ie=(e,t)=>{const n=new Set(X);if(t.nativeEvent.shiftKey&&null!==ne){const t=Math.min(ne,e),r=Math.max(ne,e);for(let e=t;e<=r;e++)X.has(ne)?n.add(e):n.delete(e)}else n.has(e)?n.delete(e):n.add(e);re(e),J(n)},se=(0,l.jsxs)("div",{className:"active-rectangles",children:[(0,l.jsx)("h3",{children:"Active Rectangles"}),(0,l.jsxs)("table",{className:"coordinates-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Tag"}),(0,l.jsx)("th",{children:"X"}),(0,l.jsx)("th",{children:"Y"}),(0,l.jsx)("th",{children:"W"}),(0,l.jsx)("th",{children:"H"}),(0,l.jsx)("th",{children:"\ud83d\udd34"})]})}),(0,l.jsxs)("tbody",{children:[B.map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.tag||"-"}),(0,l.jsx)("td",{children:Math.round(e.x)}),(0,l.jsx)("td",{children:Math.round(e.y)}),(0,l.jsx)("td",{children:Math.round(e.width)}),(0,l.jsx)("td",{children:Math.round(e.height)}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"deactivate-button",onClick:()=>(e=>{U((t=>t.filter(((t,n)=>n!==e))))})(t),title:"Deactivate rectangle",children:"\u23f8\ufe0f"})})]},t))),0===B.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"6",className:"no-rectangles",children:"No active rectangles"})})]})]})]});return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"cv-datasets",children:[(0,l.jsx)("h1",{children:"Create CV Datasets"}),(0,l.jsxs)("div",{className:"video-selector",children:[(0,l.jsx)("h2",{children:"Select a Video"}),(0,l.jsxs)("select",{onChange:n=>{if(n.target.value){(async t=>{if(!t)return;const n={id:t.id,url:t.filepath,name:t.title,title:t.title,size:t.size,filepath:t.filepath,metadata:t.metadata,uploadTimestamp:t.uploadTimestamp};o(n);try{const n=await fetch(`${e.APIbaseUrl}/api/videos/b2-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t.filepath,frame_number:0})}),r=await n.json();r.error?(console.error(r.error),d(r.error)):te(r)}catch(c){console.error("Failed to fetch video info:",c)}try{const n=await fetch(`${e.APIbaseUrl}/api/videos/dimensions/${t.id}`),r=await n.json();n.ok&&Z({width:r.width,height:r.height})}catch(c){console.error("Failed to get video dimensions:",c)}})(t.find((e=>e.id===parseInt(n.target.value))))}else o(null)},value:(null===a||void 0===a?void 0:a.id)||"",disabled:i,className:"video-dropdown",children:[(0,l.jsx)("option",{value:"",children:"Choose a video..."}),t.map((e=>(0,l.jsxs)("option",{value:e.id,children:[e.title," (",(e.size/1024/1024).toFixed(2)," MB)"]},e.id)))]}),i&&(0,l.jsx)("div",{className:"status-message",children:"Loading videos..."})]}),a&&(0,l.jsxs)("div",{className:"video-container",children:[(0,l.jsxs)("div",{className:"video-section",children:[(0,l.jsxs)("div",{className:"video-wrapper",children:[(0,l.jsx)(b.ai,{ref:p,component:yi.A,inputProps:{src:a.url,onFrameUpdate:e=>{if(h(e),v&&e!==I&&B.length>0){const t=B.map((t=>({...t,frame:e})));z((e=>{const n=[...e];return t.forEach((e=>{n.some((t=>t.frame===e.frame&&t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height))||n.push(e)})),n})),L(e)}}},durationInFrames:(null===ee||void 0===ee?void 0:ee.frame_count)||99999,compositionWidth:800,compositionHeight:450,fps:(null===ee||void 0===ee?void 0:ee.fps)||29.8,playbackRate:T,controls:!0}),(0,l.jsx)("canvas",{ref:G,width:800,height:450,className:"historical-overlay"}),v&&(0,l.jsx)("canvas",{ref:k,width:800,height:450,className:"drawing-overlay","data-mode":N,onMouseDown:e=>{if(!v)return;const t=k.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;if("drag"!==N)x(!0),j({x:n,y:r}),S({x:n,y:r,width:0,height:0});else{const e=B.findIndex((e=>n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height));-1!==e&&(F(e),A({x:n-B[e].x,y:r-B[e].y}))}},onMouseMove:e=>{if(!v)return;const t=k.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;if("drag"===N&&null!==O){const e=[...B];return e[O]={...e[O],x:n-R.x,y:r-R.y},void U(e)}_&&S({x:Math.min(n,P.x),y:Math.min(r,P.y),width:Math.abs(n-P.x),height:Math.abs(r-P.y)})},onMouseUp:oe,onMouseLeave:oe})]}),q&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),H.trim()&&(U((e=>{const t=[...e];return t[t.length-1]={...t[t.length-1],tag:H.trim()},t})),z((e=>{const t=[...e];return t[t.length-1]={...t[t.length-1],tag:H.trim()},t})),K(""),Y(!1))},className:"tag-input-form",children:[(0,l.jsx)("input",{type:"text",value:H,onChange:e=>K(e.target.value),placeholder:"Enter tag for rectangle",className:"tag-input",autoFocus:!0}),(0,l.jsx)("button",{type:"submit",className:"control-button",children:"Save Tag"})]}),(0,l.jsxs)("div",{className:"cv-video-controls",children:[(0,l.jsx)("button",{onClick:()=>{p.current&&(m?p.current.pause():p.current.play(),g(!m))},className:"control-button",children:m?"Pause":"Play"}),(0,l.jsx)("button",{onClick:()=>{p.current&&p.current.seekTo(Math.max(0,f-1))},className:"control-button",children:"Previous Frame"}),(0,l.jsx)("button",{onClick:()=>{p.current&&p.current.seekTo(f+1)},className:"control-button",children:"Next Frame"}),(0,l.jsx)("button",{onClick:()=>y(!v),className:"control-button",children:v?"Hide Overlay":"Show Overlay"}),(0,l.jsx)("button",{onClick:()=>D("draw"===N?"drag":"draw"),className:"control-button "+("drag"===N?"active":""),children:"draw"===N?"Drag Boxes":"Draw Boxes"}),(0,l.jsx)("button",{onClick:()=>V(!$),className:"control-button "+($?"active":""),children:$?"Hide Historical":"Show Historical"}),(0,l.jsxs)("div",{className:"frame-display",children:["Frame: ",f]}),(0,l.jsxs)("div",{className:"fps-control",children:[(0,l.jsx)("input",{type:"range",min:"1",max:"100",value:Math.round(29.8*T),onChange:e=>{const t=parseInt(e.target.value);M(t/29.8)},className:"fps-slider"}),(0,l.jsx)("span",{className:"fps-label","data-normal":1===T,children:(e=>{const t=Math.round(29.8*e);return 1===e?"Normal":`${t} FPS`})(T)})]})]})]}),W.length>0&&(0,l.jsxs)("div",{className:"bounding-boxes",children:[(0,l.jsxs)("div",{className:"bounding-boxes-header",children:[(0,l.jsx)("h3",{children:"Bounding Box History"}),(0,l.jsxs)("div",{className:"bounding-boxes-actions",children:[(0,l.jsxs)("button",{onClick:()=>{const e=Array.from(X);console.log("selectedIndices [to delete]",e),z((t=>t.filter(((t,n)=>!e.includes(n))))),J(new Set)},className:"control-button delete-selected-button",disabled:0===X.size,children:["Delete Selected (",X.size,")"]}),(0,l.jsxs)("button",{onClick:async()=>{if(0===X.size)return void alert("Please select at least one box to export");const t=Q.width/800,n=Q.height/450,r=Array.from(X).map((e=>{const r=W[e];return{...r,x:Math.round(r.x*t),y:Math.round(r.y*n),width:Math.round(r.width*t),height:Math.round(r.height*n)}}));try{const t=await fetch(`${e.APIbaseUrl}/api/videos/export-dataset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoId:a.id,boxes:r})}),n=await t.json();if(!t.ok)throw new Error(n.error);alert(`Export successful! Created ${n.total_images} images`)}catch(c){alert(`Export failed: ${c.message}`)}},className:"control-button export-button",disabled:0===X.size,children:["Export Selected (",X.size,")"]})]})]}),se,(0,l.jsxs)("table",{className:"boxes-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:(0,l.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?J(new Set(W.map(((e,t)=>t)))):J(new Set)},checked:X.size===W.length})}),(0,l.jsx)("th",{children:"#"}),(0,l.jsx)("th",{children:"Tag"}),(0,l.jsx)("th",{children:"X"}),(0,l.jsx)("th",{children:"Y"}),(0,l.jsx)("th",{children:"W"}),(0,l.jsx)("th",{children:"H"}),(0,l.jsx)("th",{children:"\ud83d\udd34"})]})}),(0,l.jsx)("tbody",{children:[...W].sort(((e,t)=>e.frame!==t.frame?e.frame-t.frame:W.indexOf(e)-W.indexOf(t))).map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)("input",{type:"checkbox",checked:X.has(t),onChange:e=>ie(t,e)})}),(0,l.jsx)("td",{children:e.frame}),(0,l.jsx)("td",{children:e.tag||"-"}),(0,l.jsx)("td",{children:Math.round(e.x)}),(0,l.jsx)("td",{children:Math.round(e.y)}),(0,l.jsx)("td",{children:Math.round(e.width)}),(0,l.jsx)("td",{children:Math.round(e.height)}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>{U(B.filter(((e,n)=>n!==t))),z(W.filter(((e,n)=>n!==t)))},className:"delete-button",children:"Delete"})})]},`${e.frame}-${t}`)))})]})]})]})]})})};const Zi=function(){return(0,l.jsx)(o.Kd,{children:(0,l.jsxs)(i.BV,{children:[(0,l.jsx)(i.qh,{path:"/",element:(0,l.jsx)(u,{})}),(0,l.jsx)(i.qh,{path:"/videos",element:(0,l.jsx)(m,{})}),(0,l.jsx)(i.qh,{path:"/videos/:id",element:(0,l.jsx)(g.A,{})}),(0,l.jsx)(i.qh,{path:"/studio",element:(0,l.jsx)(v,{})}),(0,l.jsx)(i.qh,{path:"/studio/films/:id",element:(0,l.jsx)(Ko,{})}),(0,l.jsx)(i.qh,{path:"/clipmaker",element:(0,l.jsx)(Ci,{})}),(0,l.jsx)(i.qh,{path:"/hotkeys",element:(0,l.jsx)(Ei,{})}),(0,l.jsx)(i.qh,{path:"/hotkeys/:id",element:(0,l.jsx)(ki,{})}),(0,l.jsx)(i.qh,{path:"/stats",element:(0,l.jsx)(qi,{})}),(0,l.jsx)(i.qh,{path:"/player-tracking",element:(0,l.jsx)(Yi,{})}),(0,l.jsx)(i.qh,{path:"/homography",element:(0,l.jsx)(Ji,{})}),(0,l.jsx)(i.qh,{path:"/cv-datasets",element:(0,l.jsx)(Qi,{})})]})})},es=r.createContext();a.createRoot(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(es.Provider,{value:{APIbaseUrl:"https://goalty-remotion.onrender.com",anotherVariable:42},children:(0,l.jsx)(Zi,{})})}))},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var a;n.d(t,{AO:()=>d,Gh:()=>F,HS:()=>R,Oi:()=>s,Rr:()=>f,pX:()=>U,pb:()=>M,rc:()=>a,tH:()=>B,ue:()=>m,yD:()=>O,zR:()=>i}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const o="popstate";function i(e){return void 0===e&&(e={}),h((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return c("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n,a){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:f=!1}=i,h=l.history,p=a.Pop,m=null,g=v();function v(){return(h.state||{idx:null}).idx}function b(){p=a.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:_.location,delta:t})}function y(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,h.replaceState(r({},h.state,{idx:g}),""));let _={get action(){return p},get location(){return e(l,h)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(o,b),m=e,()=>{l.removeEventListener(o,b),m=null}},createHref:e=>t(l,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=a.Push;let r=c(_.location,e,t);n&&n(r,e),g=v()+1;let o=u(r,g),i=_.createHref(r);try{h.pushState(o,"",i)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(i)}f&&m&&m({action:p,location:_.location,delta:1})},replace:function(e,t){p=a.Replace;let r=c(_.location,e,t);n&&n(r,e),g=v();let o=u(r,g),i=_.createHref(r);h.replaceState(o,"",i),f&&m&&m({action:p,location:_.location,delta:0})},go:e=>h.go(e)};return _}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let a=M(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let o=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=T(a);i=P(o[s],e,r)}return i}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(s(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=R([r,i.relativePath]),u=n.concat(i);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=b(r.join("/")),s=[];return s.push(...i.map((e=>""===e?o:[o,e].join("/")))),a&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,_=3,x=2,w=1,S=10,C=-2,E=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=C),t&&(r+=x),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?_:""===t?w:S)),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),i.push({params:a,pathname:R([o,c.pathname]),pathnameBase:A(R([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=R([o,c.pathnameBase]))}return i}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,a){let o;void 0===a&&(a=!1),"string"===typeof e?o=f(e):(o=r({},e),s(!o.pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),s(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),s(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let i,l=""===e||""===o.pathname,u=l?"/":o.pathname;if(null==u)i=n;else{let e=t.length-1;if(!a&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:I(r),hash:L(a)}}(o,i),d=u&&"/"!==u&&u.endsWith("/"),h=(l||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const R=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class B extends Error{}function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],z=(new Set(W),["get",...W]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},3449:(e,t)=>{"use strict";function n(e,t,n){for(let r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}Object.defineProperty(t,"__esModule",{value:!0}),t.audioBufferToWav=function(e,t){const r=e.numberOfChannels,{sampleRate:a}=e,o=t.float32?3:1,i=3===o?32:16;let s;s=2===r?function(e,t){const n=e.length+t.length,r=new Float32Array(n);let a=0,o=0;for(;a<n;)r[a++]=e[o],r[a++]=t[o],o++;return r}(e.getChannelData(0),e.getChannelData(1)):e.getChannelData(0);return function(e){let{samples:t,format:r,sampleRate:a,numChannels:o,bitDepth:i}=e;const s=i/8,l=o*s,u=new ArrayBuffer(44+t.length*s),c=new DataView(u);n(c,0,"RIFF"),c.setUint32(4,36+t.length*s,!0),n(c,8,"WAVE"),n(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,r,!0),c.setUint16(22,o,!0),c.setUint32(24,a,!0),c.setUint32(28,a*l,!0),c.setUint16(32,l,!0),c.setUint16(34,i,!0),n(c,36,"data"),c.setUint32(40,t.length*s,!0),1===r?function(e,t,n){for(let r=0;r<n.length;r++,t+=2){const a=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,a<0?32768*a:32767*a,!0)}}(c,44,t):function(e,t,n){for(let r=0;r<n.length;r++,t+=4)e.setFloat32(t,n[r],!0)}(c,44,t);return u}({samples:s,format:o,sampleRate:a,numChannels:r,bitDepth:i})}},7680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audioBufferToDataUrl=void 0;const r=n(3449);t.audioBufferToDataUrl=e=>{const t=(0,r.audioBufferToWav)(e,{float32:!0});let n="";const a=new Uint8Array(t),o=a.byteLength;for(let r=0;r<o;r++)n+=String.fromCharCode(a[r]);return"data:audio/wav;base64,"+window.btoa(n)}},885:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineFloat32Arrays=void 0;t.combineFloat32Arrays=e=>{if(0===e.length)return new Float32Array([]);if(1===e.length)return e[0];let t=0;for(const a of e)t+=a.length;const n=new Float32Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}},2264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithCorsCatch=void 0;t.fetchWithCorsCatch=async(e,t)=>{try{return await fetch(e,{mode:"cors",referrerPolicy:"no-referrer-when-downgrade",...t})}catch(n){const t=n;if(t.message.includes("Failed to fetch")||t.message.includes("Load failed")||t.message.includes("NetworkError when attempting to fetch resource"))throw new TypeError(`Failed to read from ${e}: ${t.message}. Does the resource support CORS?`);throw n}}},2386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.complexMagnitude=t.complexMultiply=t.complexSubtract=t.complexAdd=void 0;t.complexAdd=function(e,t){return[e[0]+t[0],e[1]+t[1]]};t.complexSubtract=function(e,t){return[e[0]-t[0],e[1]-t[1]]};t.complexMultiply=function(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]};t.complexMagnitude=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}},399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exponent=void 0;const n={};t.exponent=function(e,t){const r=-2*Math.PI*(e/t);return n[t]=n[t]||{},n[t][e]=n[t][e]||[Math.cos(r),Math.sin(r)],n[t][e]}},6361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fftAccurate=void 0;const r=n(2386),a=n(399);t.fftAccurate=function(e){const n=[],o=e.length;if(1===o)return Array.isArray(e[0])?[[e[0][0],e[0][1]]]:[[e[0],0]];const i=(0,t.fftAccurate)(e.filter(((e,t)=>t%2===0))),s=(0,t.fftAccurate)(e.filter(((e,t)=>t%2===1)));for(let t=0;t<o/2;t++){const e=i[t],l=(0,r.complexMultiply)((0,a.exponent)(t,o),s[t]);n[t]=(0,r.complexAdd)(e,l),n[t+o/2]=(0,r.complexSubtract)(e,l)}return n}},4441:(e,t)=>{"use strict";function n(e,t){let n=0;for(let r=0;r<t;r++)n=n<<1|e>>r&1;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.fftFast=void 0;t.fftFast=function(e){const t=e.length,r=new Array(t);if(t<=1){for(let t=0;t<e.length;t++){const n=e[t];r[t]=[2*n,0]}return r}const a=function(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=.8-.46*Math.cos(2*Math.PI*n/(e-1));return t}(t);for(let n=0;n<t;n++)r[n]=[e[n]*a[n],0];const o=function(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=n(r,Math.log2(e));return t}(t);for(let n=0;n<t;n++)r[n]=[e[o[n]],0];for(let n=1;n<=Math.log2(t);n++){const e=1<<n,a=e/2,o=2*Math.PI/e;for(let n=0;n<t;n+=e){let e=1,t=0;for(let i=0;i<a;i++){const s=e*r[n+i+a][0]-t*r[n+i+a][1],l=e*r[n+i+a][1]+t*r[n+i+a][0],u=r[n+i][0],c=r[n+i][1];r[n+i]=[u+s,c+l],r[n+i+a]=[u-s,c-l];const d=e*Math.cos(o)-t*Math.sin(o);t=e*Math.sin(o)+t*Math.cos(o),e=d}}}return r}},947:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisualization=void 0;const r=n(6361),a=n(4441),o=n(9773),i=n(5620),s=n(6857);t.getVisualization=e=>{let{sampleSize:t,data:n,sampleRate:l,frame:u,fps:c,maxInt:d,optimizeFor:f,dataOffsetInSeconds:h}=e;if(!(t>0&&0===(t&t-1)))throw new TypeError(`The argument "bars" must be a power of two. For example: 64, 128. Got instead: ${t}`);if(!c)throw new TypeError('The argument "fps" was not provided');if(n.length<t)throw new TypeError("Audio data is not big enough to provide "+t+" bars.");const p=Math.floor((u/c-h)*l),m=Math.max(0,p-t/2),g=new Int16Array({length:t});g.set(n.subarray(m,m+t).map((e=>(0,s.toInt16)(e))));const v=("accuracy"===f?r.fftAccurate:a.fftFast)(g),b=(0,o.fftMag)(v).map((e=>e));return(0,i.smoothen)(b).map((e=>e/(t/2)/d))}},9773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fftMag=void 0;const r=n(2386);t.fftMag=function(e){const t=e.map((e=>(0,r.complexMagnitude)(e)));return t.slice(0,t.length/2)}},2459:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxPossibleMagnitude=void 0;const r=n(6857),a={};t.getMaxPossibleMagnitude=e=>{if(a[e.resultId])return a[e.resultId];const t=(0,r.toInt16)((e=>{let t=0;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t})(e.channelWaveforms[0]));return a[e.resultId]=t,t}},5620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smoothen=void 0;t.smoothen=function(e){let t=e;const n=[];for(let r=0;r<3;r++){const e=Math.floor(1.5),r=1/(2*e+1);for(let a=0;a<e;a++)n[a]=t[a],n[t.length-a-1]=t[t.length-a-1];for(let a=e;a<t.length-e;a++){let o=0;for(let n=-e;n<=e;n++)o+=r*t[a+n]+n;n[a]=o}t=n}return n}},6857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toInt16=void 0;t.toInt16=e=>e>0?32767*e:32768*e},359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioData=void 0;const r=n(2264),a=n(7533),o=n(9111),i={},s=(0,o.pLimit)(3),l=async(e,t)=>{var n;if(i[e])return i[e];if("undefined"===typeof document)throw new Error("getAudioData() is only available in the browser.");const o=new AudioContext({sampleRate:null!==(n=null===t||void 0===t?void 0:t.sampleRate)&&void 0!==n?n:48e3}),s=await(0,r.fetchWithCorsCatch)(e),l=await s.arrayBuffer(),u=await o.decodeAudioData(l),c={channelWaveforms:new Array(u.numberOfChannels).fill(!0).map(((e,t)=>u.getChannelData(t))),sampleRate:u.sampleRate,durationInSeconds:u.duration,numberOfChannels:u.numberOfChannels,resultId:String(Math.random()),isRemote:(0,a.isRemoteAsset)(e)};return i[e]=c,c};t.getAudioData=(e,t)=>s(l,e,t)},3103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioDuration=t.getAudioDurationInSeconds=void 0;const r=n(6489),a=(0,n(9111).pLimit)(3),o={},i=e=>{if(o[e])return Promise.resolve(o[e]);if("undefined"===typeof document)throw new Error("getAudioDuration() is only available in the browser.");const t=document.createElement("audio");return t.src=e,new Promise(((n,a)=>{const i=()=>{(0,r.onMediaError)({error:t.error,src:e,cleanup:l,reject:a,api:"getAudioDurationInSeconds()"})},s=()=>{o[e]=t.duration,n(t.duration),l()},l=()=>{t.removeEventListener("loadedmetadata",s),t.removeEventListener("error",i),t.remove()};t.addEventListener("loadedmetadata",s,{once:!0}),t.addEventListener("error",i,{once:!0})}))};t.getAudioDurationInSeconds=e=>a(i,e);t.getAudioDuration=e=>(0,t.getAudioDurationInSeconds)(e)},3387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageDimensions=function(e){return o(i,e)};const r=n(9111),a={},o=(0,r.pLimit)(3),i=async e=>{if(a[e])return a[e];if("undefined"===typeof document)throw new Error("getImageDimensions() is only available in the browser.");const t=await new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const{width:e,height:n}=r;t({width:e,height:n})},r.onerror=n,r.src=e}));return a[e]=t,t}},7748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPartialWaveData=void 0;const r=n(2264),a=n(2968);t.getPartialWaveData=async e=>{let{dataOffset:t,src:n,bitsPerSample:o,channelIndex:i,sampleRate:s,fromSeconds:l,toSeconds:u,blockAlign:c,fileSize:d,signal:f}=e;const h=t+Math.floor(l*s)*c,p=Math.min(d-1,t+Math.floor(u*s-1)*c),m=await(0,r.fetchWithCorsCatch)(n,{headers:{range:`bytes=${h}-${p}`},signal:f});if(206!==m.status)throw new Error(`Tried to read bytes ${h}-${p} from ${n}, but the response status code was not 206. This means the server might not support returning a partial response.`);const g=await m.arrayBuffer(),v=new Uint8Array(g),b=new Float32Array(v.length/c);for(let r=0;r<v.length;r+=c){const e=r+i*(o/8);let t;if(16===o)t=(0,a.getInt16AsFloat)(v,e);else{if(8!==o)throw new Error(`Unsupported bits per sample: ${o}`);t=(0,a.getInt8AsFloat)(v,e)}b[r/c]=t}return b}},3877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoMetadata=void 0;const r=n(7533),a=n(6489),o=n(9111),i={},s=(0,o.pLimit)(3),l=e=>{if(i[e])return Promise.resolve(i[e]);if("undefined"===typeof document)throw new Error("getVideoMetadata() is only available in the browser.");const t=document.createElement("video");return t.src=e,new Promise(((n,o)=>{const s=()=>{(0,a.onMediaError)({error:t.error,src:e,cleanup:u,reject:o,api:"getVideoMetadata()"})},l=()=>{if(0===t.videoHeight*t.videoWidth)return void o(new Error(`Unable to determine video metadata for ${e}`));if(!Number.isFinite(t.duration))return void o(new Error(`Unable to determine video duration for ${e} - got Infinity. Re-encoding this video may fix this issue.`));const a={durationInSeconds:t.duration,width:t.videoWidth,height:t.videoHeight,aspectRatio:t.videoWidth/t.videoHeight,isRemote:(0,r.isRemoteAsset)(e)};n(a),i[e]=a,u()},u=()=>{t.removeEventListener("loadedmetadata",l),t.removeEventListener("error",s),t.remove()};t.addEventListener("loadedmetadata",l,{once:!0}),t.addEventListener("error",s,{once:!0})}))};t.getVideoMetadata=e=>s(l,e)},2856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWaveformSamples=void 0;t.getWaveformSamples=(e,t)=>(e=>{const t=Math.max(...e);if(t<.001)return new Array(e.length).fill(0);const n=t**-1;return e.map((e=>e*n))})(((e,t)=>{const n=Math.floor(e.length/t);if(0===n)return[];const r=[];for(let a=0;a<t;a++){const t=n*a;let o=0;for(let r=0;r<n;r++)o+=Math.abs(e[t+r]);r.push(o/n)}return r})(e,t))},8907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWaveformPortion=void 0;const r=n(2856);t.getWaveformPortion=e=>{let{audioData:t,startTimeInSeconds:n,durationInSeconds:a,numberOfSamples:o}=e;const i=Math.floor(n/t.durationInSeconds*t.channelWaveforms[0].length),s=Math.floor((n+a)/t.durationInSeconds*t.channelWaveforms[0].length);return(0,r.getWaveformSamples)(t.channelWaveforms[0].slice(i,s),o).map(((e,t)=>({index:t,amplitude:e})))}},9729:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.visualizeAudio=t.useWindowedAudioData=t.useAudioData=t.probeWaveFile=t.getWaveformPortion=t.getVideoMetadata=t.getPartialWaveData=t.getImageDimensions=t.getAudioDurationInSeconds=t.getAudioDuration=t.getAudioData=t.audioBufferToDataUrl=void 0;var o=n(7680);Object.defineProperty(t,"audioBufferToDataUrl",{enumerable:!0,get:function(){return o.audioBufferToDataUrl}});var i=n(359);Object.defineProperty(t,"getAudioData",{enumerable:!0,get:function(){return i.getAudioData}});var s=n(3103);Object.defineProperty(t,"getAudioDuration",{enumerable:!0,get:function(){return s.getAudioDuration}}),Object.defineProperty(t,"getAudioDurationInSeconds",{enumerable:!0,get:function(){return s.getAudioDurationInSeconds}});var l=n(3387);Object.defineProperty(t,"getImageDimensions",{enumerable:!0,get:function(){return l.getImageDimensions}});var u=n(7748);Object.defineProperty(t,"getPartialWaveData",{enumerable:!0,get:function(){return u.getPartialWaveData}});var c=n(3877);Object.defineProperty(t,"getVideoMetadata",{enumerable:!0,get:function(){return c.getVideoMetadata}});var d=n(8907);Object.defineProperty(t,"getWaveformPortion",{enumerable:!0,get:function(){return d.getWaveformPortion}});var f=n(2968);Object.defineProperty(t,"probeWaveFile",{enumerable:!0,get:function(){return f.probeWaveFile}}),a(n(2048),t);var h=n(3958);Object.defineProperty(t,"useAudioData",{enumerable:!0,get:function(){return h.useAudioData}});var p=n(8094);Object.defineProperty(t,"useWindowedAudioData",{enumerable:!0,get:function(){return p.useWindowedAudioData}});var m=n(5944);Object.defineProperty(t,"visualizeAudio",{enumerable:!0,get:function(){return m.visualizeAudio}})},7533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRemoteAsset=void 0;t.isRemoteAsset=e=>!e.startsWith(window.origin)&&!e.startsWith("data")},6489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onMediaError=void 0;const n=e=>async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const r=new AbortController,a=setTimeout((()=>r.abort()),n);t.signal=r.signal;try{const n=await fetch(e,t);return clearTimeout(a),n}catch(o){throw clearTimeout(a),new Error(`Fetch timed out after ${n}ms`)}}(e,{method:"HEAD",mode:"no-cors"}).then((e=>e.status));t.onMediaError=e=>{let{error:t,src:r,reject:a,cleanup:o,api:i}=e;(async e=>{let{suspecting404:t,sameOrigin:r,src:a}=e;if(!t)return Promise.resolve(null);if(!r)return Promise.resolve(null);try{return await n(a)}catch(o){return Promise.resolve(null)}})({suspecting404:t.MEDIA_ERR_SRC_NOT_SUPPORTED===t.code,sameOrigin:new URL(r,window.location.origin).toString().startsWith(window.location.origin),src:r}).then((e=>{const n=404===e?new Error([`Failed to execute ${i}: Received a 404 error loading "${r}".`,"Correct the URL of the file."].join(" ")):new Error([`Failed to execute ${i}, Received a MediaError loading "${r}". Consider using parseMedia() instead which supports more codecs: https://www.remotion.dev/docs/miscellaneous/parse-media-vs-get-video-metadata`,null===e?null:`HTTP Status code of the file: ${e}.`,t.message?`Browser error message: ${t.message}`:null,"Check the path of the file and if it is a valid video."].filter(Boolean).join(" "));a(n),o()})).catch((e=>{a(e),o()}))}},9111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pLimit=void 0;t.pLimit=e=>{const t=[];let n=0;const r=async function(e,r){for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];n++;const s=(async()=>e(...o))();r(s);try{await s}catch(l){}(()=>{var e;n--,t.length>0&&(null===(e=t.shift())||void 0===e||e())})()},a=function(a){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return new Promise((o=>{!function(a,o){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];t.push((()=>r(a,o,...s))),(async()=>{var r;await Promise.resolve(),n<e&&t.length>0&&(null===(r=t.shift())||void 0===r||r())})()}(a,o,...i)}))};return Object.defineProperties(a,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),a}},2968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.probeWaveFile=t.getInt8AsFloat=t.getInt16AsFloat=void 0;const r=n(2264),a=(e,t)=>e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t],o=(e,t)=>e[t+1]<<8|e[t];t.getInt16AsFloat=(e,t)=>{if(t>=e.length)throw new Error(`Tried to read a 16-bit integer from offset ${t} but the array length is ${e.length}`);return(e[t+1]<<8|e[t])/32768};t.getInt8AsFloat=(e,t)=>{if(t>=e.length)throw new Error(`Tried to read an 8-bit integer from offset ${t} but the array length is ${e.length}`);return(e[t]-128)/128};t.probeWaveFile=async e=>{const t=await(0,r.fetchWithCorsCatch)(e,{headers:{range:"bytes=0-256"}});if(206!==t.status)throw new Error(`Tried to read bytes 0-256 from ${e}, but the response status code was not 206. This means the server might not support returning a partial response.`);const n=await t.arrayBuffer(),i=new Uint8Array(n);if("RIFF"!==(new TextDecoder).decode(i.slice(0,4)))throw new Error("getPartialAudioData() requires a WAVE file, but the first bytes are not RIFF. ");const s=a(i,4);if("WAVE"!==(new TextDecoder).decode(i.slice(8,12)))throw new Error('getPartialAudioData() requires a WAVE file, but the bytes 8-11 are not "WAVE". ');if("fmt "!==(new TextDecoder).decode(i.slice(12,16)))throw new Error('getPartialAudioData() requires a WAVE file, but the bytes 12-15 are not "fmt ". ');if(1!==o(i,20))throw new Error("getPartialAudioData() supports only a WAVE file with PCM audio format, but the audio format is not PCM. ");const l=o(i,22),u=a(i,24),c=o(i,32),d=o(i,34);let f=36;if("LIST"===(new TextDecoder).decode(i.slice(f,f+4))){f+=a(i,40),f+=8}if("data"!==(new TextDecoder).decode(i.slice(f,f+4)))throw new Error('getPartialAudioData() requires a WAVE file, but the bytes 36-39 are not "data". ');const h=a(i,f+4);if(h+f!==s)throw new Error(`getPartialAudioData() requires a WAVE file, but: Expected ${h+f}, got ${s}. `);return{dataOffset:f+8,bitsPerSample:d,numberOfChannels:l,sampleRate:u,blockAlign:c,fileSize:s,durationInSeconds:h/(u*c)}}},2048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAudioData=void 0;const r=n(5043),a=n(2166),o=n(359);t.useAudioData=e=>{if(!e)throw new TypeError("useAudioData requires a 'src' parameter");const t=(0,r.useRef)({isMounted:!0});(0,r.useEffect)((()=>{const{current:e}=t;return e.isMounted=!0,()=>{e.isMounted=!1}}),[]);const[n,i]=(0,r.useState)(null),s=(0,r.useCallback)((async()=>{const n=(0,a.delayRender)(`Waiting for audio metadata with src="${e}" to be loaded`);try{const n=await(0,o.getAudioData)(e);t.current.isMounted&&i(n)}catch(r){(0,a.cancelRender)(r)}(0,a.continueRender)(n)}),[e]);return(0,r.useLayoutEffect)((()=>{s()}),[s]),n}},8094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowedAudioData=void 0;const r=n(5043),a=n(2166),o=n(885),i=n(7748),s=n(7533),l=n(2968);t.useWindowedAudioData=e=>{let{src:t,frame:n,fps:u,windowInSeconds:c,channelIndex:d=0}=e;const f=(0,r.useRef)(!0),[h,p]=(0,r.useState)(null),[m,g]=(0,r.useState)({}),v=(0,r.useRef)({}),[b]=(0,r.useState)(c);if(c!==b)throw new Error("windowInSeconds cannot be changed dynamically");(0,r.useEffect)((()=>(f.current=!0,()=>{f.current=!1})),[]);const y=(0,r.useCallback)((async e=>{const n=(0,a.delayRender)(`Waiting for audio metadata with src="${t}" to be loaded`),r=()=>{(0,a.continueRender)(n)};e.addEventListener("abort",r,{once:!0});try{const e=await(0,l.probeWaveFile)(t);f.current&&p(e),(0,a.continueRender)(n)}catch(o){(0,a.cancelRender)(o)}finally{e.removeEventListener("abort",r)}}),[t]);(0,r.useLayoutEffect)((()=>{const e=new AbortController;return y(e.signal),()=>{e.abort()}}),[y]);const _=n/u,x=Math.floor(_/c),w=(0,r.useMemo)((()=>{if(!h)return[];const e=Math.floor(h.durationInSeconds/c);return[0===x?null:x-1,x,x+1>e?null:x+1].filter((e=>null!==e)).filter((e=>e>=0))}),[x,h,c]),S=(0,r.useCallback)((async e=>{if(!h)throw new Error("Wave probe is not loaded yet");const n=new AbortController;v.current[e]=n;const r=await(0,i.getPartialWaveData)({bitsPerSample:h.bitsPerSample,blockAlign:h.blockAlign,channelIndex:d,dataOffset:h.dataOffset,fileSize:h.fileSize,fromSeconds:e*c,sampleRate:h.sampleRate,src:t,toSeconds:(e+1)*c,signal:n.signal});v.current[e]=null,g((t=>{const n=Object.keys(t).filter((e=>!w.includes(Number(e))));return{...t,...n.reduce(((e,t)=>(e[t]=null,e)),{}),[e]:r}}))}),[d,t,h,c,w]);(0,r.useEffect)((()=>{if(!h)return;const e=Object.keys(v.current).filter((e=>!w.includes(Number(e))));for(const t of e){const e=v.current[t];e&&(e.abort(),v.current[t]=null)}Promise.all(w.map((e=>S(e)))).catch((e=>{var t,n,r,o,i;(null===(t=e.stack)||void 0===t?void 0:t.includes("Cancelled"))||(null===(r=null===(n=e.stack)||void 0===n?void 0:n.toLowerCase())||void 0===r?void 0:r.includes("aborted"))||(null===(i=null===(o=e.message)||void 0===o?void 0:o.toLowerCase())||void 0===i?void 0:i.includes("aborted"))||(0,a.cancelRender)(e)}))}),[S,h,w]);const C=(0,r.useMemo)((()=>{if(!h)return null;if(w.some((e=>!m[e])))return null;const e=w.map((e=>m[e]));return{channelWaveforms:[(0,o.combineFloat32Arrays)(e)],durationInSeconds:h.durationInSeconds,isRemote:(0,s.isRemoteAsset)(t),numberOfChannels:1,resultId:String(Math.random()),sampleRate:h.sampleRate}}),[t,m,h,w]);return(0,r.useLayoutEffect)((()=>{if(C)return;const e=(0,a.delayRender)(`Waiting for audio data with src="${t}" to be loaded`);return()=>{(0,a.continueRender)(e)}}),[C,t]),{audioData:C,dataOffsetInSeconds:w[0]*c}}},5944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualizeAudio=void 0;const r=n(393),a=n(947),o=n(2459),i={},s=e=>{let{audioData:t,frame:n,fps:r,numberOfSamples:s,optimizeFor:l,dataOffsetInSeconds:u}=e;const c=t.resultId+n+r+s;if(i[c])return i[c];const d=(0,o.getMaxPossibleMagnitude)(t);return(0,a.getVisualization)({sampleSize:2*s,data:t.channelWaveforms[0],frame:n,fps:r,sampleRate:t.sampleRate,maxInt:d,optimizeFor:l,dataOffsetInSeconds:u})};t.visualizeAudio=e=>{let{smoothing:t=!0,optimizeFor:n=(r.NoReactInternals.ENABLE_V5_BREAKING_CHANGES?"speed":"accuracy"),dataOffsetInSeconds:a=0,...o}=e;if(!t)return s({...o,optimizeFor:n,dataOffsetInSeconds:a,smoothing:t});const i=[o.frame-1,o.frame,o.frame+1],l=i.map((e=>s({...o,frame:e,dataOffsetInSeconds:a,optimizeFor:n,smoothing:t})));return new Array(o.numberOfSamples).fill(!0).map(((e,t)=>new Array(i.length).fill(!0).map(((e,n)=>l[n][t])).reduce(((e,t)=>e+t),0)/i.length))}},854:(e,t,n)=>{e.exports=n(672)},1989:(e,t,n)=>{"use strict";var r=n(6267),a=n(3229),o=n(7903),i=n(6735),s=n(7638),l=n(3101),u=n(705),c=n(938),d=n(1550),f=n(5299);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(y+":"+_)}var x=s(e.baseURL,e.url);function w(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};a((function(e){t(e),v()}),(function(e){n(e),v()}),o),b=null}}if(b.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(n(c("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(c("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||u(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new f("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),b.send(p)}))}},672:(e,t,n)=>{"use strict";var r=n(6267),a=n(6973),o=n(8938),i=n(6438);var s=function e(t){var n=new o(t),s=a(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(i(t,n))},s}(n(1550));s.Axios=o,s.Cancel=n(5299),s.CancelToken=n(7690),s.isCancel=n(7767),s.VERSION=n(3104).version,s.all=function(e){return Promise.all(e)},s.spread=n(8125),s.isAxiosError=n(8738),e.exports=s,e.exports.default=s},5299:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},7690:(e,t,n)=>{"use strict";var r=n(5299);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},7767:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8938:(e,t,n)=>{"use strict";var r=n(6267),a=n(6735),o=n(6664),i=n(4395),s=n(6438),l=n(2478),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var c=[i,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),a=Promise.resolve(e);c.length;)a=a.then(c.shift(),c.shift());return a}for(var d=e;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(p){h(p);break}}try{a=i(d)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a},c.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c},6664:(e,t,n)=>{"use strict";var r=n(6267);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},7638:(e,t,n)=>{"use strict";var r=n(2762),a=n(1523);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},938:(e,t,n)=>{"use strict";var r=n(9478);e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},4395:(e,t,n)=>{"use strict";var r=n(6267),a=n(3024),o=n(7767),i=n(1550),s=n(5299);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},9478:e=>{"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},6438:(e,t,n)=>{"use strict";var r=n(6267);e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function l(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,a=t(e);r.isUndefined(a)&&t!==l||(n[e]=a)})),n}},3229:(e,t,n)=>{"use strict";var r=n(938);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},3024:(e,t,n)=>{"use strict";var r=n(6267),a=n(1550);e.exports=function(e,t,n){var o=this||a;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},1550:(e,t,n)=>{"use strict";var r=n(6267),a=n(2121),o=n(9478),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(1989)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(i){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(i)})),e.exports=l},3104:e=>{e.exports={version:"0.24.0"}},6973:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},6735:(e,t,n)=>{"use strict";var r=n(6267);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},1523:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},7903:(e,t,n)=>{"use strict";var r=n(6267);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},2762:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},8738:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},705:(e,t,n)=>{"use strict";var r=n(6267);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},2121:(e,t,n)=>{"use strict";var r=n(6267);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3101:(e,t,n)=>{"use strict";var r=n(6267),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},8125:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},2478:(e,t,n)=>{"use strict";var r=n(3104).version,a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(a(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],i=t[o];if(i){var s=e[o],l=void 0===s||i(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:a}},6267:(e,t,n)=>{"use strict";var r=n(6973),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function i(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},643:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>o});const o=a},3532:(e,t,n)=>{const r=n(8301),a={};for(const i of Object.keys(r))a[r[i]]=i;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const i of Object.keys(o)){if(!("channels"in o[i]))throw new Error("missing channels property: "+i);if(!("labels"in o[i]))throw new Error("missing channel labels property: "+i);if(o[i].labels.length!==o[i].channels)throw new Error("channel and label counts mismatch: "+i);const{channels:e,labels:t}=o[i];delete o[i].channels,delete o[i].labels,Object.defineProperty(o[i],"channels",{value:e}),Object.defineProperty(o[i],"labels",{value:t})}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=o-a;let s,l;o===a?s=0:t===o?s=(n-r)/i:n===o?s=2+(r-t)/i:r===o&&(s=4+(t-n)/i),s=Math.min(60*s,360),s<0&&(s+=360);const u=(a+o)/2;return l=o===a?0:u<=.5?i/(o+a):i/(2-o-a),[s,100*l,100*u]},o.rgb.hsv=function(e){let t,n,r,a,o;const i=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(i,s,l),c=u-Math.min(i,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(a=0,o=0):(o=c/u,t=d(i),n=d(s),r=d(l),i===u?a=r-n:s===u?a=1/3+t-r:l===u&&(a=2/3+n-t),a<0?a+=1:a>1&&(a-=1)),[360*a,100*o,100*u]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const a=o.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[a,100*i,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(1-t,1-n,1-r);return[100*((1-t-a)/(1-a)||0),100*((1-n-a)/(1-a)||0),100*((1-r-a)/(1-a)||0),100*a]},o.rgb.keyword=function(e){const t=a[e];if(t)return t;let n,o=1/0;for(const a of Object.keys(r)){const t=r[a],l=(s=t,((i=e)[0]-s[0])**2+(i[1]-s[1])**2+(i[2]-s[2])**2);l<o&&(o=l,n=a)}var i,s;return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],a=t[2];n/=95.047,r/=100,a/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;return[116*r-16,500*(n-r),200*(r-a)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let a,o,i;if(0===n)return i=255*r,[i,i,i];a=r<.5?r*(1+n):r+n-r*n;const s=2*r-a,l=[0,0,0];for(let u=0;u<3;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,i=6*o<1?s+6*(a-s)*o:2*o<1?a:3*o<2?s+(a-s)*(2/3-o)*6:s,l[u]=255*i;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,a=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,a*=o<=1?o:2-o;return[t,100*(0===r?2*a/(o+a):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const a=Math.floor(t)%6,o=t-Math.floor(t),i=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,a){case 0:return[r,l,i];case 1:return[s,r,i];case 2:return[i,r,l];case 3:return[i,s,r];case 4:return[l,i,r];case 5:return[r,i,s]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,a=Math.max(r,.01);let o,i;i=(2-n)*r;const s=(2-n)*a;return o=n*a,o/=s<=1?s:2-s,o=o||0,i/=2,[t,100*o,100*i]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const a=n+r;let o;a>1&&(n/=a,r/=a);const i=Math.floor(6*t),s=1-r;o=6*t-i,0!==(1&i)&&(o=1-o);const l=n+o*(s-n);let u,c,d;switch(i){default:case 6:case 0:u=s,c=l,d=n;break;case 1:u=l,c=s,d=n;break;case 2:u=n,c=s,d=l;break;case 3:u=n,c=l,d=s;break;case 4:u=l,c=n,d=s;break;case 5:u=s,c=n,d=l}return[255*u,255*c,255*d]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let a,o,i;return a=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,i=.0557*t+-.204*n+1.057*r,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[255*a,255*o,255*i]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const a=n**3,o=t**3,i=r**3;return n=a>.008856?a:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=i>.008856?i:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let a;a=360*Math.atan2(r,n)/2/Math.PI,a<0&&(a+=360);return[t,Math.sqrt(n*n+r*r),a]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,r,a]=e;let i=null===t?o.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),0===i)return 30;let s=30+(Math.round(a/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),i=a-o;let s,l;return s=i<1?o/(1-i):0,l=i<=0?0:a===t?(n-r)/i%6:a===n?2+(r-t)/i:4+(t-n)/i,l/=6,l%=1,[360*l,100*i,100*s]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let a=0;return r<1&&(a=(n-.5*r)/(1-r)),[e[0],100*r,100*a]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],100*r,100*a]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const a=[0,0,0],o=t%1*6,i=o%1,s=1-i;let l=0;switch(Math.floor(o)){case 0:a[0]=1,a[1]=i,a[2]=0;break;case 1:a[0]=s,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=i;break;case 3:a[0]=0,a[1]=s,a[2]=1;break;case 4:a[0]=i,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=s}return l=(1-n)*r,[255*(n*a[0]+l),255*(n*a[1]+l),255*(n*a[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],100*r,100*a]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},53:(e,t,n)=>{const r=n(3532),a=n(444),o={};Object.keys(r).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=a(e);Object.keys(t).forEach((n=>{const r=t[n];o[e][n]=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const a=n[0];if(void 0===a||null===a)return a;a.length>1&&(n=a);const o=e(n);if("object"===typeof o)for(let e=o.length,i=0;i<e;i++)o[i]=Math.round(o[i]);return o};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const a=n[0];return void 0===a||null===a?a:(a.length>1&&(n=a),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},444:(e,t,n)=>{const r=n(3532);function a(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),a=Object.keys(r[e]);for(let r=a.length,o=0;o<r;o++){const r=a[o],i=t[r];-1===i.distance&&(i.distance=t[e].distance+1,i.parent=e,n.unshift(r))}}return t}function o(e,t){return function(n){return t(e(n))}}function i(e,t){const n=[t[e].parent,e];let a=r[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),a=o(r[t[i].parent][i],a),i=t[i].parent;return a.conversion=n,a}e.exports=function(e){const t=a(e),n={},r=Object.keys(t);for(let a=r.length,o=0;o<a;o++){const e=r[o];null!==t[e].parent&&(n[e]=i(e,t))}return n}},8301:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1139:(e,t,n)=>{var r=n(8301),a=n(9849),o=Object.hasOwnProperty,i=Object.create(null);for(var s in r)o.call(r,s)&&(i[r[s]]=s);var l=e.exports={to:{},get:{}};function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),n="hsl";break;case"hwb":t=l.get.hwb(e),n="hwb";break;default:t=l.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,n,a,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=t[2],t=t[1],n=0;n<3;n++){var s=2*n;i[n]=parseInt(t.slice(s,s+2),16)}a&&(i[3]=parseInt(a,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(a=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);a&&(i[3]=parseInt(a+a,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((i=r[t[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=u(i[n],0,255);return i[3]=u(i[3],0,1),i},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var e=a(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=a(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=a(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=a(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=a(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return i[e.slice(0,3)]}},2995:(e,t,n)=>{const r=n(1139),a=n(53),o=["keyword","gray","hex"],i={};for(const h of Object.keys(a))i[[...a[h].labels].sort().join("")]=h;const s={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in a))throw new Error("Unknown model: "+t);let n,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"===typeof e){const t=r.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,u=a[this.model].channels,this.color=t.value.slice(0,u),this.valpha="number"===typeof t.value[u]?t.value[u]:1}else if(e.length>0){this.model=t||"rgb",u=a[this.model].channels;const n=Array.prototype.slice.call(e,0,u);this.color=f(n,u),this.valpha="number"===typeof e[u]?e[u]:1}else if("number"===typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in i))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=i[r];const{labels:o}=a[this.model],s=[];for(n=0;n<o.length;n++)s.push(e[o[n]]);this.color=f(s)}if(s[this.model])for(u=a[this.model].channels,n=0;n<u;n++){const e=s[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in r.to?this:this.rgb();t=t.round("number"===typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to[t.model](n)},percentString(e){const t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=a[this.model],{labels:n}=a[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(u(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(95.047)),y:c("xyz",1,d(100)),z:c("xyz",2,d(108.833)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword(e){return void 0!==e?new l(e):a[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):r.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),a=void 0===t?.5:t,o=2*a-1,i=n.alpha()-r.alpha(),s=((o*i===-1?o:(o+i)/(1+o*i))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*a+r.alpha()*(1-a))}};for(const h of Object.keys(a)){if(o.includes(h))continue;const{channels:e}=a[h];l.prototype[h]=function(){if(this.model===h)return new l(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0?new l(t,h):new l([...(r=a[this.model][h].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],h);var r},l[h]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let a=n[0];return"number"===typeof a&&(a=f(n,e)),new l(a,h)}}function u(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function c(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(s[r]||(s[r]=[]))[t]=n;return e=e[0],function(r){let a;return void 0!==r?(n&&(r=n(r)),a=this[e](),a.color[t]=r,a):(a=this[e]().color[t],n&&(a=n(a)),a)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e,t){for(let n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}e.exports=l},7396:(e,t,n)=>{var r;!function(){"use strict";var a=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:a,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},219:(e,t,n)=>{"use strict";var r=n(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=h(n);a&&a!==p&&e(t,a,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<i.length;++g){var v=i[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var b=f(n,v);try{u(t,v,b)}catch(y){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case m:case l:return e;default:return t}}case a:return t}}}function w(e){return x(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===i},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===i||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_||e.$$typeof===v)},t.typeOf=x},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;const r=n(4602),a=n(7149),o=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()};class i{constructor(e,t){this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,n=t.length;for(let r=0;r<n;r++)if(t[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=i.animations,t=e.length;for(let n=0;n<t;n++)if(e[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),i._addAnimation(this),this}stop(){return i._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,n=this.animations,r=n.length;for(let a=0;a<r;a++)if(n[a].id===t){this.animations.splice(a,1);break}}static _runFrames(){const e={},t=this.animations;for(let n=0;n<t.length;n++){const r=t[n],a=r.layers,i=r.func;r._updateFrameObject(o());const s=a.length;let l;if(l=!i||!1!==i.call(r,r.frame),l)for(let t=0;t<s;t++){const n=a[t];void 0!==n._id&&(e[n._id]=n)}}for(const n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=i;e.animations.length?(e._runFrames(),a.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,a.Util.requestAnimFrame(this._animationLoop))}}t.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1},5941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];t.getCubicArcLength=(e,r,a)=>{let o,i;const s=a/2;o=0;for(let l=0;l<20;l++)i=s*t.tValues[20][l]+s,o+=t.cValues[20][l]*n(e,r,i);return s*o};function n(e,t,n){const a=r(1,n,e),o=r(1,n,t),i=a*a+o*o;return Math.sqrt(i)}t.getQuadraticArcLength=(e,t,n)=>{void 0===n&&(n=1);const r=e[0]-2*e[1]+e[2],a=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],i=2*t[1]-2*t[0],s=4*(r*r+a*a),l=4*(r*o+a*i),u=o*o+i*i;if(0===s)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const c=l/(2*s),d=n+c,f=u/s-c*c,h=d*d+f>0?Math.sqrt(d*d+f):0,p=c*c+f>0?Math.sqrt(c*c+f):0,m=c+Math.sqrt(c*c+f)!==0?f*Math.log(Math.abs((d+h)/(c+p))):0;return Math.sqrt(s)/2*(d*h-c*p+m)};const r=(e,n,a)=>{const o=a.length-1;let i,s;if(0===o)return 0;if(0===e){s=0;for(let e=0;e<=o;e++)s+=t.binomialCoefficients[o][e]*Math.pow(1-n,o-e)*Math.pow(n,e)*a[e];return s}i=new Array(o);for(let t=0;t<o;t++)i[t]=o*(a[t+1]-a[t]);return r(e-1,n,i)};t.t2length=(e,t,n)=>{let r=1,a=e/t,o=(e-n(a))/t,i=0;for(;r>.001;){const s=n(a+o),l=Math.abs(e-s)/t;if(l<r)r=l,a+=o;else{const i=n(a-o),s=Math.abs(e-i)/t;s<r?(r=s,a-=o):o/=2}if(i++,i>500)break}return a}},589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitCanvas=t.SceneCanvas=t.Canvas=void 0;const r=n(7149),a=n(3354),o=n(4602),i=n(1751),s=n(9910);let l;class u{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const t=(e||{}).pixelRatio||o.Konva.pixelRatio||function(){if(l)return l;const e=r.Util.createCanvasElement(),t=e.getContext("2d");return l=(o.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),r.Util.releaseCanvas(e),l}();this.pixelRatio=t,this._canvas=r.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(a){return r.Util.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}t.Canvas=u,i.Factory.addGetterSetter(u,"pixelRatio",void 0,(0,s.getNumberValidator)());t.SceneCanvas=class extends u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0,willReadFrequently:!1};super(e),this.context=new a.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};t.HitCanvas=class extends u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.hitCanvas=!0,this.context=new a.HitContext(this),this.setSize(e.width,e.height)}}},4598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const r=n(1751),a=n(1189),o=n(9910);class i extends a.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[],n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(){if(0===arguments.length)return this;if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(e<0||arguments.length<=e?void 0:arguments[e]);return this}const e=arguments.length<=0?void 0:arguments[0];return e.getParent()?(e.moveTo(this),this):(this._validateAdd(e),e.index=this.getChildren().length,e.parent=this,e._clearCaches(),this.getChildren().push(e),this._fire("add",{child:e}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const n=[];return this._descendants((r=>{const a=r._isMatch(e);return a&&n.push(r),!(!a||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){const e=a.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=a.Node.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach((n=>{n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t,n){const r=this.getLayer(),a=e||r&&r.getCanvas(),o=a&&a.getContext(),i=this._getCanvasCache(),s=i&&i.scene,l=a&&a.isCache;if(!this.isVisible()&&!l)return this;if(s){o.save();const e=this.getAbsoluteTransform(t).getMatrix();o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",a,t,n);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const n=this.getLayer(),r=e||n&&n.hitCanvas,a=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){a.save();const e=this.getAbsoluteTransform(t).getMatrix();a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n,r){var a;const o=t&&t.getContext(),i=this.clipWidth(),s=this.clipHeight(),l=this.clipFunc(),u="number"===typeof i&&"number"===typeof s||l,c=n===this;if(u){o.save();const e=this.getAbsoluteTransform(n);let t,r=e.getMatrix();if(o.transform(r[0],r[1],r[2],r[3],r[4],r[5]),o.beginPath(),l)t=l.call(this,o,this);else{const e=this.clipX(),t=this.clipY();o.rect(e||0,t||0,i,s)}o.clip.apply(o,t),r=e.copy().invert().getMatrix(),o.transform(r[0],r[1],r[2],r[3],r[4],r[5])}const d=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;d&&(o.save(),o._applyGlobalCompositeOperation(this)),null===(a=this.children)||void 0===a||a.forEach((function(a){a[e](t,n,r)})),d&&o.restore(),u&&o.restore()}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=e.skipTransform,r=e.relativeTo;let a,o,i,s,l={x:1/0,y:1/0,width:0,height:0};const u=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(!t.visible())return;const n=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===n.width&&0===n.height||(void 0===a?(a=n.x,o=n.y,i=n.x+n.width,s=n.y+n.height):(a=Math.min(a,n.x),o=Math.min(o,n.y),i=Math.max(i,n.x+n.width),s=Math.max(s,n.y+n.height)))}));const c=this.find("Shape");let d=!1;for(let f=0;f<c.length;f++){if(c[f]._isVisible(this)){d=!0;break}}return l=d&&void 0!==a?{x:a,y:o,width:i-a,height:s-o}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,r)}}t.Container=i,r.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),r.Factory.addGetterSetter(i,"clipX",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(i,"clipY",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(i,"clipWidth",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(i,"clipHeight",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(i,"clipFunc")},3354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitContext=t.SceneContext=t.Context=void 0;const r=n(7149),a=n(4602);const o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class i{constructor(e){this.canvas=e,a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let n,a,o,i,s=this.traceArr,l=s.length,u="";for(n=0;n<l;n++)a=s[n],o=a.method,o?(i=a.args,u+=o,e?u+="()":r.Util._isArray(i[0])?u+="(["+i.join(",")+"])":(t&&(i=i.map((e=>"number"===typeof e?Math.floor(e):e))),u+="("+i.join(",")+")")):(u+=a.property,e||(u+="="+a.val)),u+=";";return u}clearTrace(){this.traceArr=[]}_trace(e){let t,n=this.traceArr;n.push(e),t=n.length,t>=100&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,a,o){this._context.arc(e,t,n,r,a,o)}arcTo(e,t,n,r,a){this._context.arcTo(e,t,n,r,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,a,o){this._context.bezierCurveTo(e,t,n,r,a,o)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(e,t){const n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,a,o){return this._context.createRadialGradient(e,t,n,r,a,o)}drawImage(e,t,n,r,a,o,i,s,l){const u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,a):9===u.length&&c.drawImage(e,t,n,r,a,o,i,s,l)}ellipse(e,t,n,r,a,o,i,s){this._context.ellipse(e,t,n,r,a,o,i,s)}isPointInPath(e,t,n,r){return n?this._context.isPointInPath(n,e,t,r):this._context.isPointInPath(e,t,r)}fill(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._context.fill.apply(this._context,t)}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}roundRect(e,t,n,r,a){this._context.roundRect(e,t,n,r,a)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,a,o){this._context.setTransform(e,t,n,r,a,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,a,o){this._context.transform(e,t,n,r,a,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e,t,n=this,a=o.length,i=this.setAttr;const s=function(e){let a,o=n[e];n[e]=function(){return t=function(e){const t=[],n=e.length,a=r.Util;for(let r=0;r<n;r++){let n=e[r];a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n+=""),t.push(n)}return t}(Array.prototype.slice.call(arguments,0)),a=o.apply(n,arguments),n._trace({method:e,args:t}),a}};for(e=0;e<a;e++)s(o[e]);n.setAttr=function(){i.apply(n,arguments);const e=arguments[0];let t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}t.Context=i,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(i.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));t.SceneContext=class extends i{constructor(e){let{willReadFrequently:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const r=e.getFillPatternImage();if(r&&"pattern"===n)return void this._fillPattern(e);const a=e.getFillLinearGradientColorStops();if(a&&"linear-gradient"===n)return void this._fillLinearGradient(e);const o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):a?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(let e=0;e<r.length;e+=2)a.addColorStop(r[e],r[e+1]);this.setAttr("strokeStyle",a)}}_stroke(e){const t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r;const a=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,i=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",i.x*u),this.setAttr("shadowOffsetY",i.y*c)}};t.HitContext=class extends i{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),r="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}},1650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=n(8065);Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const a=n(8065);e.exports=a.Konva},8727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const r=n(4602),a=n(7149);t.DD={get isDragging(){let e=!1;return t.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){let e;return t.DD._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const n=[];t.DD._dragElements.forEach(((t,r)=>{const{node:o}=t,i=o.getStage();i.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=a.Util._getFirstPointerId(e));const s=i._changedPointerPositions.find((e=>e.id===t.pointerId));if(s){if("dragging"!==t.dragStatus){const n=o.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<n)return;if(o.startDrag({evt:e}),!o.isDragging())return}o._setDragPosition(e,t),n.push(o)}})),n.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){const n=[];t.DD._dragElements.forEach((a=>{const{node:o}=a,i=o.getStage();e&&i.setPointersPositions(e);if(!i._changedPointerPositions.find((e=>e.id===a.pointerId)))return;"dragging"!==a.dragStatus&&"stopped"!==a.dragStatus||(t.DD.justDragged=!0,r.Konva._mouseListenClick=!1,r.Konva._touchListenClick=!1,r.Konva._pointerListenClick=!1,a.dragStatus="stopped");const s=a.node.getLayer()||a.node instanceof r.Konva.Stage&&a.node;s&&-1===n.indexOf(s)&&n.push(s)})),n.forEach((e=>{e.draw()}))},_endDragAfter(e){t.DD._dragElements.forEach(((n,r)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:e},!0),"dragging"!==n.dragStatus&&t.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))},1751:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const r=n(7149),a=n(9910),o="get",i="set";t.Factory={addGetterSetter(e,n,r,a,o){t.Factory.addGetter(e,n,r),t.Factory.addSetter(e,n,a,o),t.Factory.addOverloadedGetterSetter(e,n)},addGetter(e,t,n){var a=o+r.Util._capitalize(t);e.prototype[a]=e.prototype[a]||function(){const e=this.attrs[t];return void 0===e?n:e}},addSetter(e,n,a,o){var s=i+r.Util._capitalize(n);e.prototype[s]||t.Factory.overWriteSetter(e,n,a,o)},overWriteSetter(e,t,n,a){var o=i+r.Util._capitalize(t);e.prototype[o]=function(e){return n&&void 0!==e&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),a&&a.call(this),this}},addComponentsGetterSetter(e,n,s,l,u){const c=s.length,d=r.Util._capitalize,f=o+d(n),h=i+d(n);e.prototype[f]=function(){const e={};for(let t=0;t<c;t++){const r=s[t];e[r]=this.getAttr(n+d(r))}return e};const p=(0,a.getComponentValidator)(s);e.prototype[h]=function(e){const t=this.attrs[n];l&&(e=l.call(this,e,n)),p&&p.call(this,e,n);for(const r in e)e.hasOwnProperty(r)&&this._setAttr(n+d(r),e[r]);return e||s.forEach((e=>{this._setAttr(n+d(e),void 0)})),this._fireChangeEvent(n,t,e),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(e,n)},addOverloadedGetterSetter(e,t){var n=r.Util._capitalize(t),a=i+n,s=o+n;e.prototype[t]=function(){return arguments.length?(this[a](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(e,n,a,i){r.Util.error("Adding deprecated "+n);const s=o+r.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[s]=function(){r.Util.error(l);const e=this.attrs[n];return void 0===e?a:e},t.Factory.addSetter(e,n,i,(function(){r.Util.error(l)})),t.Factory.addOverloadedGetterSetter(e,n)},backCompat(e,t){r.Util.each(t,(function(t,n){const a=e.prototype[n],s=o+r.Util._capitalize(t),l=i+r.Util._capitalize(t);function u(){a.apply(this,arguments),r.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=u,e.prototype[s]=u,e.prototype[l]=u}))},afterSetFilter(){this._filterUpToDate=!1}}},3994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastLayer=void 0;const r=n(7149),a=n(1416),o=n(4602);class i extends a.Layer{constructor(e){super(e),this.listening(!1),r.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}t.FastLayer=i,i.prototype.nodeType="FastLayer",(0,o._registerNode)(i)},4602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const r=Math.PI/180;t.glob="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},t.Konva={_global:t.glob,version:"9.3.18",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>t.Konva.angleDeg?e*r:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>t.Konva.DD.isDragging,isTransforming(){var e;return null===(e=t.Konva.Transformer)||void 0===e?void 0:e.isTransforming()},isDragReady:()=>!!t.Konva.DD.node,releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(e){t.glob.Konva=e}};t._registerNode=e=>{t.Konva[e.prototype.getClassName()]=e},t.Konva._injectGlobal(t.Konva)},6338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;const r=n(7149),a=n(4598),o=n(4602);class i extends a.Container{_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&r.Util.throw("You may only add groups and shapes to groups.")}}t.Group=i,i.prototype.nodeType="Group",(0,o._registerNode)(i)},1416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;const r=n(7149),a=n(4598),o=n(1189),i=n(1751),s=n(589),l=n(9910),u=n(3304),c=n(4602),d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],f=d.length;class h extends a.Container{constructor(e){super(e),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){o.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!o.Node.prototype.moveUp.call(this))return!1;const e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(o.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(o.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return o.Node.prototype.remove.call(this),e&&e.parentNode&&r.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize(e){let{width:t,height:n}=e;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&r.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){r.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){r.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,r.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,n=!1;for(;;){for(let r=0;r<f;r++){const a=d[r],o=this._getIntersection({x:e.x+a.x*t,y:e.y+a.y*t}),i=o.shape;if(i)return i;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,a=n[3];if(255===a){const e=r.Util._rgbToHex(n[0],n[1],n[2]),t=u.shapes["#"+e];return t?{shape:t}:{antialiased:!0}}return a>0?{antialiased:!0}:{}}drawScene(e,t){const n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),a.Container.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}drawHit(e,t){const n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return r.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}t.Layer=h,h.prototype.nodeType="Layer",(0,c._registerNode)(h),i.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(h,"clearBeforeDraw",!0),i.Factory.addGetterSetter(h,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},1189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;const r=n(7149),a=n(1751),o=n(589),i=n(4602),s=n(8727),l=n(9910),u="absoluteOpacity",c="allEventListeners",d="absoluteTransform",f="absoluteScale",h="canvas",p="listening",m="mouseenter",g="mouseleave",v="Shape",b=" ",y="stage",_="transform",x="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let S=1;class C{constructor(e){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==_&&e!==d||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){let n=this._cache.get(e);return(void 0===n||(e===_||e===d)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(b);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(h)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(h)){const{scene:e,filter:t,hit:n}=this._cache.get(h);r.Util.releaseCanvas(e,t,n),this._cache.delete(h)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let a=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),s=t.pixelRatio,l=void 0===t.x?Math.floor(n.x):t.x,c=void 0===t.y?Math.floor(n.y):t.y,d=t.offset||0,p=t.drawBorder||!1,m=t.hitCanvasPixelRatio||1;if(!a||!i)return void r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");a+=2*d+(Math.abs(Math.round(n.x)-l)>.5?1:0),i+=2*d+(Math.abs(Math.round(n.y)-c)>.5?1:0),l-=d,c-=d;const g=new o.SceneCanvas({pixelRatio:s,width:a,height:i}),v=new o.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),b=new o.HitCanvas({pixelRatio:m,width:a,height:i}),y=g.getContext(),_=b.getContext();return b.isCache=!0,g.isCache=!0,this._cache.delete(h),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),y.save(),_.save(),y.translate(-l,-c),_.translate(-l,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(f),this.drawScene(g,this),this.drawHit(b,this),this._isUnderCache=!1,y.restore(),_.restore(),p&&(y.save(),y.beginPath(),y.rect(0,0,a,i),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(h,{scene:g,filter:v,hit:b,x:l,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(h)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,a=1/0,o=-1/0,i=-1/0;const s=this.getAbsoluteTransform(t);return n.forEach((function(e){const t=s.point(e);void 0===r&&(r=o=t.x,a=i=t.y),r=Math.min(r,t.x),a=Math.min(a,t.y),o=Math.max(o,t.x),i=Math.max(i,t.y)})),{x:r,y:a,width:o-r,height:i-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e,t,n,a,o=this.filters(),i=this._getCanvasCache(),s=i.scene,l=i.filter,u=l.getContext();if(o){if(!this._filterUpToDate){const i=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(e=o.length,u.clear(),u.drawImage(s._canvas,0,0,s.getWidth()/i,s.getHeight()/i),t=u.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<e;n++)a=o[n],"function"===typeof a?(a.call(this,t),u.putImageData(t,0,0)):r.Util.error("Filter should be type of function, but got "+typeof a+" instead. Please check correct filters")}catch(c){r.Util.error("Unable to apply filter. "+c.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s}on(e,t){if(this._cache&&this._cache.delete(c),3===arguments.length)return this._delegate.apply(this,arguments);let n,r,a,o,i,s=e.split(b),l=s.length;for(n=0;n<l;n++)r=s[n],a=r.split("."),o=a[0],i=a[1]||"",this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:i,handler:t});return this}off(e,t){let n,r,a,o,i,s,l=(e||"").split(b),u=l.length;if(this._cache&&this._cache.delete(c),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<u;n++)if(a=l[n],o=a.split("."),i=o[0],s=o[1],i)this.eventListeners[i]&&this._off(i,s,t);else for(r in this.eventListeners)this._off(r,s,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){const a=this;this.on(e,(function(e){const o=e.target.findAncestors(t,!0,a);for(let t=0;t<o.length;t++)(e=r.Util.cloneObject(e)).currentTarget=o[t],n.call(o[t],e)}))}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+r.Util._capitalize(e);return r.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{let t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+r.Util._capitalize(t),r.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(p,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(x,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let r=!1;s.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));const a=!t&&!i.Konva.hitOnDragEnabled&&(r||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e,t,n,r,a=this.getDepth(),o=this,i=0;const s=this.getStage();return"Stage"!==o.nodeType&&s&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],i++,r.nodeType!==v&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=a&&s(e)}(s.getChildren()),i}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(_),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);const a=this.getAbsoluteTransform(e).getMatrix(),o=new r.Transform,i=this.offset();return o.m=a.slice(),o.translate(i.x,i.y),o.getTranslation()}setAbsolutePosition(e){const{x:t,y:n,...r}=this._clearTransform();this.attrs.x=t,this.attrs.y=n,this._clearCache(_);const a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(_),this._clearSelfAndDescendantCache(d),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,n=e.y,r=this.x(),a=this.y();return void 0!==t&&(r+=t),void 0!==n&&(a+=n),this.setPosition({x:r,y:a}),this}_eachAncestorReverse(e,t){let n,r,a=[],o=this.getParent();if(!t||t._id!==this._id){for(a.unshift(this);o&&(!t||o._id!==t._id);)a.unshift(o),o=o.parent;for(n=a.length,r=0;r<n;r++)e(a[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&r.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(u,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e,t,n,a,o,i=this.getAttrs();const s={attrs:{},className:this.getClassName()};for(e in i)t=i[e],o=r.Util.isObject(t)&&!r.Util._isPlainObject(t)&&!r.Util._isArray(t),o||(n="function"===typeof this[e]&&this[e],delete i[e],a=n?n.call(this):null,i[e]=t,a!==t&&(s.attrs[e]=t));return r.Util._prepareToStringify(s)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){const r=[];t&&this._isMatch(e)&&r.push(this);let a=this.parent;for(;a;){if(a===n)return r;a._isMatch(e)&&r.push(a),a=a.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"===typeof e)return e(this);let t,n,a=e.replace(/ /g,"").split(","),o=a.length;for(t=0;t<o;t++)if(n=a[t],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(y,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new r.Transform,this._eachAncestorReverse((function(e){const n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;{t=this._cache.get(d)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const e=this.transformsEnabled();if("all"===e)t.multiply(this.getTransform());else if("position"===e){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(e-r,n-a)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(_,this._getTransform)}_getTransform(){var e,t;const n=this._cache.get(_)||new r.Transform;n.reset();const a=this.x(),o=this.y(),s=i.Konva.getAngle(this.rotation()),l=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,u=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,f=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return 0===a&&0===o||n.translate(a,o),0!==s&&n.rotate(s),0===c&&0===d||n.skew(c,d),1===l&&1===u||n.scale(l,u),0===f&&0===h||n.translate(-1*f,-1*h),n.dirty=!1,n}clone(e){let t,n,a,o,i,s=r.Util.cloneObject(this.attrs);for(t in e)s[t]=e[t];const l=new this.constructor(s);for(t in this.eventListeners)for(n=this.eventListeners[t],a=n.length,o=0;o<a;o++)i=n[o],i.name.indexOf("konva")<0&&(l.eventListeners[t]||(l.eventListeners[t]=[]),l.eventListeners[t].push(i));return l}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),a=void 0!==e.y?e.y:Math.floor(t.y),i=e.pixelRatio||1,s=new o.SceneCanvas({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:i}),l=s.getContext(),u=new o.SceneCanvas({width:s.width/s.pixelRatio+Math.abs(r),height:s.height/s.pixelRatio+Math.abs(a),pixelRatio:s.pixelRatio});return!1===e.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||a)&&l.translate(-1*r,-1*a),this.drawScene(s,void 0,u),l.restore(),s}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){const t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,r.Util._urlToImage(this.toDataURL(e),(function(e){t(e),null===n||void 0===n||n(e)}))}catch(a){n(a)}}))}toBlob(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob((e=>{t(e),null===n||void 0===n||n(e)}),null===e||void 0===e?void 0:e.mimeType,null===e||void 0===e?void 0:e.quality)}catch(r){n(r)}}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(e,t,n){let r,a,o,i=this.eventListeners[e];for(r=0;r<i.length;r++)if(a=i[r].name,o=i[r].handler,("konva"!==a||"konva"===t)&&(!t||a===t)&&(!n||n===o)){if(i.splice(r,1),0===i.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){const t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;return-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){const t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){const n=this["set"+r.Util._capitalize(e)];return r.Util._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}_setAttr(e,t){const n=this.attrs[e];(n!==t||r.Util.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){let r;void 0!==n&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){t&&this.nodeType===v&&(t.target=this);if(!((e===m||e===g)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);const r=(e===m||e===g)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,r;const a=null!==(t=this._cache.get(c))&&void 0!==t?t:{};let o=null===a||void 0===a?void 0:a[e];if(void 0===o){o=[];let t=Object.getPrototypeOf(this);for(;t;){const a=null!==(r=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==r?r:[];o.push(...a),t=Object.getPrototypeOf(t)}a[e]=o,this._cache.set(c,a)}return o}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);const a=this.eventListeners[e];if(a)for(r=0;r<a.length;r++)a[r].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition();if(!n)return;const a=n._getPointerById(t)||n._changedPointerPositions[0]||r;s.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-r.x,y:a.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.DD._dragElements.has(this._id)||this._createDragElement(e);s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(!n)return;let a={x:n.x-t.offset.x,y:n.y-t.offset.y};const o=this.dragBoundFunc();if(void 0!==o){const t=o.call(this,a,e);t?a=t:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===a.x&&this._lastPos.y===a.y||(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}stopDrag(e){const t=s.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),s.DD._endDragBefore(e),s.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=s.DD._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if(!(!(void 0!==e.evt.button)||i.Konva.dragButtons.indexOf(e.evt.button)>=0))return;if(this.isDragging())return;let t=!1;s.DD._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();if(!this.getStage())return;const e=s.DD._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return r.Util.haveIntersection(n,this.getClientRect())}static create(e,t){return r.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let n,a,o,s=C.prototype.getClassName.call(e),l=e.children;t&&(e.attrs.container=t),i.Konva[s]||(r.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape");if(n=new(0,i.Konva[s])(e.attrs),l)for(a=l.length,o=0;o<a;o++)n.add(C._createNode(l[o]));return n}}t.Node=C,C.prototype.nodeType="Node",C.prototype._attrsAffectingSize=[],C.prototype.eventListeners={},C.prototype.on.call(C.prototype,w,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(_),this._clearSelfAndDescendantCache(d))})),C.prototype.on.call(C.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(x)})),C.prototype.on.call(C.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(p)})),C.prototype.on.call(C.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(u)}));const E=a.Factory.addGetterSetter;E(C,"zIndex"),E(C,"absolutePosition"),E(C,"position"),E(C,"x",0,(0,l.getNumberValidator)()),E(C,"y",0,(0,l.getNumberValidator)()),E(C,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),E(C,"opacity",1,(0,l.getNumberValidator)()),E(C,"name","",(0,l.getStringValidator)()),E(C,"id","",(0,l.getStringValidator)()),E(C,"rotation",0,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"scale",["x","y"]),E(C,"scaleX",1,(0,l.getNumberValidator)()),E(C,"scaleY",1,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"skew",["x","y"]),E(C,"skewX",0,(0,l.getNumberValidator)()),E(C,"skewY",0,(0,l.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"offset",["x","y"]),E(C,"offsetX",0,(0,l.getNumberValidator)()),E(C,"offsetY",0,(0,l.getNumberValidator)()),E(C,"dragDistance",void 0,(0,l.getNumberValidator)()),E(C,"width",0,(0,l.getNumberValidator)()),E(C,"height",0,(0,l.getNumberValidator)()),E(C,"listening",!0,(0,l.getBooleanValidator)()),E(C,"preventDefault",!0,(0,l.getBooleanValidator)()),E(C,"filters",void 0,(function(e){return this._filterUpToDate=!1,e})),E(C,"visible",!0,(0,l.getBooleanValidator)()),E(C,"transformsEnabled","all",(0,l.getStringValidator)()),E(C,"size"),E(C,"dragBoundFunc"),E(C,"draggable",!1,(0,l.getBooleanValidator)()),a.Factory.backCompat(C,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},9485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapturedShape=function(e){return a.get(e)},t.createEvent=i,t.hasPointerCapture=function(e,t){return a.get(e)===t},t.setPointerCapture=function(e,t){s(e);if(!t.getStage())return;a.set(e,t),o&&t._fire("gotpointercapture",i(new PointerEvent("gotpointercapture")))},t.releaseCapture=s;const r=n(4602),a=new Map,o=void 0!==r.Konva._global.PointerEvent;function i(e){return{evt:e,pointerId:e.pointerId}}function s(e,t){const n=a.get(e);if(!n)return;const r=n.getStage();r&&r.content,a.delete(e),o&&n._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}},3304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const r=n(4602),a=n(7149),o=n(1751),i=n(1189),s=n(9910),l=n(4602),u=n(9485),c="hasShadow",d="shadowRGBA",f="patternImage",h="linearGradient",p="radialGradient";let m;function g(){return m||(m=a.Util.createCanvasElement().getContext("2d"),m)}t.shapes={};class v extends i.Node{constructor(e){let n;for(super(e);n=a.Util.getRandomColor(),!n||n in t.shapes;);this.colorKey=n,t.shapes[n]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new a.Transform;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(r.Konva.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),o="undefined"===typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(o)}return e}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=g(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),a=t.createLinearGradient(n.x,n.y,r.x,r.y);for(let o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=g(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),a=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=a.Util.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const n=t.bufferHitCanvas;n.getContext().clear(),this.drawHit(n,void 0,!0);return n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const n=e||this.hasFill(),r=this.hasStroke(),a=1!==this.getAbsoluteOpacity();if(n&&r&&a)return!0;const o=this.hasShadow(),i=this.shadowForStrokeEnabled();return!!(n&&r&&o&&i)}setStrokeHitEnabled(e){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=this.getParent();for(;n;){if(n.isCached()){t=!0;break}n=n.getParent()}const r=e.skipTransform,a=e.relativeTo||t&&this.getStage()||void 0,o=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,s=o.width+i,l=o.height+i,u=!e.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,d=u?this.shadowOffsetY():0,f=s+Math.abs(c),h=l+Math.abs(d),p=u&&this.shadowBlur()||0,m={width:f+2*p,height:h+2*p,x:-(i/2+p)+Math.min(c,0)+o.x,y:-(i/2+p)+Math.min(d,0)+o.y};return r?m:this._transformedRect(m,a)}drawScene(e,t,n){const r=this.getLayer();let a,o,i=e||r.getCanvas(),s=i.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),c=this.hasShadow();const d=i.isCache,f=t===this;if(!this.isVisible()&&!f)return this;if(l){s.save();const e=this.getAbsoluteTransform(t).getMatrix();return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!u)return this;if(s.save(),this._useBufferCanvas()&&!d){a=this.getStage();const e=n||a.bufferCanvas;o=e.getContext(),o.clear(),o.save(),o._applyLineJoin(this);var h=this.getAbsoluteTransform(t).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),u.call(this,o,this),o.restore();const r=e.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(e._canvas,0,0,e.width/r,e.height/r)}else{if(s._applyLineJoin(this),!f){h=this.getAbsoluteTransform(t).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),u.call(this,s,this)}return s.restore(),this}drawHit(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;const r=this.getLayer(),o=e||r.hitCanvas,i=o&&o.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){i.save();const e=this.getAbsoluteTransform(t).getMatrix();return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(i),i.restore(),this}if(!s)return this;i.save(),i._applyLineJoin(this);if(!(this===t)){const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return s.call(this,i,this),i.restore(),this}drawHitFromCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this._getCanvasCache(),n=this._getCachedSceneCanvas(),r=t.hit,o=r.getContext(),i=r.getWidth(),s=r.getHeight();o.clear(),o.drawImage(n._canvas,0,0,i,s);try{const t=o.getImageData(0,0,i,s),n=t.data,r=n.length,l=a.Util._hexToRgb(this.colorKey);for(let a=0;a<r;a+=4){n[a+3]>e?(n[a]=l.r,n[a+1]=l.g,n[a+2]=l.b,n[a+3]=255):n[a+3]=0}o.putImageData(t,0,0)}catch(l){a.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return u.hasPointerCapture(e,this)}setPointerCapture(e){u.setPointerCapture(e,this)}releaseCapture(e){u.releaseCapture(e,this)}}t.Shape=v,v.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},v.prototype._strokeFunc=function(e){e.stroke()},v.prototype._fillFuncHit=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},v.prototype._strokeFuncHit=function(e){e.stroke()},v.prototype._centroid=!1,v.prototype.nodeType="Shape",(0,l._registerNode)(v),v.prototype.eventListeners={},v.prototype.on.call(v.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(c)})),v.prototype.on.call(v.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(f)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(h)})),v.prototype.on.call(v.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(p)})),o.Factory.addGetterSetter(v,"stroke",void 0,(0,s.getStringOrGradientValidator)()),o.Factory.addGetterSetter(v,"strokeWidth",2,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillAfterStrokeEnabled",!1),o.Factory.addGetterSetter(v,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(v,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(v,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(v,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(v,"lineJoin"),o.Factory.addGetterSetter(v,"lineCap"),o.Factory.addGetterSetter(v,"sceneFunc"),o.Factory.addGetterSetter(v,"hitFunc"),o.Factory.addGetterSetter(v,"dash"),o.Factory.addGetterSetter(v,"dashOffset",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"shadowColor",void 0,(0,s.getStringValidator)()),o.Factory.addGetterSetter(v,"shadowBlur",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"shadowOpacity",1,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(v,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(v,"shadowOffsetX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"shadowOffsetY",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillPatternImage"),o.Factory.addGetterSetter(v,"fill",void 0,(0,s.getStringOrGradientValidator)()),o.Factory.addGetterSetter(v,"fillPatternX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillPatternY",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(v,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(v,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(v,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(v,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(v,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(v,"fillEnabled",!0),o.Factory.addGetterSetter(v,"strokeEnabled",!0),o.Factory.addGetterSetter(v,"shadowEnabled",!0),o.Factory.addGetterSetter(v,"dashEnabled",!0),o.Factory.addGetterSetter(v,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(v,"fillPriority","color"),o.Factory.addComponentsGetterSetter(v,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(v,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(v,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(v,"fillPatternScaleX",1,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(v,"fillPatternScaleY",1,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(v,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(v,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(v,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(v,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(v,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(v,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(v,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(v,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(v,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(v,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(v,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(v,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(v,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(v,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(v,"fillPatternRotation",0),o.Factory.addGetterSetter(v,"fillRule",void 0,(0,s.getStringValidator)()),o.Factory.backCompat(v,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},4367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const r=n(7149),a=n(1751),o=n(4598),i=n(4602),s=n(589),l=n(8727),u=n(4602),c=n(9485),d="mouseleave",f="mouseover",h="mouseenter",p="mousemove",m="mousedown",g="mouseup",v="pointermove",b="pointerdown",y="pointerup",_="pointercancel",x="pointerout",w="pointerleave",S="pointerover",C="pointerenter",E="contextmenu",k="touchstart",P="touchend",j="touchmove",T="touchcancel",M="wheel",N=[[h,"_pointerenter"],[m,"_pointerdown"],[p,"_pointermove"],[g,"_pointerup"],[d,"_pointerleave"],[k,"_pointerdown"],[j,"_pointermove"],[P,"_pointerup"],[T,"_pointercancel"],[f,"_pointerover"],[M,"_wheel"],[E,"_contextmenu"],[b,"_pointerdown"],[v,"_pointermove"],[y,"_pointerup"],[_,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],D={mouse:{[x]:"mouseout",[w]:d,[S]:f,[C]:h,[v]:p,[b]:m,[y]:g,[_]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[x]:"touchout",[w]:"touchleave",[S]:"touchover",[C]:"touchenter",[v]:j,[b]:k,[y]:P,[_]:T,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[x]:x,[w]:w,[S]:S,[C]:C,[v]:v,[b]:b,[y]:y,[_]:_,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},O=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",F=e=>{const t=O(e);return"pointer"===t?i.Konva.pointerEventsEnabled&&D.pointer:"touch"===t?D.touch:"mouse"===t?D.mouse:void 0};function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&r.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}t.stages=[];class A extends o.Container{constructor(e){super(R(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{R(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||r.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"===typeof e){if("."===e.charAt(0)){const t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var t;t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t)}if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),o.Container.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&r.Util._isInDocument(e)&&this.container().removeChild(e);const n=t.stages.indexOf(this);return n>-1&&t.stages.splice(n,1),r.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(r.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new s.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(!t.isVisible())return;const r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())})),t}getIntersection(e){if(!e)return null;const t=this.children;for(let n=t.length-1;n>=0;n--){const r=t[n].getIntersection(e);if(r)return r}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}super.add(e);const o=this.children.length;return o>5&&r.Util.warn("The stage has "+o+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),i.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return c.hasPointerCapture(e,this)}setPointerCapture(e){c.setPointerCapture(e,this)}releaseCapture(e){c.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&N.forEach((e=>{let[t,n]=e;this.content.addEventListener(t,(e=>{this[n](e)}),{passive:!1})}))}_pointerenter(e){this.setPointersPositions(e);const t=F(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=F(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=F(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);const r=this._getTargetShape(n),a=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;r&&a?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):a&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=F(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach((a=>{const o=this.getIntersection(a);if(l.DD.justDragged=!1,i.Konva["_"+n+"ListenClick"]=!0,!o||!o.isListening())return void(this[n+"ClickStartShape"]=void 0);i.Konva.capturePointerEventsEnabled&&o.setPointerCapture(a.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(t.pointerdown,{evt:e,pointerId:a.id}),r=!0;const s=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&s&&e.preventDefault()})),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=F(e.type),n=O(e.type);if(!t)return;i.Konva.isDragging()&&l.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);if(!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled))return;const r={};let a=!1;const o=this._getTargetShape(n);this._changedPointerPositions.forEach((i=>{const s=c.getCapturedShape(i.id)||this.getIntersection(i),l=i.id,u={evt:e,pointerId:l},d=o!==s;if(d&&o&&(o._fireAndBubble(t.pointerout,{...u},s),o._fireAndBubble(t.pointerleave,{...u},s)),s){if(r[s._id])return;r[s._id]=!0}s&&s.isListening()?(a=!0,d&&(s._fireAndBubble(t.pointerover,{...u},o),s._fireAndBubble(t.pointerenter,{...u},o),this[n+"targetShape"]=s),s._fireAndBubble(t.pointermove,{...u})):o&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),a||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=F(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);const r=this[n+"ClickStartShape"],a=this[n+"ClickEndShape"],o={};let s=!1;this._changedPointerPositions.forEach((u=>{const d=c.getCapturedShape(u.id)||this.getIntersection(u);if(d){if(d.releaseCapture(u.id),o[d._id])return;o[d._id]=!0}const f=u.id,h={evt:e,pointerId:f};let p=!1;i.Konva["_"+n+"InDblClickWindow"]?(p=!0,clearTimeout(this[n+"DblTimeout"])):l.DD.justDragged||(i.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){i.Konva["_"+n+"InDblClickWindow"]=!1}),i.Konva.dblClickWindow),d&&d.isListening()?(s=!0,this[n+"ClickEndShape"]=d,d._fireAndBubble(t.pointerup,{...h}),i.Konva["_"+n+"ListenClick"]&&r&&r===d&&(d._fireAndBubble(t.pointerclick,{...h}),p&&a&&a===d&&d._fireAndBubble(t.pointerdblclick,{...h}))):(this[n+"ClickEndShape"]=null,i.Konva["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:f}),p&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:f}))})),s||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&"pointer"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(E,{evt:e}):this._fire(E,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(M,{evt:e}):this._fire(M,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=c.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(y,c.createEvent(e)),c.releaseCapture(e.pointerId)}_lostpointercapture(e){c.releaseCapture(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let n=null,a=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,a=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:a},this._pointerPositions=[{x:n,y:a,id:r.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:a,id:r.Util._getFirstPointerId(e)}])}_setPointerPosition(e){r.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return r.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}t.Stage=A,A.prototype.nodeType="Stage",(0,u._registerNode)(A),a.Factory.addGetterSetter(A,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",(()=>{t.stages.forEach((e=>{e.batchDraw()}))}))},5242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const r=n(7149),a=n(3243),o=n(1189),i=n(4602),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=["fill","stroke","shadowColor"];let u=0;class c{constructor(e,t,n,r,a,o,i){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=i,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=a-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class d{constructor(e){const n=this,o=e.node,l=o._id,f=e.easing||t.Easings.Linear,h=!!e.yoyo;let p,m;p="undefined"===typeof e.duration?.3:0===e.duration?.001:e.duration,this.node=o,this._id=u++;const g=o.getLayer()||(o instanceof i.Konva.Stage?o.getLayers():null);for(m in g||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation((function(){n.tween.onEnterFrame()}),g),this.tween=new c(m,(function(e){n._tweenFunc(e)}),f,0,1,1e3*p,h),this._addListeners(),d.attrs[l]||(d.attrs[l]={}),d.attrs[l][this._id]||(d.attrs[l][this._id]={}),d.tweens[l]||(d.tweens[l]={}),e)void 0===s[m]&&this._addAttr(m,e[m]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const n=this.node,a=n._id;let o,i,s,u,c;const f=d.tweens[a][e];f&&delete d.attrs[a][f][e];let h=n.getAttr(e);if(r.Util._isArray(t))if(o=[],i=Math.max(t.length,h.length),"points"===e&&t.length!==h.length&&(t.length>h.length?(u=h,h=r.Util._prepareArrayForTween(h,t,n.closed())):(s=t,t=r.Util._prepareArrayForTween(t,h,n.closed()))),0===e.indexOf("fill"))for(let l=0;l<i;l++)if(l%2===0)o.push(t[l]-h[l]);else{const e=r.Util.colorToRGBA(h[l]);c=r.Util.colorToRGBA(t[l]),h[l]=e,o.push({r:c.r-e.r,g:c.g-e.g,b:c.b-e.b,a:c.a-e.a})}else for(let r=0;r<i;r++)o.push(t[r]-h[r]);else-1!==l.indexOf(e)?(h=r.Util.colorToRGBA(h),c=r.Util.colorToRGBA(t),o={r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a}):o=t-h;d.attrs[a][this._id][e]={start:h,diff:o,end:t,trueEnd:s,trueStart:u},d.tweens[a][e]=this._id}_tweenFunc(e){const t=this.node,n=d.attrs[t._id][this._id];let a,o,i,s,u,c,f,h;for(a in n){if(o=n[a],i=o.start,s=o.diff,h=o.end,r.Util._isArray(i))if(u=[],f=Math.max(i.length,h.length),0===a.indexOf("fill"))for(c=0;c<f;c++)c%2===0?u.push((i[c]||0)+s[c]*e):u.push("rgba("+Math.round(i[c].r+s[c].r*e)+","+Math.round(i[c].g+s[c].g*e)+","+Math.round(i[c].b+s[c].b*e)+","+(i[c].a+s[c].a*e)+")");else for(c=0;c<f;c++)u.push((i[c]||0)+s[c]*e);else u=-1!==l.indexOf(a)?"rgba("+Math.round(i.r+s.r*e)+","+Math.round(i.g+s.g*e)+","+Math.round(i.b+s.b*e)+","+(i.a+s.a*e)+")":i+s*e;t.setAttr(a,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,n=d.tweens[e];this.pause();for(const r in n)delete d.tweens[e][r];delete d.attrs[e][t]}}t.Tween=d,d.attrs={},d.tweens={},o.Node.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()};new d(e).play()},t.Easings={BackEaseIn(e,t,n,r){const a=1.70158;return n*(e/=r)*e*((a+1)*e-a)+t},BackEaseOut(e,t,n,r){const a=1.70158;return n*((e=e/r-1)*e*((a+1)*e+a)+1)+t},BackEaseInOut(e,t,n,r){let a=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(a*=1.525))*e-a))+t:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t},ElasticEaseIn(e,t,n,r,a,o){let i=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!a||a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o)+t)},ElasticEaseOut(e,t,n,r,a,o){let i=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!a||a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,r,a,o){let i=0;return 0===e?t:2===(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!a||a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,n,r,a)=>r-t.Easings.BounceEaseOut(a-e,0,r,a)+n,BounceEaseInOut:(e,n,r,a)=>e<a/2?.5*t.Easings.BounceEaseIn(2*e,0,r,a)+n:.5*t.Easings.BounceEaseOut(2*e-a,0,r,a)+.5*r+n,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t}},7149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const r=n(4602);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,a=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,i=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=a,this.m[2]=o,this.m[3]=i,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,a=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=o,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],i=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=o,this.m[5]=i,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,a=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),i=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=a,this.m[4]=o,this.m[5]=i,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],a=this.m[3],o=e*a-n*r,i={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){const t=Math.sqrt(e*e+n*n);i.rotation=n>0?Math.acos(e/t):-Math.acos(e/t),i.scaleX=t,i.scaleY=o/t,i.skewX=(e*r+n*a)/o,i.skewY=0}else if(0!=r||0!=a){const t=Math.sqrt(r*r+a*a);i.rotation=Math.PI/2-(a>0?Math.acos(-r/t):-Math.acos(r/t)),i.scaleX=o/t,i.scaleY=t,i.skewX=0,i.skewY=(e*r+n*a)/o}return i.rotation=t.Util._getRotation(i.rotation),i}}t.Transform=a;const o=Math.PI/180,i=180/Math.PI,s="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},u=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let c=[];const d="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)};t.Util={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!==typeof e)return!1;const t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){c.push(e),1===c.length&&d((function(){const e=c;c=[],e.forEach((function(e){e()}))}))},createCanvasElement(){const e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,n){const r=t.Util.createImageElement();r.onload=function(){n(r)},r.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){let e=(16777215*Math.random()|0).toString(16);for(;e.length<6;)e="0"+e;return"#"+e},getRGB(e){let t;return e in l?(t=l[e],{r:t[0],g:t[1],b:t[2]}):"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=u.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex4ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._hex8ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)),_namedColorToRBA(e){const t=l[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){const t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){const t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,a=Number(n[1])/100,o=Number(n[2])/100;let i,s,l;if(0===a)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i=o<.5?o*(1+a):o+a-o*a;const u=2*o-i,c=[0,0,0];for(let e=0;e<3;e++)s=r+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?u+6*(i-u)*s:2*s<1?i:3*s<2?u+(i-u)*(2/3-s)*6:u,c[e]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*o,radToDeg:e=>e*i,_degToRad:e=>(t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(e)),_radToDeg:e=>(t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(e)),_getRotation:e=>r.Konva.angleDeg?t.Util.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(s+e)},error(e){console.error(s+e)},warn(e){r.Konva.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,a,o){let i,s,l;const u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)i=e,s=t,l=(a-n)*(a-n)+(o-r)*(o-r);else{const c=((a-e)*(n-e)+(o-t)*(r-t))/u;c<0?(i=e,s=t,l=(e-a)*(e-a)+(t-o)*(t-o)):c>1?(i=n,s=r,l=(n-a)*(n-a)+(r-o)*(r-o)):(i=e+c*(n-e),s=t+c*(r-t),l=(i-a)*(i-a)+(s-o)*(s-o))}return[i,s,l]},_getProjectionToLine(e,n,r){const a=t.Util.cloneObject(e);let o=Number.MAX_VALUE;return n.forEach((function(i,s){if(!r&&s===n.length-1)return;const l=n[(s+1)%n.length],u=t.Util._getProjectionToSegment(i.x,i.y,l.x,l.y,e.x,e.y),c=u[0],d=u[1],f=u[2];f<o&&(a.x=c,a.y=d,o=f)})),a},_prepareArrayForTween(e,n,r){const a=[],o=[];if(e.length>n.length){const t=n;n=e,e=t}for(let t=0;t<e.length;t+=2)a.push({x:e[t],y:e[t+1]});for(let t=0;t<n.length;t+=2)o.push({x:n[t],y:n[t+1]});const i=[];return o.forEach((function(e){const n=t.Util._getProjectionToLine(e,a,r);i.push(n.x),i.push(n.y)})),i},_prepareToStringify(e){let n;e.visitedByCircularReferenceRemoval=!0;for(const r in e)if(e.hasOwnProperty(r)&&e[r]&&"object"==typeof e[r])if(n=Object.getOwnPropertyDescriptor(e,r),e[r].visitedByCircularReferenceRemoval||t.Util._isElement(e[r])){if(!n.configurable)return null;delete e[r]}else if(null===t.Util._prepareToStringify(e[r])){if(!n.configurable)return null;delete e[r]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(){if(r.Konva.releaseCanvasOnDestroy){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{e.width=0,e.height=0}))}},drawRoundedRectPath(e,t,n,r){let a=0,o=0,i=0,s=0;"number"===typeof r?a=o=i=s=Math.min(r,t/2,n/2):(a=Math.min(r[0]||0,t/2,n/2),o=Math.min(r[1]||0,t/2,n/2),s=Math.min(r[2]||0,t/2,n/2),i=Math.min(r[3]||0,t/2,n/2)),e.moveTo(a,0),e.lineTo(t-o,0),e.arc(t-o,o,o,3*Math.PI/2,0,!1),e.lineTo(t,n-s),e.arc(t-s,n-s,s,0,Math.PI/2,!1),e.lineTo(i,n),e.arc(i,n-i,i,Math.PI/2,Math.PI,!1),e.lineTo(0,a),e.arc(a,a,a,Math.PI,3*Math.PI/2,!1)}}},9910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBComponent=function(e){if(e>255)return 255;if(e<0)return 0;return Math.round(e)},t.alphaComponent=function(e){if(e>1)return 1;if(e<1e-4)return 1e-4;return e},t.getNumberValidator=function(){if(r.Konva.isUnminified)return function(e,t){return a.Util._isNumber(e)||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},t.getNumberOrArrayOfNumbersValidator=function(e){if(r.Konva.isUnminified)return function(t,n){let r=a.Util._isNumber(t),i=a.Util._isArray(t)&&t.length==e;return r||i||a.Util.warn(o(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}},t.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(e,t){return a.Util._isNumber(e)||"auto"===e||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},t.getStringValidator=function(){if(r.Konva.isUnminified)return function(e,t){return a.Util._isString(e)||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},t.getStringOrGradientValidator=function(){if(r.Konva.isUnminified)return function(e,t){const n=a.Util._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}},t.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(e,t){return a.Util._isFunction(e)||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},t.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(a.Util._isArray(e)?e.forEach((function(e){a.Util._isNumber(e)||a.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}},t.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(e,t){return!0===e||!1===e||a.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},t.getComponentValidator=function(e){if(r.Konva.isUnminified)return function(t,n){return void 0===t||null===t||a.Util.isObject(t)||a.Util.warn(o(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}};const r=n(4602),a=n(7149);function o(e){return a.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||a.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}},8065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const r=n(4602),a=n(7149),o=n(1189),i=n(4598),s=n(4367),l=n(1416),u=n(3994),c=n(6338),d=n(8727),f=n(3304),h=n(3243),p=n(5242),m=n(3354),g=n(589);t.Konva=a.Util._assign(r.Konva,{Util:a.Util,Transform:a.Transform,Node:o.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:c.Group,DD:d.DD,Shape:f.Shape,shapes:f.shapes,Animation:h.Animation,Tween:p.Tween,Easings:p.Easings,Context:m.Context,Canvas:g.Canvas}),t.default=t.Konva},5191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const r=n(8065),a=n(9144),o=n(1801),i=n(1618),s=n(9554),l=n(2941),u=n(6494),c=n(5804),d=n(7289),f=n(1300),h=n(7980),p=n(1008),m=n(3971),g=n(3810),v=n(3169),b=n(1222),y=n(3535),_=n(4940),x=n(2672),w=n(8098),S=n(5783),C=n(3602),E=n(2715),k=n(2078),P=n(4082),j=n(2544),T=n(7205),M=n(8332),N=n(5053),D=n(9195),O=n(1485),F=n(7264),R=n(1518),A=n(3699),I=n(8019),L=n(3672),B=n(1126);t.Konva=r.Konva.Util._assign(r.Konva,{Arc:a.Arc,Arrow:o.Arrow,Circle:i.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:u.Label,Tag:u.Tag,Line:c.Line,Path:d.Path,Rect:f.Rect,RegularPolygon:h.RegularPolygon,Ring:p.Ring,Sprite:m.Sprite,Star:g.Star,Text:v.Text,TextPath:b.TextPath,Transformer:y.Transformer,Wedge:_.Wedge,Filters:{Blur:x.Blur,Brighten:w.Brighten,Contrast:S.Contrast,Emboss:C.Emboss,Enhance:E.Enhance,Grayscale:k.Grayscale,HSL:P.HSL,HSV:j.HSV,Invert:T.Invert,Kaleidoscope:M.Kaleidoscope,Mask:N.Mask,Noise:D.Noise,Pixelate:O.Pixelate,Posterize:F.Posterize,RGB:R.RGB,RGBA:A.RGBA,Sepia:I.Sepia,Solarize:L.Solarize,Threshold:B.Threshold}})},2672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Blur=void 0;const r=n(1751),a=n(1189),o=n(9910);function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.Blur=function(e){const t=Math.round(this.blurRadius());t>0&&function(e,t){const n=e.data,r=e.width,a=e.height;let o,u,c,d,f,h,p,m,g,v,b,y,_,x,w,S,C,E,k,P,j,T,M,N;const D=t+t+1,O=r-1,F=a-1,R=t+1,A=R*(R+1)/2,I=new i,L=s[t],B=l[t];let U=null,W=I,z=null,$=null;for(c=1;c<D;c++)W=W.next=new i,c===R&&(U=W);for(W.next=I,p=h=0,u=0;u<a;u++){for(S=C=E=k=m=g=v=b=0,y=R*(P=n[h]),_=R*(j=n[h+1]),x=R*(T=n[h+2]),w=R*(M=n[h+3]),m+=A*P,g+=A*j,v+=A*T,b+=A*M,W=I,c=0;c<R;c++)W.r=P,W.g=j,W.b=T,W.a=M,W=W.next;for(c=1;c<R;c++)d=h+((O<c?O:c)<<2),m+=(W.r=P=n[d])*(N=R-c),g+=(W.g=j=n[d+1])*N,v+=(W.b=T=n[d+2])*N,b+=(W.a=M=n[d+3])*N,S+=P,C+=j,E+=T,k+=M,W=W.next;for(z=I,$=U,o=0;o<r;o++)n[h+3]=M=b*L>>B,0!==M?(M=255/M,n[h]=(m*L>>B)*M,n[h+1]=(g*L>>B)*M,n[h+2]=(v*L>>B)*M):n[h]=n[h+1]=n[h+2]=0,m-=y,g-=_,v-=x,b-=w,y-=z.r,_-=z.g,x-=z.b,w-=z.a,d=p+((d=o+t+1)<O?d:O)<<2,S+=z.r=n[d],C+=z.g=n[d+1],E+=z.b=n[d+2],k+=z.a=n[d+3],m+=S,g+=C,v+=E,b+=k,z=z.next,y+=P=$.r,_+=j=$.g,x+=T=$.b,w+=M=$.a,S-=P,C-=j,E-=T,k-=M,$=$.next,h+=4;p+=r}for(o=0;o<r;o++){for(C=E=k=S=g=v=b=m=0,h=o<<2,y=R*(P=n[h]),_=R*(j=n[h+1]),x=R*(T=n[h+2]),w=R*(M=n[h+3]),m+=A*P,g+=A*j,v+=A*T,b+=A*M,W=I,c=0;c<R;c++)W.r=P,W.g=j,W.b=T,W.a=M,W=W.next;for(f=r,c=1;c<=t;c++)h=f+o<<2,m+=(W.r=P=n[h])*(N=R-c),g+=(W.g=j=n[h+1])*N,v+=(W.b=T=n[h+2])*N,b+=(W.a=M=n[h+3])*N,S+=P,C+=j,E+=T,k+=M,W=W.next,c<F&&(f+=r);for(h=o,z=I,$=U,u=0;u<a;u++)d=h<<2,n[d+3]=M=b*L>>B,M>0?(M=255/M,n[d]=(m*L>>B)*M,n[d+1]=(g*L>>B)*M,n[d+2]=(v*L>>B)*M):n[d]=n[d+1]=n[d+2]=0,m-=y,g-=_,v-=x,b-=w,y-=z.r,_-=z.g,x-=z.b,w-=z.a,d=o+((d=u+R)<F?d:F)*r<<2,m+=S+=z.r=n[d],g+=C+=z.g=n[d+1],v+=E+=z.b=n[d+2],b+=k+=z.a=n[d+3],z=z.next,y+=P=$.r,_+=j=$.g,x+=T=$.b,w+=M=$.a,S-=P,C-=j,E-=T,k-=M,$=$.next,h+=r}}(e,t)},r.Factory.addGetterSetter(a.Node,"blurRadius",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},8098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brighten=void 0;const r=n(1751),a=n(1189),o=n(9910);t.Brighten=function(e){const t=255*this.brightness(),n=e.data,r=n.length;for(let a=0;a<r;a+=4)n[a]+=t,n[a+1]+=t,n[a+2]+=t},r.Factory.addGetterSetter(a.Node,"brightness",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},5783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contrast=void 0;const r=n(1751),a=n(1189),o=n(9910);t.Contrast=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length;let a=150,o=150,i=150;for(let s=0;s<r;s+=4)a=n[s],o=n[s+1],i=n[s+2],a/=255,a-=.5,a*=t,a+=.5,a*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,i/=255,i-=.5,i*=t,i+=.5,i*=255,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,i=i<0?0:i>255?255:i,n[s]=a,n[s+1]=o,n[s+2]=i},r.Factory.addGetterSetter(a.Node,"contrast",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},3602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emboss=void 0;const r=n(1751),a=n(1189),o=n(7149),i=n(9910);t.Emboss=function(e){const t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),a=this.embossBlend(),i=e.data,s=e.width,l=e.height,u=4*s;let c=0,d=0,f=l;switch(r){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{const e=(f-1)*u;let r=c;f+r<1&&(r=0),f+r>l&&(r=0);const o=(f-1+r)*s*4;let h=s;do{const r=e+4*(h-1);let l=d;h+l<1&&(l=0),h+l>s&&(l=0);const u=o+4*(h-1+l),c=i[r]-i[u],f=i[r+1]-i[u+1],p=i[r+2]-i[u+2];let m=c;const g=m>0?m:-m;if((f>0?f:-f)>g&&(m=f),(p>0?p:-p)>g&&(m=p),m*=t,a){const e=i[r]+m,t=i[r+1]+m,n=i[r+2]+m;i[r]=e>255?255:e<0?0:e,i[r+1]=t>255?255:t<0?0:t,i[r+2]=n>255?255:n<0?0:n}else{let e=n-m;e<0?e=0:e>255&&(e=255),i[r]=i[r+1]=i[r+2]=e}}while(--h)}while(--f)},r.Factory.addGetterSetter(a.Node,"embossStrength",.5,(0,i.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"embossDirection","top-left",void 0,r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"embossBlend",!1,void 0,r.Factory.afterSetFilter)},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enhance=void 0;const r=n(1751),a=n(1189),o=n(9910);function i(e,t,n,r,a){const o=n-t,i=a-r;if(0===o)return r+i/2;if(0===i)return r;let s=(e-t)/o;return s=i*s+r,s}t.Enhance=function(e){const t=e.data,n=t.length;let r,a,o,s=t[0],l=s,u=t[1],c=u,d=t[2],f=d;const h=this.enhance();if(0===h)return;for(let i=0;i<n;i+=4)r=t[i+0],r<s?s=r:r>l&&(l=r),a=t[i+1],a<u?u=a:a>c&&(c=a),o=t[i+2],o<d?d=o:o>f&&(f=o);let p,m,g,v,b,y,_,x,w;l===s&&(l=255,s=0),c===u&&(c=255,u=0),f===d&&(f=255,d=0),h>0?(m=l+h*(255-l),g=s-h*(s-0),b=c+h*(255-c),y=u-h*(u-0),x=f+h*(255-f),w=d-h*(d-0)):(p=.5*(l+s),m=l+h*(l-p),g=s+h*(s-p),v=.5*(c+u),b=c+h*(c-v),y=u+h*(u-v),_=.5*(f+d),x=f+h*(f-_),w=d+h*(d-_));for(let S=0;S<n;S+=4)t[S+0]=i(t[S+0],s,l,g,m),t[S+1]=i(t[S+1],u,c,y,b),t[S+2]=i(t[S+2],d,f,w,x)},r.Factory.addGetterSetter(a.Node,"enhance",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},2078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grayscale=void 0;t.Grayscale=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const e=.34*t[r]+.5*t[r+1]+.16*t[r+2];t[r]=e,t[r+1]=e,t[r+2]=e}}},4082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSL=void 0;const r=n(1751),a=n(1189),o=n(9910);r.Factory.addGetterSetter(a.Node,"hue",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"saturation",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"luminance",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter);t.HSL=function(e){const t=e.data,n=t.length,r=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=127*this.luminance(),i=1*r*Math.cos(a*Math.PI/180),s=1*r*Math.sin(a*Math.PI/180),l=.299+.701*i+.167*s,u=.587-.587*i+.33*s,c=.114-.114*i-.497*s,d=.299-.299*i-.328*s,f=.587+.413*i+.035*s,h=.114-.114*i+.293*s,p=.299-.3*i+1.25*s,m=.587-.586*i-1.05*s,g=.114+.886*i-.2*s;let v,b,y,_;for(let x=0;x<n;x+=4)v=t[x+0],b=t[x+1],y=t[x+2],_=t[x+3],t[x+0]=l*v+u*b+c*y+o,t[x+1]=d*v+f*b+h*y+o,t[x+2]=p*v+m*b+g*y+o,t[x+3]=_}},2544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSV=void 0;const r=n(1751),a=n(1189),o=n(9910);t.HSV=function(e){const t=e.data,n=t.length,r=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,i=r*a*Math.cos(o*Math.PI/180),s=r*a*Math.sin(o*Math.PI/180),l=.299*r+.701*i+.167*s,u=.587*r-.587*i+.33*s,c=.114*r-.114*i-.497*s,d=.299*r-.299*i-.328*s,f=.587*r+.413*i+.035*s,h=.114*r-.114*i+.293*s,p=.299*r-.3*i+1.25*s,m=.587*r-.586*i-1.05*s,g=.114*r+.886*i-.2*s;let v,b,y,_;for(let x=0;x<n;x+=4)v=t[x+0],b=t[x+1],y=t[x+2],_=t[x+3],t[x+0]=l*v+u*b+c*y,t[x+1]=d*v+f*b+h*y,t[x+2]=p*v+m*b+g*y,t[x+3]=_},r.Factory.addGetterSetter(a.Node,"hue",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"saturation",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"value",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},7205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Invert=void 0;t.Invert=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]}},8332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kaleidoscope=void 0;const r=n(1751),a=n(1189),o=n(7149),i=n(9910);t.Kaleidoscope=function(e){const t=e.width,n=e.height;let r,a,i,s,l,u,c,d,f,h,p=Math.round(this.kaleidoscopePower());const m=Math.round(this.kaleidoscopeAngle()),g=Math.floor(t*(m%360)/360);if(p<1)return;const v=o.Util.createCanvasElement();v.width=t,v.height=n;const b=v.getContext("2d").getImageData(0,0,t,n);o.Util.releaseCanvas(v),function(e,t,n){const r=e.data,a=t.data,o=e.width,i=e.height,s=n.polarCenterX||o/2,l=n.polarCenterY||i/2;let u=Math.sqrt(s*s+l*l),c=o-s,d=i-l;const f=Math.sqrt(c*c+d*d);u=f>u?f:u;const h=i,p=o,m=360/p*Math.PI/180;for(let g=0;g<p;g+=1){const e=Math.sin(g*m),t=Math.cos(g*m);for(let n=0;n<h;n+=1){c=Math.floor(s+u*n/h*t),d=Math.floor(l+u*n/h*e);let i=4*(d*o+c);const f=r[i+0],p=r[i+1],m=r[i+2],v=r[i+3];i=4*(g+n*o),a[i+0]=f,a[i+1]=p,a[i+2]=m,a[i+3]=v}}}(e,b,{polarCenterX:t/2,polarCenterY:n/2});let y=t/Math.pow(2,p);for(;y<=8;)y*=2,p-=1;y=Math.ceil(y);let _=y,x=0,w=_,S=1;for(g+y>t&&(x=_,w=0,S=-1),a=0;a<n;a+=1)for(r=x;r!==w;r+=S)i=Math.round(r+g)%t,f=4*(t*a+i),l=b.data[f+0],u=b.data[f+1],c=b.data[f+2],d=b.data[f+3],h=4*(t*a+r),b.data[h+0]=l,b.data[h+1]=u,b.data[h+2]=c,b.data[h+3]=d;for(a=0;a<n;a+=1)for(_=Math.floor(y),s=0;s<p;s+=1){for(r=0;r<_+1;r+=1)f=4*(t*a+r),l=b.data[f+0],u=b.data[f+1],c=b.data[f+2],d=b.data[f+3],h=4*(t*a+2*_-r-1),b.data[h+0]=l,b.data[h+1]=u,b.data[h+2]=c,b.data[h+3]=d;_*=2}!function(e,t,n){const r=e.data,a=t.data,o=e.width,i=e.height,s=n.polarCenterX||o/2,l=n.polarCenterY||i/2;let u=Math.sqrt(s*s+l*l),c=o-s,d=i-l;const f=Math.sqrt(c*c+d*d);u=f>u?f:u;const h=i,p=o,m=n.polarRotation||0;let g,v;for(c=0;c<o;c+=1)for(d=0;d<i;d+=1){const e=c-s,t=d-l,n=Math.sqrt(e*e+t*t)*h/u;let i=(180*Math.atan2(t,e)/Math.PI+360+m)%360;i=i*p/360,g=Math.floor(i),v=Math.floor(n);let f=4*(v*o+g);const b=r[f+0],y=r[f+1],_=r[f+2],x=r[f+3];f=4*(d*o+c),a[f+0]=b,a[f+1]=y,a[f+2]=_,a[f+3]=x}}(b,e,{polarRotation:0})},r.Factory.addGetterSetter(a.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),r.Factory.afterSetFilter)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mask=void 0;const r=n(1751),a=n(1189),o=n(9910);function i(e,t,n){let r=4*(n*e.width+t);const a=[];return a.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),a}function s(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}t.Mask=function(e){let t=function(e,t){const n=i(e,0,0),r=i(e,e.width-1,0),a=i(e,0,e.height-1),o=i(e,e.width-1,e.height-1),l=t||10;if(s(n,r)<l&&s(r,o)<l&&s(o,a)<l&&s(a,n)<l){const t=function(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,o,a]),i=[];for(let n=0;n<e.width*e.height;n++){const r=s(t,[e.data[4*n],e.data[4*n+1],e.data[4*n+2]]);i[n]=r<l?0:255}return i}}(e,this.threshold());return t&&(t=function(e,t,n){const r=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(r.length)),o=Math.floor(a/2),i=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let i=0;i<a;i++)for(let u=0;u<a;u++){const d=s+i-o,f=l+u-o;if(d>=0&&d<n&&f>=0&&f<t){const n=r[i*a+u];c+=e[d*t+f]*n}}i[u]=2040===c?255:0}return i}(t,e.width,e.height),t=function(e,t,n){const r=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(r.length)),o=Math.floor(a/2),i=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let i=0;i<a;i++)for(let u=0;u<a;u++){const d=s+i-o,f=l+u-o;if(d>=0&&d<n&&f>=0&&f<t){const n=r[i*a+u];c+=e[d*t+f]*n}}i[u]=c>=1020?255:0}return i}(t,e.width,e.height),t=function(e,t,n){const r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],a=Math.round(Math.sqrt(r.length)),o=Math.floor(a/2),i=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const u=s*t+l;let c=0;for(let i=0;i<a;i++)for(let u=0;u<a;u++){const d=s+i-o,f=l+u-o;if(d>=0&&d<n&&f>=0&&f<t){const n=r[i*a+u];c+=e[d*t+f]*n}}i[u]=c}return i}(t,e.width,e.height),function(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},r.Factory.addGetterSetter(a.Node,"threshold",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},9195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const r=n(1751),a=n(1189),o=n(9910);t.Noise=function(e){const t=255*this.noise(),n=e.data,r=n.length,a=t/2;for(let o=0;o<r;o+=4)n[o+0]+=a-2*a*Math.random(),n[o+1]+=a-2*a*Math.random(),n[o+2]+=a-2*a*Math.random()},r.Factory.addGetterSetter(a.Node,"noise",.2,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},1485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pixelate=void 0;const r=n(1751),a=n(7149),o=n(1189),i=n(9910);t.Pixelate=function(e){let t,n,r,o,i,s,l,u,c,d,f,h,p,m,g=Math.ceil(this.pixelSize()),v=e.width,b=e.height,y=Math.ceil(v/g),_=Math.ceil(b/g),x=e.data;if(g<=0)a.Util.error("pixelSize value can not be <= 0");else for(h=0;h<y;h+=1)for(p=0;p<_;p+=1){for(o=0,i=0,s=0,l=0,u=h*g,c=u+g,d=p*g,f=d+g,m=0,t=u;t<c;t+=1)if(!(t>=v))for(n=d;n<f;n+=1)n>=b||(r=4*(v*n+t),o+=x[r+0],i+=x[r+1],s+=x[r+2],l+=x[r+3],m+=1);for(o/=m,i/=m,s/=m,l/=m,t=u;t<c;t+=1)if(!(t>=v))for(n=d;n<f;n+=1)n>=b||(r=4*(v*n+t),x[r+0]=o,x[r+1]=i,x[r+2]=s,x[r+3]=l)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,(0,i.getNumberValidator)(),r.Factory.afterSetFilter)},7264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Posterize=void 0;const r=n(1751),a=n(1189),o=n(9910);t.Posterize=function(e){const t=Math.round(254*this.levels())+1,n=e.data,r=n.length,a=255/t;for(let o=0;o<r;o+=1)n[o]=Math.floor(n[o]/a)*a},r.Factory.addGetterSetter(a.Node,"levels",.5,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},1518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;const r=n(1751),a=n(1189),o=n(9910);t.RGB=function(e){const t=e.data,n=t.length,r=this.red(),a=this.green(),o=this.blue();for(let i=0;i<n;i+=4){const e=(.34*t[i]+.5*t[i+1]+.16*t[i+2])/255;t[i]=e*r,t[i+1]=e*a,t[i+2]=e*o,t[i+3]=t[i+3]}},r.Factory.addGetterSetter(a.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(a.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(a.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},3699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBA=void 0;const r=n(1751),a=n(1189),o=n(9910);t.RGBA=function(e){const t=e.data,n=t.length,r=this.red(),a=this.green(),o=this.blue(),i=this.alpha();for(let s=0;s<n;s+=4){const e=1-i;t[s]=r*i+t[s]*e,t[s+1]=a*i+t[s+1]*e,t[s+2]=o*i+t[s+2]*e}},r.Factory.addGetterSetter(a.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(a.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(a.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(a.Node,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}))},8019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sepia=void 0;t.Sepia=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const e=t[r+0],n=t[r+1],a=t[r+2];t[r+0]=Math.min(255,.393*e+.769*n+.189*a),t[r+1]=Math.min(255,.349*e+.686*n+.168*a),t[r+2]=Math.min(255,.272*e+.534*n+.131*a)}}},3672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solarize=void 0;t.Solarize=function(e){const t=e.data,n=e.width,r=4*n;let a=e.height;do{const e=(a-1)*r;let o=n;do{const n=e+4*(o-1);let r=t[n],a=t[n+1],i=t[n+2];r>127&&(r=255-r),a>127&&(a=255-a),i>127&&(i=255-i),t[n]=r,t[n+1]=a,t[n+2]=i}while(--o)}while(--a)}},1126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threshold=void 0;const r=n(1751),a=n(1189),o=n(9910);t.Threshold=function(e){const t=255*this.threshold(),n=e.data,r=n.length;for(let a=0;a<r;a+=1)n[a]=n[a]<t?0:255},r.Factory.addGetterSetter(a.Node,"threshold",.5,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},2157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5191);e.exports=r.Konva},9144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arc=void 0;const r=n(1751),a=n(3304),o=n(4602),i=n(9910),s=n(4602);class l extends a.Shape{_sceneFunc(e){const t=o.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=o.Konva.getAngle(n?360-this.angle():this.angle()),a=Math.cos(Math.min(r,Math.PI)),i=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),s=Math.sin(Math.min(r,Math.PI/2)),l=a*(a>0?e:t),u=i*(i>0?e:t),c=s*(s>0?t:e);return{x:l,y:n?-1*c:u,width:1*t-l,height:c-u}}}t.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"innerRadius",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"outerRadius",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"angle",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"clockwise",!1,(0,i.getBooleanValidator)())},1801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=void 0;const r=n(1751),a=n(5804),o=n(9910),i=n(4602),s=n(7289);class l extends a.Line{_sceneFunc(e){super._sceneFunc(e);const t=2*Math.PI,n=this.points();let r=n;const a=0!==this.tension()&&n.length>4;a&&(r=this.getTensionPoints());const o=this.pointerLength(),i=n.length;let l,u;if(a){const e=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[i-2],n[i-1]],t=s.Path.calcLength(r[r.length-4],r[r.length-3],"C",e),a=s.Path.getPointOnQuadraticBezier(Math.min(1,1-o/t),e[0],e[1],e[2],e[3],e[4],e[5]);l=n[i-2]-a.x,u=n[i-1]-a.y}else l=n[i-2]-n[i-4],u=n[i-1]-n[i-3];const c=(Math.atan2(u,l)+t)%t,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[i-2],n[i-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),a?(l=(r[0]+r[2])/2-n[0],u=(r[1]+r[3])/2-n[1]):(l=n[2]-n[0],u=n[3]-n[1]),e.rotate((Math.atan2(-u,-l)+t)%t),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}}}t.Arrow=l,l.prototype.className="Arrow",(0,i._registerNode)(l),r.Factory.addGetterSetter(l,"pointerLength",10,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"pointerWidth",10,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"pointerAtBeginning",!1),r.Factory.addGetterSetter(l,"pointerAtEnding",!0)},1618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;const r=n(1751),a=n(3304),o=n(9910),i=n(4602);class s extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}t.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),r.Factory.addGetterSetter(s,"radius",0,(0,o.getNumberValidator)())},9554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;const r=n(1751),a=n(3304),o=n(9910),i=n(4602);class s extends a.Shape{_sceneFunc(e){const t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}t.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(s),r.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),r.Factory.addGetterSetter(s,"radiusX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"radiusY",0,(0,o.getNumberValidator)())},2941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const r=n(7149),a=n(1751),o=n(3304),i=n(4602),s=n(9910);class l extends o.Shape{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),a=this.cornerRadius(),o=this.attrs.image;let i;if(o){const e=this.attrs.cropWidth,r=this.attrs.cropHeight;i=e&&r?[o,this.cropX(),this.cropY(),e,r,0,0,t,n]:[o,0,0,t,n]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?r.Util.drawRoundedRectPath(e,t,n,a):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),o&&(a&&e.clip(),e.drawImage.apply(e,i))}_hitFunc(e){const t=this.width(),n=this.height(),a=this.cornerRadius();e.beginPath(),a?r.Util.drawRoundedRectPath(e,t,n,a):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=r.Util.createImageElement();a.onload=function(){const e=new l({image:a});t(e)},a.onerror=n,a.crossOrigin="Anonymous",a.src=e}}t.Image=l,l.prototype.className="Image",(0,i._registerNode)(l),a.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),a.Factory.addGetterSetter(l,"image"),a.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(l,"cropX",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropY",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropWidth",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(l,"cropHeight",0,(0,s.getNumberValidator)())},6494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.Label=void 0;const r=n(1751),a=n(3304),o=n(6338),i=n(9910),s=n(4602),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],u="up",c="right",d="down",f="left",h=l.length;class p extends o.Group{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t,n=this;const r=function(){n._sync()};for(t=0;t<h;t++)e.on(l[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e,t,n,r,a,o,i,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),i=l.pointerHeight(),a=0,o=0,n){case u:a=e/2,o=-1*i;break;case c:a=e+r,o=t/2;break;case d:a=e/2,o=t+i;break;case f:a=-1*r,o=t/2}l.setAttrs({x:-1*a,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*a,y:-1*o})}}}t.Label=p,p.prototype.className="Label",(0,s._registerNode)(p);class m extends a.Shape{_sceneFunc(e){const t=this.width(),n=this.height(),r=this.pointerDirection(),a=this.pointerWidth(),o=this.pointerHeight(),i=this.cornerRadius();let s=0,l=0,h=0,p=0;"number"===typeof i?s=l=h=p=Math.min(i,t/2,n/2):(s=Math.min(i[0]||0,t/2,n/2),l=Math.min(i[1]||0,t/2,n/2),p=Math.min(i[2]||0,t/2,n/2),h=Math.min(i[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===u&&(e.lineTo((t-a)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+a)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===c&&(e.lineTo(t,(n-o)/2),e.lineTo(t+a,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-p),e.arc(t-p,n-p,p,0,Math.PI/2,!1),r===d&&(e.lineTo((t+a)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-a)/2,n)),e.lineTo(h,n),e.arc(h,n-h,h,Math.PI/2,Math.PI,!1),r===f&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*a,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),a=this.pointerDirection(),o=this.width(),i=this.height();return a===u?(t-=r,i+=r):a===d?i+=r:a===f?(e-=1.5*n,o+=n):a===c&&(o+=1.5*n),{x:e,y:t,width:o,height:i}}}t.Tag=m,m.prototype.className="Tag",(0,s._registerNode)(m),r.Factory.addGetterSetter(m,"pointerDirection","none"),r.Factory.addGetterSetter(m,"pointerWidth",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(m,"pointerHeight",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(m,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4))},5804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Line=void 0;const r=n(1751),a=n(4602),o=n(3304),i=n(9910);function s(e,t,n,r,a,o,i){const s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(a-n,2)+Math.pow(o-r,2)),u=i*s/(s+l),c=i*l/(s+l);return[n-u*(a-e),r-u*(o-t),n+c*(a-e),r+c*(o-t)]}function l(e,t){const n=e.length,r=[];for(let a=2;a<n-2;a+=2){const n=s(e[a-2],e[a-1],e[a],e[a+1],e[a+2],e[a+3],t);isNaN(n[0])||(r.push(n[0]),r.push(n[1]),r.push(e[a]),r.push(e[a+1]),r.push(n[2]),r.push(n[3]))}return r}class u extends o.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){let t,n,r,a=this.points(),o=a.length,i=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(a[0],a[1]),0!==i&&o>4){for(t=this.getTensionPoints(),n=t.length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],a[o-2],a[o-1])}else if(l)for(r=2;r<o;)e.bezierCurveTo(a[r++],a[r++],a[r++],a[r++],a[r++],a[r++]);else for(r=2;r<o;r+=2)e.lineTo(a[r],a[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,n=this.tension(),r=s(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),a=s(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=l(e,n);return[r[2],r[3]].concat(o).concat([a[0],a[1],e[t-2],e[t-1],a[2],a[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points();let t,n,r=e[0],a=e[0],o=e[1],i=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),a=Math.max(a,t),o=Math.min(o,n),i=Math.max(i,n);return{x:r,y:o,width:a-r,height:i-o}}}t.Line=u,u.prototype.className="Line",u.prototype._attrsAffectingSize=["points","bezier","tension"],(0,a._registerNode)(u),r.Factory.addGetterSetter(u,"closed",!1),r.Factory.addGetterSetter(u,"bezier",!1),r.Factory.addGetterSetter(u,"tension",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(u,"points",[],(0,i.getNumberArrayValidator)())},7289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const r=n(1751),a=n(3304),o=n(4602),i=n(5941);class s extends a.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=s.parsePathData(this.data()),this.pathLength=s.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let n=!1;for(let p=0;p<t.length;p++){const m=t[p].command,g=t[p].points;switch(m){case"L":e.lineTo(g[0],g[1]);break;case"M":e.moveTo(g[0],g[1]);break;case"C":e.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":e.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":var r=g[0],a=g[1],o=g[2],i=g[3],s=g[4],l=g[5],u=g[6],c=g[7],d=o>i?o:i,f=o>i?1:o/i,h=o>i?i/o:1;e.translate(r,a),e.rotate(u),e.scale(f,h),e.arc(0,0,d,s,s+l,1-c),e.scale(1/f,1/h),e.rotate(-u),e.translate(-r,-a);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach((function(t){if("A"===t.command){const n=t.points[4],r=t.points[5],a=t.points[4]+r;let o=Math.PI/180;if(Math.abs(n-a)<o&&(o=Math.abs(n-a)),r<0)for(let i=n-o;i>a;i-=o){const n=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);e.push(n.x,n.y)}else for(let i=n+o;i<a;i+=o){const n=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const r=s.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)}));let t,n,r=e[0],a=e[0],o=e[1],i=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),a=Math.max(a,t)),isNaN(n)||(o=Math.min(o,n),i=Math.max(i,n));return{x:r,y:o,width:a-r,height:i-o}}getLength(){return this.pathLength}getPointAtLength(e){return s.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let n,r=0,a=t.length;if(!a)return null;for(;r<a&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===a)return n=t[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=t[r].points.slice(0,2),{x:n[0],y:n[1]};const o=t[r],l=o.points;switch(o.command){case"L":return s.getPointOnLine(e,o.start.x,o.start.y,l[0],l[1]);case"C":return s.getPointOnCubicBezier((0,i.t2length)(e,s.getPathLength(t),(e=>(0,i.getCubicArcLength)([o.start.x,l[0],l[2],l[4]],[o.start.y,l[1],l[3],l[5]],e))),o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return s.getPointOnQuadraticBezier((0,i.t2length)(e,s.getPathLength(t),(e=>(0,i.getQuadraticArcLength)([o.start.x,l[0],l[2]],[o.start.y,l[1],l[3]],e))),o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":var u=l[0],c=l[1],d=l[2],f=l[3],h=l[4],p=l[5],m=l[6];return h+=p*e/o.pathLength,s.getPointOnEllipticalArc(u,c,d,f,h,m)}return null}static getPointOnLine(e,t,n,r,a,o,i){o=null!==o&&void 0!==o?o:t,i=null!==i&&void 0!==i?i:n;const s=this.getLineLength(t,n,r,a);if(s<1e-10)return{x:t,y:n};if(r===t)return{x:o,y:i+(a>n?e:-e)};const l=(a-n)/(r-t),u=Math.sqrt(e*e/(1+l*l))*(r<t?-1:1),c=l*u;if(Math.abs(i-n-l*(o-t))<1e-10)return{x:o+u,y:i+c};const d=((o-t)*(r-t)+(i-n)*(a-n))/(s*s),f=t+d*(r-t),h=n+d*(a-n),p=this.getLineLength(o,i,f,h),m=Math.sqrt(e*e-p*p),g=Math.sqrt(m*m/(1+l*l))*(r<t?-1:1);return{x:f+g,y:h+l*g}}static getPointOnCubicBezier(e,t,n,r,a,o,i,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function f(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+o*c(e)+r*d(e)+t*f(e),y:l*u(e)+i*c(e)+a*d(e)+n*f(e)}}static getPointOnQuadraticBezier(e,t,n,r,a,o,i){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:o*s(e)+r*l(e)+t*u(e),y:i*s(e)+a*l(e)+n*u(e)}}static getPointOnEllipticalArc(e,t,n,r,a,o){const i=Math.cos(o),s=Math.sin(o),l=n*Math.cos(a),u=r*Math.sin(a);return{x:e+(l*i-u*s),y:t+(l*s+u*i)}}static parsePathData(e){if(!e)return[];let t=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);const a=t.split("|"),o=[],i=[];let s=0,l=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let c;for(r=1;r<a.length;r++){let e=a[r],t=e.charAt(0);for(e=e.slice(1),i.length=0;c=u.exec(e);)i.push(c[0]);const n=[];for(let r=0,a=i.length;r<a;r++){if("00"===i[r]){n.push(0,0);continue}const e=parseFloat(i[r]);isNaN(e)?n.push(0):n.push(e)}for(;n.length>0&&!isNaN(n[0]);){let e="",r=[];const a=s,i=l;var d,f,h,p,m,g,v,b,y,_;switch(t){case"l":s+=n.shift(),l+=n.shift(),e="L",r.push(s,l);break;case"L":s=n.shift(),l=n.shift(),r.push(s,l);break;case"m":var x=n.shift(),w=n.shift();if(s+=x,l+=w,e="M",o.length>2&&"z"===o[o.length-1].command)for(let e=o.length-2;e>=0;e--)if("M"===o[e].command){s=o[e].points[0]+x,l=o[e].points[1]+w;break}r.push(s,l),t="l";break;case"M":s=n.shift(),l=n.shift(),e="M",r.push(s,l),t="L";break;case"h":s+=n.shift(),e="L",r.push(s,l);break;case"H":s=n.shift(),e="L",r.push(s,l);break;case"v":l+=n.shift(),e="L",r.push(s,l);break;case"V":l=n.shift(),e="L",r.push(s,l);break;case"C":r.push(n.shift(),n.shift(),n.shift(),n.shift()),s=n.shift(),l=n.shift(),r.push(s,l);break;case"c":r.push(s+n.shift(),l+n.shift(),s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="C",r.push(s,l);break;case"S":f=s,h=l,"C"===(d=o[o.length-1]).command&&(f=s+(s-d.points[2]),h=l+(l-d.points[3])),r.push(f,h,n.shift(),n.shift()),s=n.shift(),l=n.shift(),e="C",r.push(s,l);break;case"s":f=s,h=l,"C"===(d=o[o.length-1]).command&&(f=s+(s-d.points[2]),h=l+(l-d.points[3])),r.push(f,h,s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="C",r.push(s,l);break;case"Q":r.push(n.shift(),n.shift()),s=n.shift(),l=n.shift(),r.push(s,l);break;case"q":r.push(s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="Q",r.push(s,l);break;case"T":f=s,h=l,"Q"===(d=o[o.length-1]).command&&(f=s+(s-d.points[0]),h=l+(l-d.points[1])),s=n.shift(),l=n.shift(),e="Q",r.push(f,h,s,l);break;case"t":f=s,h=l,"Q"===(d=o[o.length-1]).command&&(f=s+(s-d.points[0]),h=l+(l-d.points[1])),s+=n.shift(),l+=n.shift(),e="Q",r.push(f,h,s,l);break;case"A":p=n.shift(),m=n.shift(),g=n.shift(),v=n.shift(),b=n.shift(),y=s,_=l,s=n.shift(),l=n.shift(),e="A",r=this.convertEndpointToCenterParameterization(y,_,s,l,v,b,p,m,g);break;case"a":p=n.shift(),m=n.shift(),g=n.shift(),v=n.shift(),b=n.shift(),y=s,_=l,s+=n.shift(),l+=n.shift(),e="A",r=this.convertEndpointToCenterParameterization(y,_,s,l,v,b,p,m,g)}o.push({command:e||t,points:r,start:{x:a,y:i},pathLength:this.calcLength(a,i,e||t,r)})}"z"!==t&&"Z"!==t||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,n,r){let a,o,l,u;const c=s;switch(n){case"L":return c.getLineLength(e,t,r[0],r[1]);case"C":return(0,i.getCubicArcLength)([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return(0,i.getQuadraticArcLength)([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":a=0;var d=r[4],f=r[5],h=r[4]+f,p=Math.PI/180;if(Math.abs(d-h)<p&&(p=Math.abs(d-h)),o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),f<0)for(u=d-p;u>h;u-=p)l=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=c.getLineLength(o.x,o.y,l.x,l.y),o=l;else for(u=d+p;u<h;u+=p)l=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=c.getLineLength(o.x,o.y,l.x,l.y),o=l;return l=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),a+=c.getLineLength(o.x,o.y,l.x,l.y),a}return 0}static convertEndpointToCenterParameterization(e,t,n,r,a,o,i,s,l){const u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,d=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,f=c*c/(i*i)+d*d/(s*s);f>1&&(i*=Math.sqrt(f),s*=Math.sqrt(f));let h=Math.sqrt((i*i*(s*s)-i*i*(d*d)-s*s*(c*c))/(i*i*(d*d)+s*s*(c*c)));a===o&&(h*=-1),isNaN(h)&&(h=0);const p=h*i*d/s,m=h*-s*c/i,g=(e+n)/2+Math.cos(u)*p-Math.sin(u)*m,v=(t+r)/2+Math.sin(u)*p+Math.cos(u)*m,b=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},x=_([1,0],[(c-p)/i,(d-m)/s]),w=[(c-p)/i,(d-m)/s],S=[(-1*c-p)/i,(-1*d-m)/s];let C=_(w,S);return y(w,S)<=-1&&(C=Math.PI),y(w,S)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),[g,v,i,s,x,C,u,o]}}t.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,o._registerNode)(s),r.Factory.addGetterSetter(s,"data")},1300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;const r=n(1751),a=n(3304),o=n(4602),i=n(7149),s=n(9910);class l extends a.Shape{_sceneFunc(e){const t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?i.Util.drawRoundedRectPath(e,n,r,t):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}}t.Rect=l,l.prototype.className="Rect",(0,o._registerNode)(l),r.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},7980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegularPolygon=void 0;const r=n(1751),a=n(3304),o=n(9910),i=n(4602);class s extends a.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(let r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let t=e[0].x,n=e[0].y,r=e[0].x,a=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),a=Math.max(a,e.y)})),{x:t,y:r,width:n-t,height:a-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),r.Factory.addGetterSetter(s,"radius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"sides",0,(0,o.getNumberValidator)())},1008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ring=void 0;const r=n(1751),a=n(3304),o=n(9910),i=n(4602),s=2*Math.PI;class l extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,s,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),s,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(l),r.Factory.addGetterSetter(l,"innerRadius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"outerRadius",0,(0,o.getNumberValidator)())},3971:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;const r=n(1751),a=n(3304),o=n(3243),i=n(9910),s=n(4602);class l extends a.Shape{constructor(e){super(e),this._updated=!0,this.anim=new o.Animation((()=>{const e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,a=this.animations()[t],o=this.frameOffsets(),i=a[r+0],s=a[r+1],l=a[r+2],u=a[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(o){const r=o[t],a=2*n;e.drawImage(c,i,s,l,u,r[a+0],r[a+1],l,u)}else e.drawImage(c,i,s,l,u,0,0,l,u)}_hitFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,a=this.animations()[t],o=this.frameOffsets(),i=a[r+2],s=a[r+3];if(e.beginPath(),o){const r=o[t],a=2*n;e.rect(r[a+0],r[a+1],i,s)}else e.rect(0,0,i,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}t.Sprite=l,l.prototype.className="Sprite",(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"animation"),r.Factory.addGetterSetter(l,"animations"),r.Factory.addGetterSetter(l,"frameOffsets"),r.Factory.addGetterSetter(l,"image"),r.Factory.addGetterSetter(l,"frameIndex",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"frameRate",17,(0,i.getNumberValidator)()),r.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},3810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Star=void 0;const r=n(1751),a=n(3304),o=n(9910),i=n(4602);class s extends a.Shape{_sceneFunc(e){const t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let a=1;a<2*r;a++){const o=a%2===0?n:t,i=o*Math.sin(a*Math.PI/r),s=-1*o*Math.cos(a*Math.PI/r);e.lineTo(i,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),r.Factory.addGetterSetter(s,"numPoints",5,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"innerRadius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"outerRadius",0,(0,o.getNumberValidator)())},3169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,t.stringToArray=u;const r=n(7149),a=n(1751),o=n(3304),i=n(4602),s=n(9910),l=n(4602);function u(e){return[...e].reduce(((e,t,n,r)=>{if(/\p{Emoji}/u.test(t)){const a=r[n+1];a&&/\p{Emoji_Modifier}|\u200D/u.test(a)?(e.push(t+a),r[n+1]=""):e.push(t)}else/\p{Regional_Indicator}{2}/u.test(t+(r[n+1]||""))?e.push(t+r[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(t)?e[e.length-1]+=t:t&&e.push(t);return e}),[])}const c="auto",d="inherit",f="justify",h="left",p="middle",m="normal",g=" ",v="none",b=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],y=b.length;let _;function x(){return _||(_=r.Util.createCanvasElement().getContext("2d"),_)}class w extends o.Shape{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<y;t++)this.on(b[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){const t=this.textArr,n=t.length;if(!this.text())return;let r,a=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,l=this.verticalAlign(),c=this.direction(),m=0,g=this.align(),v=this.getWidth(),b=this.letterSpacing(),y=this.fill(),_=this.textDecoration(),x=-1!==_.indexOf("underline"),w=-1!==_.indexOf("line-through");c=c===d?e.direction:c;let S=s/2,C=p;if(i.Konva._fixTextRendering){const e=this.measureSize("M");C="alphabetic",S=(e.fontBoundingBoxAscent-e.fontBoundingBoxDescent)/2+s/2}var E=0,k=0;for("rtl"===c&&e.setAttr("direction",c),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",C),e.setAttr("textAlign",h),l===p?m=(this.getHeight()-n*s-2*a)/2:"bottom"===l&&(m=this.getHeight()-n*s-2*a),e.translate(a,m+a),r=0;r<n;r++){E=0,k=0;var P,j,T=t[r],M=T.text,N=T.width,D=T.lastInParagraph;if(e.save(),"right"===g?E+=v-N-2*a:"center"===g&&(E+=(v-N-2*a)/2),x){e.save(),e.beginPath();const t=E,n=S+k+(i.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2));e.moveTo(t,n),0===(P=M.split(" ").length-1),j=g!==f||D?N:v-2*a,e.lineTo(t+Math.round(j),n),e.lineWidth=o/15;const r=this._getLinearGradient();e.strokeStyle=r||y,e.stroke(),e.restore()}if(w){e.save(),e.beginPath();const t=i.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(E,S+k+t),0===(P=M.split(" ").length-1),j=g!==f||D?N:v-2*a,e.lineTo(E+Math.round(j),S+k+t),e.lineWidth=o/15;const n=this._getLinearGradient();e.strokeStyle=n||y,e.stroke(),e.restore()}if("rtl"===c||0===b&&g!==f)0!==b&&e.setAttr("letterSpacing",`${b}px`),this._partialTextX=E,this._partialTextY=S+k,this._partialText=M,e.fillStrokeShape(this);else{P=M.split(" ").length-1;const t=u(M);for(let n=0;n<t.length;n++){const r=t[n];" "!==r||D||g!==f||(E+=(v-2*a-N)/P),this._partialTextX=E,this._partialTextY=S+k,this._partialText=r,e.fillStrokeShape(this),E+=this.measureSize(r).width+b}}e.restore(),n>1&&(S+=s)}}_hitFunc(e){const t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=r.Util._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===c||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===c||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n,r,a,o,i,s,l,u,c,d;let f,h=x(),p=this.fontSize();h.save(),h.font=this._getContextFont(),f=h.measureText(e),h.restore();const m=p/100;return{actualBoundingBoxAscent:null!==(t=f.actualBoundingBoxAscent)&&void 0!==t?t:71.58203125*m,actualBoundingBoxDescent:null!==(n=f.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(r=f.actualBoundingBoxLeft)&&void 0!==r?r:-7.421875*m,actualBoundingBoxRight:null!==(a=f.actualBoundingBoxRight)&&void 0!==a?a:75.732421875*m,alphabeticBaseline:null!==(o=f.alphabeticBaseline)&&void 0!==o?o:0,emHeightAscent:null!==(i=f.emHeightAscent)&&void 0!==i?i:100*m,emHeightDescent:null!==(s=f.emHeightDescent)&&void 0!==s?s:-20*m,fontBoundingBoxAscent:null!==(l=f.fontBoundingBoxAscent)&&void 0!==l?l:91*m,fontBoundingBoxDescent:null!==(u=f.fontBoundingBoxDescent)&&void 0!==u?u:21*m,hangingBaseline:null!==(c=f.hangingBaseline)&&void 0!==c?c:72.80000305175781*m,ideographicBaseline:null!==(d=f.ideographicBaseline)&&void 0!==d?d:-21*m,width:f.width,height:p}}_getContextFont(){return this.fontStyle()+g+this.fontVariant()+g+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e})).join(", ")}_addTextLine(e){this.align()===f&&(e=e.trim());const t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),n=e.length;return x().measureText(e).width+t*n}_setTextData(){let e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,a=this.attrs.width,o=this.attrs.height,i=a!==c&&void 0!==a,s=o!==c&&void 0!==o,l=this.padding(),d=a-2*l,f=o-2*l,h=0,p=this.wrap(),m="char"!==p&&p!==v,b=this.ellipsis();this.textArr=[],x().font=this._getContextFont();const y=b?this._getTextWidth("\u2026"):0;for(let c=0,v=e.length;c<v;++c){let t=e[c],a=this._getTextWidth(t);if(i&&a>d)for(;t.length>0;){let e=0,o=u(t).length,i="",s=0;for(;e<o;){const n=e+o>>>1,r=u(t).slice(0,n+1).join(""),a=this._getTextWidth(r)+y;a<=d?(e=n+1,i=r,s=a):o=n}if(!i)break;if(m){const n=u(t),r=u(i),a=n[r.length];let o;if((a===g||"-"===a)&&s<=d)o=r.length;else{const e=r.lastIndexOf(g),t=r.lastIndexOf("-");o=Math.max(e,t)+1}o>0&&(e=o,i=n.slice(0,e).join(""),s=this._getTextWidth(i))}i=i.trimRight(),this._addTextLine(i),n=Math.max(n,s),h+=r;if(this._shouldHandleEllipsis(h)){this._tryToAddEllipsisToLastLine();break}if(t=u(t).slice(e).join("").trimLeft(),t.length>0&&(a=this._getTextWidth(t),a<=d)){this._addTextLine(t),h+=r,n=Math.max(n,a);break}}else this._addTextLine(t),h+=r,n=Math.max(n,a),this._shouldHandleEllipsis(h)&&c<v-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&h+r>f)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){const t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,a=r!==c&&void 0!==r,o=r-2*this.padding();return!(this.wrap()!==v)||a&&e+n>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==c&&void 0!==e,n=e-2*this.padding(),r=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(a&&r){if(t){this._getTextWidth(a.text+"\u2026")<n||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+"\u2026")}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}t.Text=w,w.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype.className="Text",w.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,l._registerNode)(w),a.Factory.overWriteSetter(w,"width",(0,s.getNumberOrAutoValidator)()),a.Factory.overWriteSetter(w,"height",(0,s.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(w,"direction",d),a.Factory.addGetterSetter(w,"fontFamily","Arial"),a.Factory.addGetterSetter(w,"fontSize",12,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(w,"fontStyle",m),a.Factory.addGetterSetter(w,"fontVariant",m),a.Factory.addGetterSetter(w,"padding",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(w,"align",h),a.Factory.addGetterSetter(w,"verticalAlign","top"),a.Factory.addGetterSetter(w,"lineHeight",1,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(w,"wrap","word"),a.Factory.addGetterSetter(w,"ellipsis",!1,(0,s.getBooleanValidator)()),a.Factory.addGetterSetter(w,"letterSpacing",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(w,"text","",(0,s.getStringValidator)()),a.Factory.addGetterSetter(w,"textDecoration","")},1222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPath=void 0;const r=n(7149),a=n(1751),o=n(3304),i=n(7289),s=n(3169),l=n(9910),u=n(4602),c="normal";function d(e){e.fillText(this.partialText,0,0)}function f(e){e.strokeText(this.partialText,0,0)}class h extends o.Shape{constructor(e){super(e),this.dummyCanvas=r.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;return e-1>this.pathLength?null:i.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),n=this.fill(),r=this.fontSize(),a=this.glyphInfo;"underline"===t&&e.beginPath();for(let o=0;o<a.length;o++){e.save();const n=a[o].p0;e.translate(n.x,n.y),e.rotate(a[o].rotation),this.partialText=a[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const n=t[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<t.length;n++){const r=t[n].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return s.Text.prototype.setText.call(this,e)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(e){const t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();const n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),r=this.align(),a=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===r&&(l=Math.max(0,this.pathLength/2-o/2)),"right"===r&&(l=Math.max(0,this.pathLength-o));const u=(0,s.stringToArray)(this.text());let c=l;for(let s=0;s<u.length;s++){const e=this._getPointAtLength(c);if(!e)return;let t=this._getTextSize(u[s]).width+n;if(" "===u[s]&&"justify"===r){const e=this.text().split(" ").length-1;t+=(this.pathLength-o)/e}const l=this._getPointAtLength(c+t);if(!l)return;const f=i.Path.getLineLength(e.x,e.y,l.x,l.y);let h=0;if(a)try{h=a(u[s-1],u[s])*this.fontSize()}catch(d){h=0}e.x+=h,l.x+=h,this.textWidth+=h;const p=i.Path.getPointOnLine(h+f/2,e.x,e.y,l.x,l.y),m=Math.atan2(l.y-e.y,l.x-e.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:u[s],rotation:m,p0:e,p1:l}),c+=t}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));let t,n,r=e[0]||0,a=e[0]||0,o=e[1]||0,i=e[1]||0;for(let l=0;l<e.length/2;l++)t=e[2*l],n=e[2*l+1],r=Math.min(r,t),a=Math.max(a,t),o=Math.min(o,n),i=Math.max(i,n);const s=this.fontSize();return{x:r-s/2,y:o-s/2,width:a-r+s,height:i-o+s}}destroy(){return r.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}t.TextPath=h,h.prototype._fillFunc=d,h.prototype._strokeFunc=f,h.prototype._fillFuncHit=d,h.prototype._strokeFuncHit=f,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,u._registerNode)(h),a.Factory.addGetterSetter(h,"data"),a.Factory.addGetterSetter(h,"fontFamily","Arial"),a.Factory.addGetterSetter(h,"fontSize",12,(0,l.getNumberValidator)()),a.Factory.addGetterSetter(h,"fontStyle",c),a.Factory.addGetterSetter(h,"align","left"),a.Factory.addGetterSetter(h,"letterSpacing",0,(0,l.getNumberValidator)()),a.Factory.addGetterSetter(h,"textBaseline","middle"),a.Factory.addGetterSetter(h,"fontVariant",c),a.Factory.addGetterSetter(h,"text",""),a.Factory.addGetterSetter(h,"textDecoration",""),a.Factory.addGetterSetter(h,"kerningFunc",void 0)},3535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const r=n(7149),a=n(1751),o=n(1189),i=n(3304),s=n(1300),l=n(6338),u=n(4602),c=n(9910),d=n(4602),f="tr-konva",h=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((e=>e+`.${f}`)).join(" "),p="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in u.Konva._global;const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function y(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),a=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:r,y:a}}function _(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return y(e,t,n)}let x=0;class w extends l.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return r.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach();const t=e.filter((e=>!e.isAncestorOf(this)||(r.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=e._attrsAffectingSize.map((e=>e+"Change."+this._getEventNamespace())).join(" ");e.on(n,t),e.on(m.map((e=>e+`.${this._getEventNamespace()}`)).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)})),this._resetTransformCache();return!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,(n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)})),e.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!t)return;const r=e.getAbsolutePosition(),a=r.x-t.x,o=r.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+a,y:r.y+o}),t.startDrag(n)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),n=arguments.length>2?arguments[2]:void 0;const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),i=r.x*a.x-e.offsetX()*a.x,s=r.y*a.y-e.offsetY()*a.y,l=(u.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return y({x:o.x+i*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+i*Math.sin(l),width:r.width*a.x,height:r.height*a.y,rotation:l},-u.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],a=t.getAbsoluteTransform();r.forEach((function(t){const n=a.point(t);e.push(n)}))}));const t=new r.Transform;t.rotate(-u.Konva.getAngle(this.rotation()));let n=1/0,a=1/0,o=-1/0,i=-1/0;e.forEach((function(e){const r=t.point(e);void 0===n&&(n=o=r.x,a=i=r.y),n=Math.min(n,r.x),a=Math.min(a,r.y),o=Math.max(o,r.x),i=Math.max(i,r.y)})),t.invert();const s=t.point({x:n,y:a});return{x:s.x,y:s.y,width:o-n,height:i-a,rotation:u.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach((e=>{this._createAnchor(e)})),this._createAnchor("rotater")}_createAnchor(e){const t=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),n=this;t.on("mousedown touchstart",(function(e){n._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{const n=u.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),o=function(e,t,n){if("rotater"===e)return n;t+=r.Util.degToRad(g[e]||0);const a=(r.Util.radToDeg(t)%360+360)%360;return r.Util._inRange(a,337.5,360)||r.Util._inRange(a,0,22.5)?"ns-resize":r.Util._inRange(a,22.5,67.5)?"nesw-resize":r.Util._inRange(a,67.5,112.5)?"ew-resize":r.Util._inRange(a,112.5,157.5)?"nwse-resize":r.Util._inRange(a,157.5,202.5)?"ns-resize":r.Util._inRange(a,202.5,247.5)?"nesw-resize":r.Util._inRange(a,247.5,292.5)?"ew-resize":r.Util._inRange(a,292.5,337.5)?"nwse-resize":(r.Util.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}(e,n,a);t.getStage().content&&(t.getStage().content.style.cursor=o),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){const e=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e,t){const n=t.getParent(),a=n.padding();e.beginPath(),e.rect(-a,-a,t.width()+2*a,t.height()+2*a),e.moveTo(t.width()/2,-a),n.rotateEnabled()&&n.rotateLineVisible()&&e.lineTo(t.width()/2,-n.rotateAnchorOffset()*r.Util._sign(t.height())-a),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),n=t.width,r=t.height,a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/a),this.cos=Math.abs(n/a),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),i=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:i.x-o.x,y:i.y-o.y},x++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e.evt,target:t})}))}_handleMouseMove(e){let t,n,r;const a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(e);const i=o.getPointerPosition();let s={x:i.x-this._anchorDragOffset.x,y:i.y-this._anchorDragOffset.y};const l=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),a.setAbsolutePosition(s);const c=a.getAbsolutePosition();if(l.x===c.x&&l.y===c.y)return;if("rotater"===this._movingAnchorName){const r=this._getNodeRect();t=a.x()-r.width/2,n=-a.y()+r.height/2;let o=Math.atan2(-n,t)+Math.PI/2;r.height<0&&(o-=Math.PI);const i=u.Konva.getAngle(this.rotation())+o,s=u.Konva.getAngle(this.rotationSnapTolerance()),l=function(e,t,n){let r=t;for(let a=0;a<e.length;a++){const o=u.Konva.getAngle(e[a]),i=Math.abs(o-t)%(2*Math.PI);Math.min(i,2*Math.PI-i)<n&&(r=o)}return r}(this.rotationSnaps(),i,s),c=_(r,l-r.rotation);return void this._fitNodesInto(c,e)}const d=this.shiftBehavior();let f;f="inverted"===d?this.keepRatio()&&!e.shiftKey:"none"===d?this.keepRatio():this.keepRatio()||e.shiftKey;var h=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(f){var p=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(p.x-a.x(),2)+Math.pow(p.y-a.y(),2));var m=this.findOne(".top-left").x()>p.x?-1:1,g=this.findOne(".top-left").y()>p.y?-1:1;t=r*this.cos*m,n=r*this.sin*g,this.findOne(".top-left").x(p.x-t),this.findOne(".top-left").y(p.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(a.y());else if("top-right"===this._movingAnchorName){if(f){p=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(a.x()-p.x,2)+Math.pow(p.y-a.y(),2));m=this.findOne(".top-right").x()<p.x?-1:1,g=this.findOne(".top-right").y()>p.y?-1:1;t=r*this.cos*m,n=r*this.sin*g,this.findOne(".top-right").x(p.x+t),this.findOne(".top-right").y(p.y-n)}var v=a.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(a.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(a.x());else if("bottom-left"===this._movingAnchorName){if(f){p=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(p.x-a.x(),2)+Math.pow(a.y()-p.y,2));m=p.x<a.x()?-1:1,g=a.y()<p.y?-1:1;t=r*this.cos*m,n=r*this.sin*g,a.x(p.x-t),a.y(p.y+n)}v=a.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(a.y());else if("bottom-right"===this._movingAnchorName){if(f){p=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(a.x()-p.x,2)+Math.pow(a.y()-p.y,2));m=this.findOne(".bottom-right").x()<p.x?-1:1,g=this.findOne(".bottom-right").y()<p.y?-1:1;t=r*this.cos*m,n=r*this.sin*g,this.findOne(".bottom-right").x(p.x+t),this.findOne(".bottom-right").y(p.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(h=this.centeredScaling()||e.altKey){const e=this.findOne(".top-left"),t=this.findOne(".bottom-right"),n=e.x(),r=e.y(),a=this.getWidth()-t.x(),o=this.getHeight()-t.y();t.move({x:-n,y:-r}),e.move({x:a,y:o})}const b=this.findOne(".top-left").getAbsolutePosition();t=b.x,n=b.y;const y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),x=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:y,height:x,rotation:u.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();x--,this._fire("transformend",{evt:e,target:n}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),n&&this._nodes.forEach((t=>{var n;t._fire("transformend",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(e,t){const n=this._getNodeRect();if(r.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(r.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();const a=new r.Transform;if(a.rotate(u.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=a.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=a.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=a.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=a.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:r.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,i=new r.Transform;i.translate(n.x,n.y),i.rotate(n.rotation),i.scale(n.width/o,n.height/o);const s=new r.Transform,l=e.width/o,c=e.height/o;!1===this.flipEnabled()?(s.translate(e.x,e.y),s.rotate(e.rotation),s.translate(e.width<0?e.width:0,e.height<0?e.height:0),s.scale(Math.abs(l),Math.abs(c))):(s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(l,c));const d=s.multiply(i.invert());this._nodes.forEach((e=>{var t;const n=e.getParent().getAbsoluteTransform(),a=e.getTransform().copy();a.translate(e.offsetX(),e.offsetY());const o=new r.Transform;o.multiply(n.copy().invert()).multiply(d).multiply(n).multiply(a);const i=o.decompose();e.setAttrs(i),null===(t=e.getLayer())||void 0===t||t.batchDraw()})),this.rotation(r.Util._getRotation(e.rotation)),this._nodes.forEach((e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(r.Util._getRotation(t.rotation));const n=t.width,a=t.height,o=this.enabledAnchors(),i=this.resizeEnabled(),s=this.padding(),l=this.anchorSize(),u=this.find("._anchor");u.forEach((e=>{e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:i&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+s,visible:i&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:i&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:l/2+s,visible:i&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:a/2,offsetX:l/2-s,visible:i&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:l/2+s,offsetY:l/2-s,visible:i&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:a,offsetY:l/2-s,visible:i&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:a,offsetX:l/2-s,offsetY:l/2-s,visible:i&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*r.Util._sign(a)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const c=this.anchorStyleFunc();c&&u.forEach((e=>{c(e)})),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return o.Node.prototype.toObject.call(this)}clone(e){return o.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}t.Transformer=w,w.isTransforming=()=>x>0,w.prototype.className="Transformer",(0,d._registerNode)(w),a.Factory.addGetterSetter(w,"enabledAnchors",b,(function(e){return e instanceof Array||r.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===b.indexOf(e)&&r.Util.warn("Unknown anchor name: "+e+". Available names are: "+b.join(", "))})),e||[]})),a.Factory.addGetterSetter(w,"flipEnabled",!0,(0,c.getBooleanValidator)()),a.Factory.addGetterSetter(w,"resizeEnabled",!0),a.Factory.addGetterSetter(w,"anchorSize",10,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"rotateEnabled",!0),a.Factory.addGetterSetter(w,"rotateLineVisible",!0),a.Factory.addGetterSetter(w,"rotationSnaps",[]),a.Factory.addGetterSetter(w,"rotateAnchorOffset",50,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"rotateAnchorCursor","crosshair"),a.Factory.addGetterSetter(w,"rotationSnapTolerance",5,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"borderEnabled",!0),a.Factory.addGetterSetter(w,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(w,"anchorStrokeWidth",1,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"anchorFill","white"),a.Factory.addGetterSetter(w,"anchorCornerRadius",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(w,"borderStrokeWidth",1,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"borderDash"),a.Factory.addGetterSetter(w,"keepRatio",!0),a.Factory.addGetterSetter(w,"shiftBehavior","default"),a.Factory.addGetterSetter(w,"centeredScaling",!1),a.Factory.addGetterSetter(w,"ignoreStroke",!1),a.Factory.addGetterSetter(w,"padding",0,(0,c.getNumberValidator)()),a.Factory.addGetterSetter(w,"nodes"),a.Factory.addGetterSetter(w,"node"),a.Factory.addGetterSetter(w,"boundBoxFunc"),a.Factory.addGetterSetter(w,"anchorDragBoundFunc"),a.Factory.addGetterSetter(w,"anchorStyleFunc"),a.Factory.addGetterSetter(w,"shouldOverdrawWholeArea",!1),a.Factory.addGetterSetter(w,"useSingleNodeRotation",!0),a.Factory.backCompat(w,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},4940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wedge=void 0;const r=n(1751),a=n(3304),o=n(4602),i=n(9910),s=n(4602);class l extends a.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,o.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"radius",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"angle",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(l,"clockwise",!1),r.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},3536:function(e,t,n){var r;e=n.nmd(e),function(){var a,o="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,d=128,f=256,h=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",f]],b="[object Arguments]",y="[object Array]",_="[object Boolean]",x="[object Date]",w="[object Error]",S="[object Function]",C="[object GeneratorFunction]",E="[object Map]",k="[object Number]",P="[object Object]",j="[object Promise]",T="[object RegExp]",M="[object Set]",N="[object String]",D="[object Symbol]",O="[object WeakMap]",F="[object ArrayBuffer]",R="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",L="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",W="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",V="[object Uint32Array]",G=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(q.source),J=RegExp(Y.source),Q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ae.source),ie=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ce="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",je="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",De="["+Ce+"]",Oe="["+Me+"]",Fe="["+Ee+"]",Re="\\d+",Ae="["+ke+"]",Ie="["+Pe+"]",Le="[^"+Ce+Me+Re+ke+Pe+je+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ce+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+je+"]",Ve="\\u200d",Ge="(?:"+Ie+"|"+Le+")",He="(?:"+$e+"|"+Le+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Fe+"|"+Be+")"+"?",Xe="["+Te+"]?",Je=Xe+Ye+("(?:"+Ve+"(?:"+[Ue,We,ze].join("|")+")"+Xe+Ye+")*"),Qe="(?:"+[Ae,We,ze].join("|")+")"+Je,Ze="(?:"+[Ue+Fe+"?",Fe,We,ze,De].join("|")+")",et=RegExp(Ne,"g"),tt=RegExp(Fe,"g"),nt=RegExp(Be+"(?="+Be+")|"+Ze+Je,"g"),rt=RegExp([$e+"?"+Ie+"+"+Ke+"(?="+[Oe,$e,"$"].join("|")+")",He+"+"+qe+"(?="+[Oe,$e+Ge,"$"].join("|")+")",$e+"?"+Ge+"+"+Ke,$e+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Qe].join("|"),"g"),at=RegExp("["+Ve+Ce+Ee+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[A]=lt[I]=lt[L]=lt[B]=lt[U]=lt[W]=lt[z]=lt[$]=lt[V]=!0,lt[b]=lt[y]=lt[F]=lt[_]=lt[R]=lt[x]=lt[w]=lt[S]=lt[E]=lt[k]=lt[P]=lt[T]=lt[M]=lt[N]=lt[O]=!1;var ut={};ut[b]=ut[y]=ut[F]=ut[R]=ut[_]=ut[x]=ut[A]=ut[I]=ut[L]=ut[B]=ut[U]=ut[E]=ut[k]=ut[P]=ut[T]=ut[M]=ut[N]=ut[D]=ut[W]=ut[z]=ut[$]=ut[V]=!0,ut[w]=ut[S]=ut[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,bt=vt&&vt.exports===gt,yt=bt&&ht.process,_t=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),xt=_t&&_t.isArrayBuffer,wt=_t&&_t.isDate,St=_t&&_t.isMap,Ct=_t&&_t.isRegExp,Et=_t&&_t.isSet,kt=_t&&_t.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function jt(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&$t(e,t,0)>-1}function Ft(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function At(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function It(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Lt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function Wt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function zt(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function $t(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Gt,n)}function Vt(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function Gt(e){return e!==e}function Ht(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Kt(e){return function(t){return null==t?a:t[e]}}function qt(e){return function(t){return null==e?a:e[t]}}function Yt(e,t,n,r,a){return a(e,(function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==a&&(n=n===a?i:n+i)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,gn(e)+1).replace(ie,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Rt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&$t(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&$t(t,e[n],0)>-1;);return n}var an=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function ln(e){return at.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==s||(e[n]=s,o[a++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n=(t=null==t?mt:bn.defaults(mt.Object(),t,bn.pick(mt,it))).Array,r=t.Date,se=t.Error,Ce=t.Function,Ee=t.Math,ke=t.Object,Pe=t.RegExp,je=t.String,Te=t.TypeError,Me=n.prototype,Ne=Ce.prototype,De=ke.prototype,Oe=t["__core-js_shared__"],Fe=Ne.toString,Re=De.hasOwnProperty,Ae=0,Ie=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Le=De.toString,Be=Fe.call(ke),Ue=mt._,We=Pe("^"+Fe.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=bt?t.Buffer:a,$e=t.Symbol,Ve=t.Uint8Array,Ge=ze?ze.allocUnsafe:a,He=cn(ke.getPrototypeOf,ke),Ke=ke.create,qe=De.propertyIsEnumerable,Ye=Me.splice,Xe=$e?$e.isConcatSpreadable:a,Je=$e?$e.iterator:a,Qe=$e?$e.toStringTag:a,Ze=function(){try{var e=fo(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,at=r&&r.now!==mt.Date.now&&r.now,ct=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=Ee.ceil,pt=Ee.floor,gt=ke.getOwnPropertySymbols,vt=ze?ze.isBuffer:a,yt=t.isFinite,_t=Me.join,Ut=cn(ke.keys,ke),qt=Ee.max,yn=Ee.min,_n=r.now,xn=t.parseInt,wn=Ee.random,Sn=Me.reverse,Cn=fo(t,"DataView"),En=fo(t,"Map"),kn=fo(t,"Promise"),Pn=fo(t,"Set"),jn=fo(t,"WeakMap"),Tn=fo(ke,"create"),Mn=jn&&new jn,Nn={},Dn=Lo(Cn),On=Lo(En),Fn=Lo(kn),Rn=Lo(Pn),An=Lo(jn),In=$e?$e.prototype:a,Ln=In?In.valueOf:a,Bn=In?In.toString:a;function Un(e){if(ts(e)&&!Vi(e)&&!(e instanceof Vn)){if(e instanceof $n)return e;if(Re.call(e,"__wrapped__"))return Bo(e)}return new $n(e)}var Wn=function(){function e(){}return function(t){if(!es(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function zn(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Xn(e,t){var n=Vi(e),r=!n&&$i(e),a=!n&&!r&&qi(e),o=!n&&!r&&!a&&us(e),i=n||r||a||o,s=i?Jt(e.length,je):[],l=s.length;for(var u in e)!t&&!Re.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yo(u,l))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[qr(0,t-1)]:a}function Qn(e,t){return Ro(Ta(e),sr(t,0,e.length))}function Zn(e){return Ro(Ta(e))}function er(e,t,n){(n!==a&&!Ui(e[t],n)||n===a&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Re.call(e,t)&&Ui(r,n)&&(n!==a||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ui(e[n][0],t))return n;return-1}function rr(e,t,n,r){return fr(e,(function(e,a,o){t(r,e,n(e),o)})),r}function ar(e,t){return e&&Ma(t,Ns(t),e)}function or(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var r=-1,o=t.length,i=n(o),s=null==e;++r<o;)i[r]=s?a:ks(e,t[r]);return i}function sr(e,t,n){return e===e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,i){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==a)return s;if(!es(e))return e;var d=Vi(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ta(e,s)}else{var f=mo(e),h=f==S||f==C;if(qi(e))return Sa(e,l);if(f==P||f==b||h&&!o){if(s=u||h?{}:vo(e),!l)return u?function(e,t){return Ma(e,po(e),t)}(e,function(e,t){return e&&Ma(t,Ds(t),e)}(s,e)):function(e,t){return Ma(e,ho(e),t)}(e,ar(s,e))}else{if(!ut[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case F:return Ca(e);case _:case x:return new r(+e);case R:return function(e,t){var n=t?Ca(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case A:case I:case L:case B:case U:case W:case z:case $:case V:return Ea(e,n);case E:return new r;case k:case N:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case D:return a=e,Ln?ke(Ln.call(a)):{}}var a}(e,f,l)}}i||(i=new Yn);var p=i.get(e);if(p)return p;i.set(e,s),is(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,i))})):ns(e)&&e.forEach((function(r,a){s.set(a,lr(r,t,n,a,e,i))}));var m=d?a:(c?u?ao:ro:u?Ds:Ns)(e);return Tt(m||e,(function(r,a){m&&(r=e[a=r]),tr(s,a,lr(r,t,n,a,e,i))})),s}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],i=t[o],s=e[o];if(s===a&&!(o in e)||!i(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Te(o);return No((function(){e.apply(a,n)}),t)}function dr(e,t,n,r){var a=-1,o=Ot,i=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Rt(t,Zt(n))),r?(o=Ft,i=!1):t.length>=200&&(o=tn,i=!1,t=new qn(t));e:for(;++a<s;){var c=e[a],d=null==n?c:n(c);if(c=r||0!==c?c:0,i&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l}Un.templateSettings={escape:Q,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,$n.prototype=Wn(zn.prototype),$n.prototype.constructor=$n,Vn.prototype=Wn(zn.prototype),Vn.prototype.constructor=Vn,Gn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===i?a:n}return Re.call(t,e)?t[e]:a},Gn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==a:Re.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===a?i:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?a:t[n][1]},Hn.prototype.has=function(e){return nr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Hn),string:new Gn}},Kn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return uo(this,e).get(e)},Kn.prototype.has=function(e){return uo(this,e).has(e)},Kn.prototype.set=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,i),this},qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var fr=Oa(_r),hr=Oa(xr,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(null!=s&&(l===a?s===s&&!ls(s):n(s,l)))var l=s,u=i}return u}function gr(e,t){var n=[];return fr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function vr(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=bo),a||(a=[]);++o<i;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,a):At(a,s):r||(a[a.length]=s)}return a}var br=Fa(),yr=Fa(!0);function _r(e,t){return e&&br(e,t,Ns)}function xr(e,t){return e&&yr(e,t,Ns)}function wr(e,t){return Dt(t,(function(t){return Ji(e[t])}))}function Sr(e,t){for(var n=0,r=(t=ya(t,e)).length;null!=e&&n<r;)e=e[Io(t[n++])];return n&&n==r?e:a}function Cr(e,t,n){var r=t(e);return Vi(e)?r:At(r,n(e))}function Er(e){return null==e?e===a?"[object Undefined]":"[object Null]":Qe&&Qe in ke(e)?function(e){var t=Re.call(e,Qe),n=e[Qe];try{e[Qe]=a;var r=!0}catch(i){}var o=Le.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return o}(e):function(e){return Le.call(e)}(e)}function kr(e,t){return e>t}function Pr(e,t){return null!=e&&Re.call(e,t)}function jr(e,t){return null!=e&&t in ke(e)}function Tr(e,t,r){for(var o=r?Ft:Ot,i=e[0].length,s=e.length,l=s,u=n(s),c=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Rt(f,Zt(t))),c=yn(f.length,c),u[l]=!r&&(t||i>=120&&f.length>=120)?new qn(l&&f):a}f=e[0];var h=-1,p=u[0];e:for(;++h<i&&d.length<c;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):o(d,g,r))){for(l=s;--l;){var v=u[l];if(!(v?tn(v,g):o(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Mr(e,t,n){var r=null==(e=jo(e,t=ya(t,e)))?e:e[Io(Xo(t))];return null==r?a:Pt(r,e,n)}function Nr(e){return ts(e)&&Er(e)==b}function Dr(e,t,n,r,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,o,i){var s=Vi(e),l=Vi(t),u=s?y:mo(e),c=l?y:mo(t),d=(u=u==b?P:u)==P,f=(c=c==b?P:c)==P,h=u==c;if(h&&qi(e)){if(!qi(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Yn),s||us(e)?to(e,t,n,r,o,i):function(e,t,n,r,a,o,i){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case _:case x:case k:return Ui(+e,+t);case w:return e.name==t.name&&e.message==t.message;case T:case N:return e==t+"";case E:var s=un;case M:var l=1&r;if(s||(s=fn),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var c=to(s(e),s(t),r,a,o,i);return i.delete(e),c;case D:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,u,n,r,o,i);if(!(1&n)){var p=d&&Re.call(e,"__wrapped__"),m=f&&Re.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new Yn),o(g,v,n,r,i)}}if(!h)return!1;return i||(i=new Yn),function(e,t,n,r,o,i){var s=1&n,l=ro(e),u=l.length,c=ro(t),d=c.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=l[f];if(!(s?h in t:Re.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);var v=s;for(;++f<u;){var b=e[h=l[f]],y=t[h];if(r)var _=s?r(y,b,h,t,e,i):r(b,y,h,e,t,i);if(!(_===a?b===y||o(b,y,n,r,i):_)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return i.delete(e),i.delete(t),g}(e,t,n,r,o,i)}(e,t,n,r,Dr,o))}function Or(e,t,n,r){var o=n.length,i=o,s=!r;if(null==e)return!i;for(e=ke(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var u=(l=n[o])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===a&&!(u in e))return!1}else{var f=new Yn;if(r)var h=r(c,d,u,e,t,f);if(!(h===a?Dr(d,c,3,r,f):h))return!1}}return!0}function Fr(e){return!(!es(e)||(t=e,Ie&&Ie in t))&&(Ji(e)?We:be).test(Lo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Vi(e)?Wr(e[0],e[1]):Ur(e):fl(e)}function Ar(e){if(!Co(e))return Ut(e);var t=[];for(var n in ke(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Co(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function Br(e,t){var r=-1,a=Hi(e)?n(e.length):[];return fr(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}function Ur(e){var t=co(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Wr(e,t){return xo(e)&&Eo(t)?ko(Io(e),t):function(n){var r=ks(n,e);return r===a&&r===t?Ps(n,e):Dr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&br(t,(function(i,s){if(o||(o=new Yn),es(i))!function(e,t,n,r,o,i,s){var l=To(e,n),u=To(t,n),c=s.get(u);if(c)return void er(e,n,c);var d=i?i(l,u,n+"",e,t,s):a,f=d===a;if(f){var h=Vi(u),p=!h&&qi(u),m=!h&&!p&&us(u);d=u,h||p||m?Vi(l)?d=l:Ki(l)?d=Ta(l):p?(f=!1,d=Sa(u,!0)):m?(f=!1,d=Ea(u,!0)):d=[]:as(u)||$i(u)?(d=l,$i(l)?d=vs(l):es(l)&&!Ji(l)||(d=vo(u))):f=!1}f&&(s.set(u,d),o(d,u,r,i,s),s.delete(u));er(e,n,d)}(e,t,s,n,zr,r,o);else{var l=r?r(To(e,s),i,s+"",e,t,o):a;l===a&&(l=i),er(e,s,l)}}),Ds)}function $r(e,t){var n=e.length;if(n)return yo(t+=t<0?n:0,n)?e[t]:a}function Vr(e,t,n){t=t.length?Rt(t,(function(e){return Vi(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Rt(t,Zt(lo()));var a=Br(e,(function(e,n,a){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,o=t.criteria,i=a.length,s=n.length;for(;++r<i;){var l=ka(a[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],s=Sr(e,i);n(s,i)&&Zr(o,ya(i,e),s)}return o}function Hr(e,t,n,r){var a=r?Vt:$t,o=-1,i=t.length,s=e;for(e===t&&(t=Ta(t)),n&&(s=Rt(e,Zt(n)));++o<i;)for(var l=0,u=t[o],c=n?n(u):u;(l=a(s,c,l,r))>-1;)s!==e&&Ye.call(s,l,1),Ye.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==o){var o=a;yo(a)?Ye.call(e,a,1):da(e,a)}}return e}function qr(e,t){return e+pt(wn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Do(Po(e,t,rl),e+"")}function Jr(e){return Jn(Us(e))}function Qr(e,t){var n=Us(e);return Ro(n,sr(t,0,n.length))}function Zr(e,t,n,r){if(!es(e))return e;for(var o=-1,i=(t=ya(t,e)).length,s=i-1,l=e;null!=l&&++o<i;){var u=Io(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=l[u];(c=r?r(d,u,l):a)===a&&(c=es(d)?d:yo(t[o+1])?[]:{})}tr(l,u,c),l=l[u]}return e}var ea=Mn?function(e,t){return Mn.set(e,t),e}:rl,ta=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function na(e){return Ro(Us(e))}function ra(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=n(o);++a<o;)i[a]=e[a+t];return i}function aa(e,t){var n;return fr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function oa(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var o=r+a>>>1,i=e[o];null!==i&&!ls(i)&&(n?i<=t:i<t)?r=o+1:a=o}return a}return ia(e,t,rl,n)}function ia(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=n(t))!==t,l=null===t,u=ls(t),c=t===a;o<i;){var d=pt((o+i)/2),f=n(e[d]),h=f!==a,p=null===f,m=f===f,g=ls(f);if(s)var v=r||m;else v=c?m&&(r||h):l?m&&h&&(r||!p):u?m&&h&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?o=d+1:i=d}return yn(i,4294967294)}function sa(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n],s=t?t(i):i;if(!n||!Ui(s,l)){var l=s;o[a++]=0===i?0:i}}return o}function la(e){return"number"==typeof e?e:ls(e)?m:+e}function ua(e){if("string"==typeof e)return e;if(Vi(e))return Rt(e,ua)+"";if(ls(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ca(e,t,n){var r=-1,a=Ot,o=e.length,i=!0,s=[],l=s;if(n)i=!1,a=Ft;else if(o>=200){var u=t?null:Ya(e);if(u)return fn(u);i=!1,a=tn,l=new qn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,i&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else a(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function da(e,t){return null==(e=jo(e,t=ya(t,e)))||delete e[Io(Xo(t))]}function fa(e,t,n,r){return Zr(e,t,n(Sr(e,t)),r)}function ha(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?ra(e,r?0:o,r?o+1:a):ra(e,r?o+1:0,r?a:o)}function pa(e,t){var n=e;return n instanceof Vn&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,At([e],t.args))}),n)}function ma(e,t,r){var a=e.length;if(a<2)return a?ca(e[0]):[];for(var o=-1,i=n(a);++o<a;)for(var s=e[o],l=-1;++l<a;)l!=o&&(i[o]=dr(i[o]||s,e[l],t,r));return ca(vr(i,1),t,r)}function ga(e,t,n){for(var r=-1,o=e.length,i=t.length,s={};++r<o;){var l=r<i?t[r]:a;n(s,e[r],l)}return s}function va(e){return Ki(e)?e:[]}function ba(e){return"function"==typeof e?e:rl}function ya(e,t){return Vi(e)?e:xo(e,t)?[e]:Ao(bs(e))}var _a=Xr;function xa(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:ra(e,t,n)}var wa=nt||function(e){return mt.clearTimeout(e)};function Sa(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ca(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ea(e,t){var n=t?Ca(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ka(e,t){if(e!==t){var n=e!==a,r=null===e,o=e===e,i=ls(e),s=t!==a,l=null===t,u=t===t,c=ls(t);if(!l&&!c&&!i&&e>t||i&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||l&&n&&o||!s&&o||!u)return-1}return 0}function Pa(e,t,r,a){for(var o=-1,i=e.length,s=r.length,l=-1,u=t.length,c=qt(i-s,0),d=n(u+c),f=!a;++l<u;)d[l]=t[l];for(;++o<s;)(f||o<i)&&(d[r[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}function ja(e,t,r,a){for(var o=-1,i=e.length,s=-1,l=r.length,u=-1,c=t.length,d=qt(i-l,0),f=n(d+c),h=!a;++o<d;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++s<l;)(h||o<i)&&(f[p+r[s]]=e[o++]);return f}function Ta(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Ma(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var l=t[i],u=r?r(n[l],e[l],l,n,e):a;u===a&&(u=e[l]),o?or(n,l,u):tr(n,l,u)}return n}function Na(e,t){return function(n,r){var a=Vi(n)?jt:rr,o=t?t():{};return a(n,e,lo(r,2),o)}}function Da(e){return Xr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:a,s=o>2?n[2]:a;for(i=e.length>3&&"function"==typeof i?(o--,i):a,s&&_o(n[0],n[1],s)&&(i=o<3?a:i,o=1),t=ke(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))}function Oa(e,t){return function(n,r){if(null==n)return n;if(!Hi(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=ke(n);(t?o--:++o<a)&&!1!==r(i[o],o,i););return n}}function Fa(e){return function(t,n,r){for(var a=-1,o=ke(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}function Ra(e){return function(t){var n=ln(t=bs(t))?mn(t):a,r=n?n[0]:t.charAt(0),o=n?xa(n,1).join(""):t.slice(1);return r[e]()+o}}function Aa(e){return function(t){return It(Js($s(t).replace(et,"")),e,"")}}function Ia(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function La(e){return function(t,n,r){var o=ke(t);if(!Hi(t)){var i=lo(n,3);t=Ns(t),n=function(e){return i(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:a}}function Ba(e){return no((function(t){var n=t.length,r=n,i=$n.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Te(o);if(i&&!l&&"wrapper"==io(s))var l=new $n([],!0)}for(r=l?r:n;++r<n;){var u=io(s=t[r]),c="wrapper"==u?oo(s):a;l=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[io(c[0])].apply(l,c[3]):1==s.length&&wo(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Vi(r))return l.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}}))}function Ua(e,t,r,o,i,s,l,u,c,f){var h=t&d,p=1&t,m=2&t,g=24&t,v=512&t,b=m?a:Ia(e);return function d(){for(var y=arguments.length,_=n(y),x=y;x--;)_[x]=arguments[x];if(g)var w=so(d),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,w);if(o&&(_=Pa(_,o,i,g)),s&&(_=ja(_,s,l,g)),y-=S,g&&y<f){var C=dn(_,w);return Ka(e,t,Ua,d.placeholder,r,_,C,u,c,f-y)}var E=p?r:this,k=m?E[e]:e;return y=_.length,u?_=function(e,t){var n=e.length,r=yn(t.length,n),o=Ta(e);for(;r--;){var i=t[r];e[r]=yo(i,n)?o[i]:a}return e}(_,u):v&&y>1&&_.reverse(),h&&c<y&&(_.length=c),this&&this!==mt&&this instanceof d&&(k=b||Ia(k)),k.apply(E,_)}}function Wa(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,a,o){t(r,n(e),a,o)})),r}(n,e,t(r),{})}}function za(e,t){return function(n,r){var o;if(n===a&&r===a)return t;if(n!==a&&(o=n),r!==a){if(o===a)return r;"string"==typeof n||"string"==typeof r?(n=ua(n),r=ua(r)):(n=la(n),r=la(r)),o=e(n,r)}return o}}function $a(e){return no((function(t){return t=Rt(t,Zt(lo())),Xr((function(n){var r=this;return e(t,(function(e){return Pt(e,r,n)}))}))}))}function Va(e,t){var n=(t=t===a?" ":ua(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ht(e/pn(t)));return ln(t)?xa(mn(r),0,e).join(""):r.slice(0,e)}function Ga(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=a),t=hs(t),r===a?(r=t,t=0):r=hs(r),function(e,t,r,a){for(var o=-1,i=qt(ht((t-e)/(r||1)),0),s=n(i);i--;)s[a?i:++o]=e,e+=r;return s}(t,r,o=o===a?t<r?1:-1:hs(o),e)}}function Ha(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Ka(e,t,n,r,o,i,s,l,d,f){var h=8&t;t|=h?u:c,4&(t&=~(h?c:u))||(t&=-4);var p=[e,t,o,h?i:a,h?s:a,h?a:i,h?a:s,l,d,f],m=n.apply(a,p);return wo(e)&&Mo(m,p),m.placeholder=r,Oo(m,e,t)}function qa(e){var t=Ee[e];return function(e,n){if(e=gs(e),(n=null==n?0:yn(ps(n),292))&&yt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ya=Pn&&1/fn(new Pn([,-0]))[1]==h?function(e){return new Pn(e)}:ll;function Xa(e){return function(t){var n=mo(t);return n==E?un(t):n==M?hn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ja(e,t,r,i,h,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Te(o);var b=i?i.length:0;if(b||(t&=-97,i=h=a),m=m===a?m:qt(ps(m),0),g=g===a?g:ps(g),b-=h?h.length:0,t&c){var y=i,_=h;i=h=a}var x=v?a:oo(e),w=[e,t,r,i,h,y,_,p,m,g];if(x&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,i=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!i)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Pa(u,l,t[4]):l,e[4]=u?dn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?ja(u,l,t[6]):l,e[6]=u?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(w,x),e=w[0],t=w[1],r=w[2],i=w[3],h=w[4],!(g=w[9]=w[9]===a?v?0:e.length:qt(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,r){var o=Ia(e);return function i(){for(var s=arguments.length,l=n(s),u=s,c=so(i);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:dn(l,c);return(s-=d.length)<r?Ka(e,t,Ua,i.placeholder,a,l,d,a,a,r-s):Pt(this&&this!==mt&&this instanceof i?o:e,this,l)}}(e,t,g):t!=u&&33!=t||h.length?Ua.apply(a,w):function(e,t,r,a){var o=1&t,i=Ia(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=a.length,d=n(c+l),f=this&&this!==mt&&this instanceof t?i:e;++u<c;)d[u]=a[u];for(;l--;)d[u++]=arguments[++s];return Pt(f,o?r:this,d)}}(e,t,r,i);else var S=function(e,t,n){var r=1&t,a=Ia(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Oo((x?ea:Mo)(S,w),e,t)}function Qa(e,t,n,r){return e===a||Ui(e,De[n])&&!Re.call(r,n)?t:e}function Za(e,t,n,r,o,i){return es(e)&&es(t)&&(i.set(t,e),zr(e,t,a,Za,i),i.delete(t)),e}function eo(e){return as(e)?a:e}function to(e,t,n,r,o,i){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&n?new qn:a;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=s?r(g,m,f,t,e,i):r(m,g,f,e,t,i);if(v!==a){if(v)continue;h=!1;break}if(p){if(!Bt(t,(function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,i)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!o(m,g,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function no(e){return Do(Po(e,a,Go),e+"")}function ro(e){return Cr(e,Ns,ho)}function ao(e){return Cr(e,Ds,po)}var oo=Mn?function(e){return Mn.get(e)}:ll;function io(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function so(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function lo(){var e=Un.iteratee||al;return e=e===al?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function co(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Eo(a)]}return t}function fo(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return Fr(n)?n:a}var ho=gt?function(e){return null==e?[]:(e=ke(e),Dt(gt(e),(function(t){return qe.call(e,t)})))}:ml,po=gt?function(e){for(var t=[];e;)At(t,ho(e)),e=He(e);return t}:ml,mo=Er;function go(e,t,n){for(var r=-1,a=(t=ya(t,e)).length,o=!1;++r<a;){var i=Io(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&Zi(a)&&yo(i,a)&&(Vi(e)||$i(e))}function vo(e){return"function"!=typeof e.constructor||Co(e)?{}:Wn(He(e))}function bo(e){return Vi(e)||$i(e)||!!(Xe&&e&&e[Xe])}function yo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Hi(n)&&yo(t,n.length):"string"==r&&t in n)&&Ui(n[t],e)}function xo(e,t){if(Vi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function wo(e){var t=io(e),n=Un[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(Cn&&mo(new Cn(new ArrayBuffer(1)))!=R||En&&mo(new En)!=E||kn&&mo(kn.resolve())!=j||Pn&&mo(new Pn)!=M||jn&&mo(new jn)!=O)&&(mo=function(e){var t=Er(e),n=t==P?e.constructor:a,r=n?Lo(n):"";if(r)switch(r){case Dn:return R;case On:return E;case Fn:return j;case Rn:return M;case An:return O}return t});var So=Oe?Ji:gl;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Eo(e){return e===e&&!es(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in ke(n)))}}function Po(e,t,r){return t=qt(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=qt(a.length-t,0),s=n(i);++o<i;)s[o]=a[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=a[o];return l[t]=r(s),Pt(e,this,l)}}function jo(e,t){return t.length<2?e:Sr(e,ra(t,0,-1))}function To(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Mo=Fo(ea),No=ct||function(e,t){return mt.setTimeout(e,t)},Do=Fo(ta);function Oo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(v,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Fo(e){var t=0,n=0;return function(){var r=_n(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Ro(e,t){var n=-1,r=e.length,o=r-1;for(t=t===a?r:t;++n<t;){var i=qr(n,o),s=e[i];e[i]=e[n],e[n]=s}return e.length=t,e}var Ao=function(e){var t=Fi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,a){t.push(r?a.replace(he,"$1"):n||e)})),t}));function Io(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Lo(e){if(null!=e){try{return Fe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bo(e){if(e instanceof Vn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=Ta(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Xr((function(e,t){return Ki(e)?dr(e,vr(t,1,Ki,!0)):[]})),Wo=Xr((function(e,t){var n=Xo(t);return Ki(n)&&(n=a),Ki(e)?dr(e,vr(t,1,Ki,!0),lo(n,2)):[]})),zo=Xr((function(e,t){var n=Xo(t);return Ki(n)&&(n=a),Ki(e)?dr(e,vr(t,1,Ki,!0),a,n):[]}));function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:ps(n);return a<0&&(a=qt(r+a,0)),zt(e,lo(t,3),a)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==a&&(o=ps(n),o=n<0?qt(r+o,0):yn(o,r-1)),zt(e,lo(t,3),o,!0)}function Go(e){return(null==e?0:e.length)?vr(e,1):[]}function Ho(e){return e&&e.length?e[0]:a}var Ko=Xr((function(e){var t=Rt(e,va);return t.length&&t[0]===e[0]?Tr(t):[]})),qo=Xr((function(e){var t=Xo(e),n=Rt(e,va);return t===Xo(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Tr(n,lo(t,2)):[]})),Yo=Xr((function(e){var t=Xo(e),n=Rt(e,va);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,a,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Jo=Xr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Zo=no((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Kr(e,Rt(t,(function(e){return yo(e,n)?+e:e})).sort(ka)),r}));function ei(e){return null==e?e:Sn.call(e)}var ti=Xr((function(e){return ca(vr(e,1,Ki,!0))})),ni=Xr((function(e){var t=Xo(e);return Ki(t)&&(t=a),ca(vr(e,1,Ki,!0),lo(t,2))})),ri=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:a,ca(vr(e,1,Ki,!0),a,t)}));function ai(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ki(e))return t=qt(e.length,t),!0})),Jt(t,(function(t){return Rt(e,Kt(t))}))}function oi(e,t){if(!e||!e.length)return[];var n=ai(e);return null==t?n:Rt(n,(function(e){return Pt(t,a,e)}))}var ii=Xr((function(e,t){return Ki(e)?dr(e,t):[]})),si=Xr((function(e){return ma(Dt(e,Ki))})),li=Xr((function(e){var t=Xo(e);return Ki(t)&&(t=a),ma(Dt(e,Ki),lo(t,2))})),ui=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:a,ma(Dt(e,Ki),a,t)})),ci=Xr(ai);var di=Xr((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,oi(e,n)}));function fi(e){var t=Un(e);return t.__chain__=!0,t}function hi(e,t){return t(e)}var pi=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&yo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hi,args:[o],thisArg:a}),new $n(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var mi=Na((function(e,t,n){Re.call(e,n)?++e[n]:or(e,n,1)}));var gi=La($o),vi=La(Vo);function bi(e,t){return(Vi(e)?Tt:fr)(e,lo(t,3))}function yi(e,t){return(Vi(e)?Mt:hr)(e,lo(t,3))}var _i=Na((function(e,t,n){Re.call(e,n)?e[n].push(t):or(e,n,[t])}));var xi=Xr((function(e,t,r){var a=-1,o="function"==typeof t,i=Hi(e)?n(e.length):[];return fr(e,(function(e){i[++a]=o?Pt(t,e,r):Mr(e,t,r)})),i})),wi=Na((function(e,t,n){or(e,n,t)}));function Si(e,t){return(Vi(e)?Rt:Br)(e,lo(t,3))}var Ci=Na((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ei=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_o(e,t[0],t[1])?t=[]:n>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),ki=at||function(){return mt.Date.now()};function Pi(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Ja(e,d,a,a,a,a,t)}function ji(e,t){var n;if("function"!=typeof t)throw new Te(o);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var Ti=Xr((function(e,t,n){var r=1;if(n.length){var a=dn(n,so(Ti));r|=u}return Ja(e,r,t,n,a)})),Mi=Xr((function(e,t,n){var r=3;if(n.length){var a=dn(n,so(Mi));r|=u}return Ja(t,r,e,n,a)}));function Ni(e,t,n){var r,i,s,l,u,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(o);function m(t){var n=r,o=i;return r=i=a,d=t,l=e.apply(o,n)}function g(e){var n=e-c;return c===a||n>=t||n<0||h&&e-d>=s}function v(){var e=ki();if(g(e))return b(e);u=No(v,function(e){var n=t-(e-c);return h?yn(n,s-(e-d)):n}(e))}function b(e){return u=a,p&&r?m(e):(r=i=a,l)}function y(){var e=ki(),n=g(e);if(r=arguments,i=this,c=e,n){if(u===a)return function(e){return d=e,u=No(v,t),f?m(e):l}(c);if(h)return wa(u),u=No(v,t),m(c)}return u===a&&(u=No(v,t)),l}return t=gs(t)||0,es(n)&&(f=!!n.leading,s=(h="maxWait"in n)?qt(gs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){u!==a&&wa(u),d=0,r=c=i=u=a},y.flush=function(){return u===a?l:b(ki())},y}var Di=Xr((function(e,t){return cr(e,1,t)})),Oi=Xr((function(e,t,n){return cr(e,gs(t)||0,n)}));function Fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(o);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(Fi.Cache||Kn),n}function Ri(e){if("function"!=typeof e)throw new Te(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fi.Cache=Kn;var Ai=_a((function(e,t){var n=(t=1==t.length&&Vi(t[0])?Rt(t[0],Zt(lo())):Rt(vr(t,1),Zt(lo()))).length;return Xr((function(r){for(var a=-1,o=yn(r.length,n);++a<o;)r[a]=t[a].call(this,r[a]);return Pt(e,this,r)}))})),Ii=Xr((function(e,t){var n=dn(t,so(Ii));return Ja(e,u,a,t,n)})),Li=Xr((function(e,t){var n=dn(t,so(Li));return Ja(e,c,a,t,n)})),Bi=no((function(e,t){return Ja(e,f,a,a,a,t)}));function Ui(e,t){return e===t||e!==e&&t!==t}var Wi=Ha(kr),zi=Ha((function(e,t){return e>=t})),$i=Nr(function(){return arguments}())?Nr:function(e){return ts(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Vi=n.isArray,Gi=xt?Zt(xt):function(e){return ts(e)&&Er(e)==F};function Hi(e){return null!=e&&Zi(e.length)&&!Ji(e)}function Ki(e){return ts(e)&&Hi(e)}var qi=vt||gl,Yi=wt?Zt(wt):function(e){return ts(e)&&Er(e)==x};function Xi(e){if(!ts(e))return!1;var t=Er(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ji(e){if(!es(e))return!1;var t=Er(e);return t==S||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qi(e){return"number"==typeof e&&e==ps(e)}function Zi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=St?Zt(St):function(e){return ts(e)&&mo(e)==E};function rs(e){return"number"==typeof e||ts(e)&&Er(e)==k}function as(e){if(!ts(e)||Er(e)!=P)return!1;var t=He(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fe.call(n)==Be}var os=Ct?Zt(Ct):function(e){return ts(e)&&Er(e)==T};var is=Et?Zt(Et):function(e){return ts(e)&&mo(e)==M};function ss(e){return"string"==typeof e||!Vi(e)&&ts(e)&&Er(e)==N}function ls(e){return"symbol"==typeof e||ts(e)&&Er(e)==D}var us=kt?Zt(kt):function(e){return ts(e)&&Zi(e.length)&&!!lt[Er(e)]};var cs=Ha(Lr),ds=Ha((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Hi(e))return ss(e)?mn(e):Ta(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=mo(e);return(t==E?un:t==M?fn:Us)(e)}function hs(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?sr(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(ls(e))return m;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||ye.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?m:+e}function vs(e){return Ma(e,Ds(e))}function bs(e){return null==e?"":ua(e)}var ys=Da((function(e,t){if(Co(t)||Hi(t))Ma(t,Ns(t),e);else for(var n in t)Re.call(t,n)&&tr(e,n,t[n])})),_s=Da((function(e,t){Ma(t,Ds(t),e)})),xs=Da((function(e,t,n,r){Ma(t,Ds(t),e,r)})),ws=Da((function(e,t,n,r){Ma(t,Ns(t),e,r)})),Ss=no(ir);var Cs=Xr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:a;for(o&&_o(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],s=Ds(i),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===a||Ui(d,De[c])&&!Re.call(e,c))&&(e[c]=i[c])}return e})),Es=Xr((function(e){return e.push(a,Za),Pt(Fs,a,e)}));function ks(e,t,n){var r=null==e?a:Sr(e,t);return r===a?n:r}function Ps(e,t){return null!=e&&go(e,t,jr)}var js=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),el(rl)),Ts=Wa((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ms=Xr(Mr);function Ns(e){return Hi(e)?Xn(e):Ar(e)}function Ds(e){return Hi(e)?Xn(e,!0):Ir(e)}var Os=Da((function(e,t,n){zr(e,t,n)})),Fs=Da((function(e,t,n,r){zr(e,t,n,r)})),Rs=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=ya(t,e),r||(r=t.length>1),t})),Ma(e,ao(e),n),r&&(n=lr(n,7,eo));for(var a=t.length;a--;)da(n,t[a]);return n}));var As=no((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ps(e,n)}))}(e,t)}));function Is(e,t){if(null==e)return{};var n=Rt(ao(e),(function(e){return[e]}));return t=lo(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Ls=Xa(Ns),Bs=Xa(Ds);function Us(e){return null==e?[]:en(e,Ns(e))}var Ws=Aa((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Xs(bs(e).toLowerCase())}function $s(e){return(e=bs(e))&&e.replace(xe,an).replace(tt,"")}var Vs=Aa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=Aa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hs=Ra("toLowerCase");var Ks=Aa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=Aa((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ys=Aa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Ra("toUpperCase");function Js(e,t,n){return e=bs(e),(t=n?a:t)===a?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Xr((function(e,t){try{return Pt(e,a,t)}catch(n){return Xi(n)?n:new se(n)}})),Zs=no((function(e,t){return Tt(t,(function(t){t=Io(t),or(e,t,Ti(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ba(),nl=Ba(!0);function rl(e){return e}function al(e){return Rr("function"==typeof e?e:lr(e,1))}var ol=Xr((function(e,t){return function(n){return Mr(n,e,t)}})),il=Xr((function(e,t){return function(n){return Mr(e,n,t)}}));function sl(e,t,n){var r=Ns(t),a=wr(t,r);null!=n||es(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=wr(t,Ns(t)));var o=!(es(n)&&"chain"in n)||!!n.chain,i=Ji(e);return Tt(a,(function(n){var r=t[n];e[n]=r,i&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ta(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,At([this.value()],arguments))})})),e}function ll(){}var ul=$a(Rt),cl=$a(Nt),dl=$a(Bt);function fl(e){return xo(e)?Kt(Io(e)):function(e){return function(t){return Sr(t,e)}}(e)}var hl=Ga(),pl=Ga(!0);function ml(){return[]}function gl(){return!1}var vl=za((function(e,t){return e+t}),0),bl=qa("ceil"),yl=za((function(e,t){return e/t}),1),_l=qa("floor");var xl=za((function(e,t){return e*t}),1),wl=qa("round"),Sl=za((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Te(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Pi,Un.assign=ys,Un.assignIn=_s,Un.assignInWith=xs,Un.assignWith=ws,Un.at=Ss,Un.before=ji,Un.bind=Ti,Un.bindAll=Zs,Un.bindKey=Mi,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vi(e)?e:[e]},Un.chain=fi,Un.chunk=function(e,t,r){t=(r?_o(e,t,r):t===a)?1:qt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,l=n(ht(o/t));i<o;)l[s++]=ra(e,i,i+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return At(Vi(r)?Ta(r):[r],vr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Te(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var a=e[r];if(Pt(a[0],this,n))return Pt(a[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ns(e);return function(n){return ur(n,e,t)}}(lr(e,1))},Un.constant=el,Un.countBy=mi,Un.create=function(e,t){var n=Wn(e);return null==t?n:ar(n,t)},Un.curry=function e(t,n,r){var o=Ja(t,8,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Ja(t,l,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},Un.debounce=Ni,Un.defaults=Cs,Un.defaultsDeep=Es,Un.defer=Di,Un.delay=Oi,Un.difference=Uo,Un.differenceBy=Wo,Un.differenceWith=zo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=n||t===a?1:ps(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,0,(t=r-(t=n||t===a?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ha(e,lo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ha(e,lo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&_o(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(r=r===a||r>o?o:ps(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Vi(e)?Dt:gr)(e,lo(t,3))},Un.flatMap=function(e,t){return vr(Si(e,t),1)},Un.flatMapDeep=function(e,t){return vr(Si(e,t),h)},Un.flatMapDepth=function(e,t,n){return n=n===a?1:ps(n),vr(Si(e,t),n)},Un.flatten=Go,Un.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===a?1:ps(t)):[]},Un.flip=function(e){return Ja(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},Un.functions=function(e){return null==e?[]:wr(e,Ns(e))},Un.functionsIn=function(e){return null==e?[]:wr(e,Ds(e))},Un.groupBy=_i,Un.initial=function(e){return(null==e?0:e.length)?ra(e,0,-1):[]},Un.intersection=Ko,Un.intersectionBy=qo,Un.intersectionWith=Yo,Un.invert=js,Un.invertBy=Ts,Un.invokeMap=xi,Un.iteratee=al,Un.keyBy=wi,Un.keys=Ns,Un.keysIn=Ds,Un.map=Si,Un.mapKeys=function(e,t){var n={};return t=lo(t,3),_r(e,(function(e,r,a){or(n,t(e,r,a),e)})),n},Un.mapValues=function(e,t){var n={};return t=lo(t,3),_r(e,(function(e,r,a){or(n,r,t(e,r,a))})),n},Un.matches=function(e){return Ur(lr(e,1))},Un.matchesProperty=function(e,t){return Wr(e,lr(t,1))},Un.memoize=Fi,Un.merge=Os,Un.mergeWith=Fs,Un.method=ol,Un.methodOf=il,Un.mixin=sl,Un.negate=Ri,Un.nthArg=function(e){return e=ps(e),Xr((function(t){return $r(t,e)}))},Un.omit=Rs,Un.omitBy=function(e,t){return Is(e,Ri(lo(t)))},Un.once=function(e){return ji(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Vi(t)||(t=null==t?[]:[t]),Vi(n=r?a:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Un.over=ul,Un.overArgs=Ai,Un.overEvery=cl,Un.overSome=dl,Un.partial=Ii,Un.partialRight=Li,Un.partition=Ci,Un.pick=As,Un.pickBy=Is,Un.property=fl,Un.propertyOf=function(e){return function(t){return null==e?a:Sr(e,t)}},Un.pull=Jo,Un.pullAll=Qo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,lo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,a,n):e},Un.pullAt=Zo,Un.range=hl,Un.rangeRight=pl,Un.rearg=Bi,Un.reject=function(e,t){return(Vi(e)?Dt:gr)(e,Ri(lo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=lo(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return Kr(e,a),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Te(o);return Xr(e,t=t===a?t:ps(t))},Un.reverse=ei,Un.sampleSize=function(e,t,n){return t=(n?_o(e,t,n):t===a)?1:ps(t),(Vi(e)?Qn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:Zr(e,t,n,r)},Un.shuffle=function(e){return(Vi(e)?Zn:na)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_o(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===a?r:ps(n)),ra(e,t,n)):[]},Un.sortBy=Ei,Un.sortedUniq=function(e){return e&&e.length?sa(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?sa(e,lo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&_o(e,t,n)&&(t=n=a),(n=n===a?g:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ua(t))&&ln(e)?xa(mn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Te(o);return t=null==t?0:qt(ps(t),0),Xr((function(n){var r=n[t],a=xa(n,0,t);return r&&At(a,r),Pt(e,this,a)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ra(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ra(e,0,(t=n||t===a?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=r-(t=n||t===a?1:ps(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ha(e,lo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ha(e,lo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Te(o);return es(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Ni(e,t,{leading:r,maxWait:t,trailing:a})},Un.thru=hi,Un.toArray=fs,Un.toPairs=Ls,Un.toPairsIn=Bs,Un.toPath=function(e){return Vi(e)?Rt(e,Io):ls(e)?[e]:Ta(Ao(bs(e)))},Un.toPlainObject=vs,Un.transform=function(e,t,n){var r=Vi(e),a=r||qi(e)||us(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=a?r?new o:[]:es(e)&&Ji(o)?Wn(He(e)):{}}return(a?Tt:_r)(e,(function(e,r,a){return t(n,e,r,a)})),n},Un.unary=function(e){return Pi(e,1)},Un.union=ti,Un.unionBy=ni,Un.unionWith=ri,Un.uniq=function(e){return e&&e.length?ca(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ca(e,lo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?ca(e,a,t):[]},Un.unset=function(e,t){return null==e||da(e,t)},Un.unzip=ai,Un.unzipWith=oi,Un.update=function(e,t,n){return null==e?e:fa(e,t,ba(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:fa(e,t,ba(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Ds(e))},Un.without=ii,Un.words=Js,Un.wrap=function(e,t){return Ii(ba(t),e)},Un.xor=si,Un.xorBy=li,Un.xorWith=ui,Un.zip=ci,Un.zipObject=function(e,t){return ga(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return ga(e||[],t||[],Zr)},Un.zipWith=di,Un.entries=Ls,Un.entriesIn=Bs,Un.extend=_s,Un.extendWith=xs,sl(Un,Un),Un.add=vl,Un.attempt=Qs,Un.camelCase=Ws,Un.capitalize=zs,Un.ceil=bl,Un.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=gs(n))===n?n:0),t!==a&&(t=(t=gs(t))===t?t:0),sr(gs(e),t,n)},Un.clone=function(e){return lr(e,4)},Un.cloneDeep=function(e){return lr(e,5)},Un.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:a)},Un.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:a)},Un.conformsTo=function(e,t){return null==t||ur(e,t,Ns(t))},Un.deburr=$s,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=yl,Un.endsWith=function(e,t,n){e=bs(e),t=ua(t);var r=e.length,o=n=n===a?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ui,Un.escape=function(e){return(e=bs(e))&&J.test(e)?e.replace(Y,on):e},Un.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ae,"\\$&"):e},Un.every=function(e,t,n){var r=Vi(e)?Nt:pr;return n&&_o(e,t,n)&&(t=a),r(e,lo(t,3))},Un.find=gi,Un.findIndex=$o,Un.findKey=function(e,t){return Wt(e,lo(t,3),_r)},Un.findLast=vi,Un.findLastIndex=Vo,Un.findLastKey=function(e,t){return Wt(e,lo(t,3),xr)},Un.floor=_l,Un.forEach=bi,Un.forEachRight=yi,Un.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Ds)},Un.forInRight=function(e,t){return null==e?e:yr(e,lo(t,3),Ds)},Un.forOwn=function(e,t){return e&&_r(e,lo(t,3))},Un.forOwnRight=function(e,t){return e&&xr(e,lo(t,3))},Un.get=ks,Un.gt=Wi,Un.gte=zi,Un.has=function(e,t){return null!=e&&go(e,t,Pr)},Un.hasIn=Ps,Un.head=Ho,Un.identity=rl,Un.includes=function(e,t,n,r){e=Hi(e)?e:Us(e),n=n&&!r?ps(n):0;var a=e.length;return n<0&&(n=qt(a+n,0)),ss(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&$t(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:ps(n);return a<0&&(a=qt(r+a,0)),$t(e,t,a)},Un.inRange=function(e,t,n){return t=hs(t),n===a?(n=t,t=0):n=hs(n),function(e,t,n){return e>=yn(t,n)&&e<qt(t,n)}(e=gs(e),t,n)},Un.invoke=Ms,Un.isArguments=$i,Un.isArray=Vi,Un.isArrayBuffer=Gi,Un.isArrayLike=Hi,Un.isArrayLikeObject=Ki,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Er(e)==_},Un.isBuffer=qi,Un.isDate=Yi,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!as(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Hi(e)&&(Vi(e)||"string"==typeof e||"function"==typeof e.splice||qi(e)||us(e)||$i(e)))return!e.length;var t=mo(e);if(t==E||t==M)return!e.size;if(Co(e))return!Ar(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Dr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?Dr(e,t,a,n):!!r},Un.isError=Xi,Un.isFinite=function(e){return"number"==typeof e&&yt(e)},Un.isFunction=Ji,Un.isInteger=Qi,Un.isLength=Zi,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Or(e,t,co(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Or(e,t,co(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=as,Un.isRegExp=os,Un.isSafeInteger=function(e){return Qi(e)&&e>=-9007199254740991&&e<=p},Un.isSet=is,Un.isString=ss,Un.isSymbol=ls,Un.isTypedArray=us,Un.isUndefined=function(e){return e===a},Un.isWeakMap=function(e){return ts(e)&&mo(e)==O},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Er(e)},Un.join=function(e,t){return null==e?"":_t.call(e,t)},Un.kebabCase=Vs,Un.last=Xo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==a&&(o=(o=ps(n))<0?qt(r+o,0):yn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Gt,o,!0)},Un.lowerCase=Gs,Un.lowerFirst=Hs,Un.lt=cs,Un.lte=ds,Un.max=function(e){return e&&e.length?mr(e,rl,kr):a},Un.maxBy=function(e,t){return e&&e.length?mr(e,lo(t,2),kr):a},Un.mean=function(e){return Ht(e,rl)},Un.meanBy=function(e,t){return Ht(e,lo(t,2))},Un.min=function(e){return e&&e.length?mr(e,rl,Lr):a},Un.minBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Lr):a},Un.stubArray=ml,Un.stubFalse=gl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xl,Un.nth=function(e,t){return e&&e.length?$r(e,ps(t)):a},Un.noConflict=function(){return mt._===this&&(mt._=Ue),this},Un.noop=ll,Un.now=ki,Un.pad=function(e,t,n){e=bs(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Va(pt(a),n)+e+Va(ht(a),n)},Un.padEnd=function(e,t,n){e=bs(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Va(t-r,n):e},Un.padStart=function(e,t,n){e=bs(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Va(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(bs(e).replace(ie,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_o(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=hs(e),t===a?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=wn();return yn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return qr(e,t)},Un.reduce=function(e,t,n){var r=Vi(e)?It:Yt,a=arguments.length<3;return r(e,lo(t,4),n,a,fr)},Un.reduceRight=function(e,t,n){var r=Vi(e)?Lt:Yt,a=arguments.length<3;return r(e,lo(t,4),n,a,hr)},Un.repeat=function(e,t,n){return t=(n?_o(e,t,n):t===a)?1:ps(t),Yr(bs(e),t)},Un.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=ya(t,e)).length;for(o||(o=1,e=a);++r<o;){var i=null==e?a:e[Io(t[r])];i===a&&(r=o,i=n),e=Ji(i)?i.call(e):i}return e},Un.round=wl,Un.runInContext=e,Un.sample=function(e){return(Vi(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Hi(e))return ss(e)?pn(e):e.length;var t=mo(e);return t==E||t==M?e.size:Ar(e).length},Un.snakeCase=Ks,Un.some=function(e,t,n){var r=Vi(e)?Bt:aa;return n&&_o(e,t,n)&&(t=a),r(e,lo(t,3))},Un.sortedIndex=function(e,t){return oa(e,t)},Un.sortedIndexBy=function(e,t,n){return ia(e,t,lo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oa(e,t);if(r<n&&Ui(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oa(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ia(e,t,lo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oa(e,t,!0)-1;if(Ui(e[n],t))return n}return-1},Un.startCase=qs,Un.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:sr(ps(n),0,e.length),t=ua(t),e.slice(n,n+t.length)==t},Un.subtract=Sl,Un.sum=function(e){return e&&e.length?Xt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&_o(e,t,n)&&(t=a),e=bs(e),t=xs({},t,r,Qa);var o,i,s=xs({},t.imports,r.imports,Qa),l=Ns(s),u=en(s,l),c=0,d=t.interpolate||we,f="__p += '",h=Pe((t.escape||we).source+"|"+d.source+"|"+(d===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,r,a,s,l){return r||(r=a),f+=e.slice(c,l).replace(Se,sn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(G,""):f).replace(H,"$1").replace(K,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Qs((function(){return Ce(l,p+"return "+f).apply(a,u)}));if(g.source=f,Xi(g))throw g;return g},Un.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=g,r=yn(e,g);t=lo(t),e-=g;for(var a=Jt(r,t);++n<e;)t(n);return a},Un.toFinite=hs,Un.toInteger=ps,Un.toLength=ms,Un.toLower=function(e){return bs(e).toLowerCase()},Un.toNumber=gs,Un.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Un.toString=bs,Un.toUpper=function(e){return bs(e).toUpperCase()},Un.trim=function(e,t,n){if((e=bs(e))&&(n||t===a))return Qt(e);if(!e||!(t=ua(t)))return e;var r=mn(e),o=mn(t);return xa(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===a))return e.slice(0,gn(e)+1);if(!e||!(t=ua(t)))return e;var r=mn(e);return xa(r,0,rn(r,mn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===a))return e.replace(ie,"");if(!e||!(t=ua(t)))return e;var r=mn(e);return xa(r,nn(r,mn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?ps(t.length):n,r="omission"in t?ua(t.omission):r}var i=(e=bs(e)).length;if(ln(e)){var s=mn(e);i=s.length}if(n>=i)return e;var l=n-pn(r);if(l<1)return r;var u=s?xa(s,0,l).join(""):e.slice(0,l);if(o===a)return u+r;if(s&&(l+=u.length-l),os(o)){if(e.slice(l).search(o)){var c,d=u;for(o.global||(o=Pe(o.source,bs(me.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var f=c.index;u=u.slice(0,f===a?l:f)}}else if(e.indexOf(ua(o),l)!=l){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+r},Un.unescape=function(e){return(e=bs(e))&&X.test(e)?e.replace(q,vn):e},Un.uniqueId=function(e){var t=++Ae;return bs(e)+t},Un.upperCase=Ys,Un.upperFirst=Xs,Un.each=bi,Un.eachRight=yi,Un.first=Ho,sl(Un,function(){var e={};return _r(Un,(function(t,n){Re.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Tt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===a?1:qt(ps(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(rl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Mr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ri(lo(e)))},Vn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},_r(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Vn,u=s[0],c=l||Vi(t),d=function(e){var t=o.apply(Un,At([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=i&&!f,m=l&&!h;if(!i&&c){t=m?t:new Vn(this);var g=e.apply(t,s);return g.__actions__.push({func:hi,args:[d],thisArg:a}),new $n(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(Vi(a)?a:[],e)}return this[n]((function(n){return t.apply(Vi(n)?n:[],e)}))}})),_r(Vn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Ua(a,2).name]=[{name:"wrapper",func:a}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ta(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ta(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ta(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vi(e),r=t<0,a=n?e.length:0,o=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var o=n[r],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=yn(t,e+i);break;case"takeRight":e=qt(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,s=o.end,l=s-i,u=r?s:i-1,c=this.__iteratees__,d=c.length,f=0,h=yn(l,this.__takeCount__);if(!n||!r&&a==l&&h==l)return pa(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],b=v.iteratee,y=v.type,_=b(g);if(2==y)g=_;else if(!_){if(1==y)continue e;break e}}p[f++]=g}return p},Un.prototype.at=pi,Un.prototype.chain=function(){return fi(this)},Un.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===a&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Bo(n);r.__index__=0,r.__values__=a,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:hi,args:[ei],thisArg:a}),new $n(t,this.__chain__)}return this.thru(ei)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pa(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Je&&(Un.prototype[Je]=function(){return this}),Un}();mt._=bn,(r=function(){return bn}.call(t,n,t,e))===a||(e.exports=r)}.call(this)},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var A,I=Object.assign;function L(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function W(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ce=null;function Ee(e){if(e=ya(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=xa(t),we(e.stateNode,e.type,t))}}function ke(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function je(e,t){return e(t)}function Te(){}var Me=!1;function Ne(e,t,n){if(Me)return e(t,n);Me=!0;try{return je(e,t,n)}finally{Me=!1,(null!==Se||null!==Ce)&&(Te(),Pe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){Oe=!1}function Re(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ae=!1,Ie=null,Le=!1,Be=null,Ue={onError:function(e){Ae=!0,Ie=e}};function We(e,t,n,r,a,o,i,s,l){Ae=!1,Ie=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,qe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,St,Ct,Et,kt=!1,Pt=[],jt=null,Tt=null,Mt=null,Nt=new Map,Dt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function At(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ba(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Ut(){kt=!1,null!==jt&&Lt(jt)&&(jt=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Mt&&Lt(Mt)&&(Mt=null),Nt.forEach(Bt),Dt.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Wt(t,e)}if(0<Pt.length){Wt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Wt(jt,e),null!==Tt&&Wt(Tt,e),null!==Mt&&Wt(Mt,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)It(n),null===n.blockedOn&&Ot.shift()}var $t=_.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var a=yt,o=$t.transition;$t.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=a,$t.transition=o}}function Ht(e,t,n,r){var a=yt,o=$t.transition;$t.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=a,$t.transition=o}}function Kt(e,t,n,r){if(Vt){var a=Yt(e,t,n,r);if(null===a)Vr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jt=At(jt,e,t,n,r,a),!0;case"dragenter":return Tt=At(Tt,e,t,n,r,a),!0;case"mouseover":return Mt=At(Mt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Nt.set(o,At(Nt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Dt.set(o,At(Dt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==a;){var o=ya(a);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=ba(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=I({},un,{view:0,detail:0}),fn=an(dn),hn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(I({},hn,{dataTransfer:0})),gn=an(I({},dn,{relatedTarget:0})),vn=an(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=I({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),_n=an(I({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Cn}var kn=I({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(kn),jn=an(I({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=an(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=I({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Nn),On=[9,13,27,32],Fn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var An=c&&"TextEvent"in window&&!Rn,In=c&&(!Fn||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function qn(e){Lr(e,0)}function Yn(e){if(K(_a(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Qn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,xe(e)),Ne(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Hr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Cr={};function Er(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Er("animationend"),Pr=Er("animationiteration"),jr=Er("animationstart"),Tr=Er("transitionend"),Mr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Mr.set(e,t),l(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Fr=Nr[Or];Dr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Dr(kr,"onAnimationEnd"),Dr(Pr,"onAnimationIteration"),Dr(jr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(We.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var c=Ie;Ae=!1,Ie=null,Le||(Le=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Ir(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Ir(a,s,u),o=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Wr]){e[Wr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Xt(t)){case 1:var a=Gt;break;case 4:a=Ht;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ba(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,a=xe(n),i=[];e:{var s=Mr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case kr:case Pr:case jr:l=vn;break;case Tr:l=Mn;break;case"scroll":l=fn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=De(p,f))&&c.push(Gr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!ba(u)&&!u[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ba(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:_a(l),h=null==u?s:_a(u),(s=new c(m,p+"leave",l,n,a)).target=d,s.relatedTarget=h,m=null,ba(a)===r&&((c=new c(f,p+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Kr(h))p++;for(h=0,m=f;m;m=Kr(m))h++;for(;0<p-h;)c=Kr(c),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==l&&qr(i,s,l,c,!1),null!==u&&null!==d&&qr(i,d,u,c,!0)}if("select"===(l=(s=r?_a(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Vn(s))if(Jn)g=ir;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?_a(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,_r(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(i,n,a)}var b;if(Fn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(b=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,zn=!0)),0<(v=Hr(r,y)).length&&(y=new _n(y,e,null,n,a),i.push({event:y,listeners:v}),b?y.data=b:null!==(b=Wn(n))&&(y.data=b))),(b=An?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Fn&&Un(e,t)?(e=en(),Zt=Qt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Lr(i,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=De(e,n))&&r.unshift(Gr(e,o,a)),null!=(o=De(e,t))&&r.push(Gr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=De(n,o))&&i.unshift(Gr(n,l,s)):a||null!=(l=De(n,o))&&i.push(Gr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[fa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xa(e){return e[ha]||null}var wa=[],Sa=-1;function Ca(e){return{current:e}}function Ea(e){0>Sa||(e.current=wa[Sa],wa[Sa]=null,Sa--)}function ka(e,t){Sa++,wa[Sa]=e.current,e.current=t}var Pa={},ja=Ca(Pa),Ta=Ca(!1),Ma=Pa;function Na(e,t){var n=e.type.contextTypes;if(!n)return Pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ea(Ta),Ea(ja)}function Fa(e,t,n){if(ja.current!==Pa)throw Error(o(168));ka(ja,t),ka(Ta,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,$(e)||"Unknown",a));return I({},n,r)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Ma=ja.current,ka(ja,e),ka(Ta,Ta.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ra(e,t,Ma),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(ja),ka(ja,e)):Ea(Ta),ka(Ta,n)}var La=null,Ba=!1,Ua=!1;function Wa(e){null===La?La=[e]:La.push(e)}function za(){if(!Ua&&null!==La){Ua=!0;var e=0,t=yt;try{var n=La;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Ba=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),Ke(Ze,za),a}finally{yt=t,Ua=!1}}return null}var $a=[],Va=0,Ga=null,Ha=0,Ka=[],qa=0,Ya=null,Xa=1,Ja="";function Qa(e,t){$a[Va++]=Ha,$a[Va++]=Ga,Ga=e,Ha=t}function Za(e,t,n){Ka[qa++]=Xa,Ka[qa++]=Ja,Ka[qa++]=Ya,Ya=e;var r=Xa;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Xa=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Xa=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function to(e){for(;e===Ga;)Ga=$a[--Va],$a[Va]=null,Ha=$a[--Va],$a[Va]=null;for(;e===Ya;)Ya=Ka[--qa],Ka[qa]=null,Ja=Ka[--qa],Ka[qa]=null,Xa=Ka[--qa],Ka[qa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ua(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function _o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&yo(o)===t.type)?((r=a(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Lu(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case w:return n.key===a?c(e,t,n,r):null;case D:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:d(e,t,n,r,null);bo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case D:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);bo(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),ao&&Qa(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Qa(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Qa(a,m),u}function g(a,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=h(a,m,b.value,u);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(a,m),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y,m=v}if(b.done)return n(a,m),ao&&Qa(a,g),c;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=f(a,b.value,u))&&(s=i(b,s,g),null===d?c=b:d.sibling=b,d=b);return ao&&Qa(a,g),c}for(m=r(a,m);!b.done;g++,b=l.next())null!==(b=p(m,a,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),ao&&Qa(a,g),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&yo(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=vo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===S?((o=Ru(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Fu(i.type,i.key,i.props,null,r.mode,l)).ref=vo(r,o,i),l.return=r,r=l)}return s(r);case w:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Lu(i,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(R(i))return g(r,o,i,l);bo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Iu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=_o(!0),wo=_o(!1),So=Ca(null),Co=null,Eo=null,ko=null;function Po(){ko=Eo=Co=null}function jo(e){var t=So.current;Ea(So),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){Co=e,ko=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===Co)throw Error(o(308));Eo=e,Co.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Do=null;function Oo(e){null===Do?Do=[e]:Do.push(e)}function Fo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Oo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ro(e,n)}return null===(a=r.interleaved)?(t.next=t,Oo(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ro(e,n)}function Wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var a=e.updateQueue;Ao=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=I({},d,f);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Al|=i,e.lanes=i,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Go={},Ho=Ca(Go),Ko=Ca(Go),qo=Ca(Go);function Yo(e){if(e===Go)throw Error(o(174));return e}function Xo(e,t){switch(ka(qo,t),ka(Ko,e),ka(Ho,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Ho),ka(Ho,t)}function Jo(){Ea(Ho),Ea(Ko),Ea(qo)}function Qo(e){Yo(qo.current);var t=Yo(Ho.current),n=le(t,e.type);t!==n&&(ka(Ko,e),ka(Ho,n))}function Zo(e){Ko.current===e&&(Ea(Ho),Ea(Ko))}var ei=Ca(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=_.ReactCurrentDispatcher,oi=_.ReactCurrentBatchConfig,ii=0,si=null,li=null,ui=null,ci=!1,di=!1,fi=0,hi=0;function pi(){throw Error(o(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,a,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:es,e=n(r,a),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(o(301));i+=1,ui=li=null,t.updateQueue=null,ai.current=ts,e=n(r,a)}while(di)}if(ai.current=Qi,t=null!==li&&null!==li.next,ii=0,ui=li=si=null,ci=!1,t)throw Error(o(300));return e}function vi(){var e=0!==fi;return fi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?si.memoizedState=ui=e:ui=ui.next=e,ui}function yi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ui?si.memoizedState:ui.next;if(null!==t)ui=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ui?si.memoizedState=ui=e:ui=ui.next=e}return ui}function _i(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=yi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((ii&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,si.lanes|=d,Al|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Al|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ys=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function Ci(e,t){var n=si,r=yi(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ys=!0),r=r.queue,Ai(Pi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ui&&1&ui.memoizedState.tag){if(n.flags|=2048,Ni(9,ki.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&ii)||Ei(n,t,a)}return a}function Ei(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ki(e,t,n,r){t.value=n,t.getSnapshot=r,ji(t)&&Ti(e)}function Pi(e,t,n){return n((function(){ji(t)&&Ti(e)}))}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ti(e){var t=Ro(e,1);null!==t&&nu(t,e,1,-1)}function Mi(e){var t=bi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,si,e),[t.memoizedState,e]}function Ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Di(){return yi().memoizedState}function Oi(e,t,n,r){var a=bi();si.flags|=e,a.memoizedState=Ni(1|t,n,void 0,void 0===r?null:r)}function Fi(e,t,n,r){var a=yi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ni(t,n,o,r))}si.flags|=e,a.memoizedState=Ni(1|t,n,o,r)}function Ri(e,t){return Oi(8390656,8,e,t)}function Ai(e,t){return Fi(2048,8,e,t)}function Ii(e,t){return Fi(4,2,e,t)}function Li(e,t){return Fi(4,4,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,Bi.bind(null,t,e),n)}function Wi(){}function zi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),si.lanes|=n,Al|=n,e.baseState=!0),t)}function Gi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{yt=n,oi.transition=r}}function Hi(){return yi().memoizedState}function Ki(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))Xi(t,n);else if(null!==(n=Fo(e,t,n,r))){nu(n,e,r,eu()),Ji(n,t,r)}}function qi(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Xi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Oo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Fo(e,t,a,r))&&(nu(n,e,r,a=eu()),Ji(n,t,r))}}function Yi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Xi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qi={readContext:No,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:No,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,Bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=bi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Mi,useDebugValue:Wi,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Gi.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=bi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&ii)||Ei(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ri(Pi.bind(null,r,i,e),[e]),r.flags|=2048,Ni(9,ki.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bi(),t=Tl.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-it(Xa)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:No,useCallback:zi,useContext:No,useEffect:Ai,useImperativeHandle:Ui,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:$i,useReducer:xi,useRef:Di,useState:function(){return xi(_i)},useDebugValue:Wi,useDeferredValue:function(e){return Vi(yi(),li.memoizedState,e)},useTransition:function(){return[xi(_i)[0],yi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ci,useId:Hi,unstable_isNewReconciler:!1},ts={readContext:No,useCallback:zi,useContext:No,useEffect:Ai,useImperativeHandle:Ui,useInsertionEffect:Ii,useLayoutEffect:Li,useMemo:$i,useReducer:wi,useRef:Di,useState:function(){return wi(_i)},useDebugValue:Wi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[wi(_i)[0],yi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ci,useId:Hi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Bo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nu(t,e,a,r),Wo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Bo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(nu(t,e,a,r),Wo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Bo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Uo(e,a,r))&&(nu(t,e,r,n),Wo(t,e,r))}};function os(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function is(e,t,n){var r=!1,a=Pa,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(a=Da(t)?Ma:ja.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Na(e,a):Pa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Io(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=No(o):(o=Da(t)?Ma:ja.current,a.context=Na(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),$o(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=r),ds(0,t)},n}function ps(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=_.ReactCurrentOwner,ys=!1;function _s(e,t,n,r){t.child=null===e?wo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var o=t.ref;return Mo(t,a),r=gi(e,t,n,r,o,a),n=vi(),null===e||ys?(ao&&n&&eo(t),t.flags|=1,_s(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function ws(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(ys=!0)}}return ks(e,t,n,r,a)}function Cs(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ka(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ka(Ol,Dl),Dl|=r;return _s(e,t,a,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,a){var o=Da(n)?Ma:ja.current;return o=Na(t,o),Mo(t,a),n=gi(e,t,n,r,o,a),r=vi(),null===e||ys?(ao&&r&&eo(t),t.flags|=1,_s(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Ps(e,t,n,r,a){if(Da(n)){var o=!0;Aa(t)}else o=!1;if(Mo(t,a),null===t.stateNode)$s(e,t),is(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=No(u):u=Na(t,u=Da(n)?Ma:ja.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,i,r,u),Ao=!1;var f=t.memoizedState;i.state=f,$o(t,r,i,a),l=t.memoizedState,s!==r||f!==l||Ta.current||Ao?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Ao||os(t,n,s,r,f,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Lo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),i.props=u,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Na(t,l=Da(n)?Ma:ja.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,i,r,l),Ao=!1,f=t.memoizedState,i.state=f,$o(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||Ta.current||Ao?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(u=Ao||os(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,o,a)}function js(e,t,n,r,a,o){Es(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ia(t,n,!1),Vs(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),Xo(e,t.containerInfo)}function Ms(e,t,n,r,a){return po(),mo(a),t.flags|=256,_s(e,t,n,r),t.child}var Ns,Ds,Os,Fs,Rs={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,n){var r,a=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ka(ei,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Au(l,a,0,null),e=Ru(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Rs,e):Ls(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Au({mode:"visible",children:r.children},a,0,null),(i=Ru(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=As(s),t.memoizedState=Rs,i);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=cs(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=Tl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ro(e,a),nu(r,e,a,-1))}return mu(),Bs(e,t,s,r=cs(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[qa++]=Xa,Ka[qa++]=Ja,Ka[qa++]=Ya,Xa=e.id,Ja=e.overflow,Ya=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ou(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ou(r,s):(s=Ru(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?As(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a}return e=(s=e.child).sibling,a=Ou(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ls(e,t){return(t=Au({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Ws(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function zs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ka(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ws(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Da(t.type)&&Oa(),Hs(t),null;case 3:return r=t.stateNode,Jo(),Ea(Ta),Ea(ja),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(iu(oo),oo=null))),Ds(e,t),Hs(t),null;case 5:Zo(t);var a=Yo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=Yo(Ho.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[ha]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var l in be(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":H(r),Z(r,i,!0);break;case"textarea":H(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":X(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in be(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Br("scroll",e):null!=c&&y(e,i,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Fs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(qo.current),Yo(Ho.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ea(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),i=!1}else null!==oo&&(iu(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Fl&&(Fl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return Jo(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Hs(t),null;case 10:return jo(t.type._context),Hs(t),null;case 19:if(Ea(ei),null===(i=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Gs(i,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Gs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ka(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>zl&&(t.flags|=128,r=!0,Gs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Hs(t),null}else 2*Je()-i.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ei.current,ka(ei,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return Da(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ea(Ta),Ea(ja),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ea(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(ei),null;case 4:return Jo(),null;case 10:return jo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yo(Ho.current);var o,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in be(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=cl,a=dl;cl=null,fl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&el(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(i,s,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Cu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),ye(l,s);var c=ye(l,i);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):y(a,d,f,c)}switch(l){case"input":Q(a,i);break;case"textarea":oe(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(g){Cu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Cu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Wl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||d,ml(t,e),Xs=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Cu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(o(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var u=Xs;if(Ys=i,(Xs=l)&&!u)for(Qs=a;null!==Qs;)l=(i=Qs).child,22===i.tag&&null!==i.memoizedState?wl(a):null!==l?(l.return=i,Qs=l):wl(a);for(;null!==o;)Qs=o,yl(o,t,n),o=o.sibling;Qs=a,Ys=s,Xs=u}_l(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Qs=o):_l(e)}}function _l(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&al(t)}catch(h){Cu(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Cu(t,a,l)}}var o=t.return;try{al(t)}catch(l){Cu(t,o,l)}break;case 5:var i=t.return;try{al(t)}catch(l){Cu(t,i,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Cl=Math.ceil,El=_.ReactCurrentDispatcher,kl=_.ReactCurrentOwner,Pl=_.ReactCurrentBatchConfig,jl=0,Tl=null,Ml=null,Nl=0,Dl=0,Ol=Ca(0),Fl=0,Rl=null,Al=0,Il=0,Ll=0,Bl=null,Ul=null,Wl=0,zl=1/0,$l=null,Vl=!1,Gl=null,Hl=null,Kl=!1,ql=null,Yl=0,Xl=0,Jl=null,Ql=-1,Zl=0;function eu(){return 0!==(6&jl)?Je():-1!==Ql?Ql:Ql=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&jl)&&e===Tl||(e===Tl&&(0===(2&jl)&&(Il|=n),4===Fl&&su(e,Nl)),ru(e,r),1===n&&0===jl&&0===(1&t.mode)&&(zl=Je()+500,Ba&&za()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Tl?Nl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ba=!0,Wa(e)}(lu.bind(null,e)):Wa(lu.bind(null,e)),ia((function(){0===(6&jl)&&za()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Ql=-1,Zl=0,0!==(6&jl))throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=jl;jl|=2;var i=pu();for(Tl===e&&Nl===t||($l=null,zl=Je()+500,fu(e,t));;)try{bu();break}catch(l){hu(e,l)}Po(),El.current=i,jl=a,null!==Ml?t=0:(Tl=null,Nl=0,t=Fl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t)throw n=Rl,fu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t))throw n=Rl,fu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Ul,$l);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Wl+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,Ul,$l),t);break}xu(e,Ul,$l);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,Ul,$l),r);break}xu(e,Ul,$l);break;default:throw Error(o(329))}}}return ru(e,Je()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&iu(t)),e}function iu(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Ll,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&jl))throw Error(o(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Rl,fu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Ul,$l),ru(e,Je()),null}function uu(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(zl=Je()+500,Ba&&za())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&jl)&&wu();var t=jl;jl|=1;var n=Pl.transition,r=yt;try{if(Pl.transition=null,yt=1,e)return e()}finally{yt=r,Pl.transition=n,0===(6&(jl=t))&&za()}}function du(){Dl=Ol.current,Ea(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:Jo(),Ea(Ta),Ea(ja),ri();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ea(ei);break;case 10:jo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Ml=e=Ou(e.current,null),Nl=Dl=t,Fl=0,Rl=null,Ll=Il=Al=0,Ul=Bl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Do=null}return e}function hu(e,t){for(;;){var n=Ml;try{if(Po(),ai.current=Qi,ci){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(ii=0,ui=li=si=null,di=!1,fi=0,kl.current=null,null===n||null===n.return){Fl=1,Rl=t,Ml=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(i,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ms(i,c,t),mu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(us(u,l));break e}}i=u=us(u,l),4!==Fl&&(Fl=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,zo(i,hs(0,u,t));break e;case 1:l=u;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Hl||!Hl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,zo(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}_u(n)}catch(_){t=_,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function pu(){var e=El.current;return El.current=Qi,null===e?Qi:e}function mu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Tl||0===(268435455&Al)&&0===(268435455&Il)||su(Tl,Nl)}function gu(e,t){var n=jl;jl|=2;var r=pu();for(Tl===e&&Nl===t||($l=null,fu(e,t));;)try{vu();break}catch(a){hu(e,a)}if(Po(),jl=n,El.current=r,null!==Ml)throw Error(o(261));return Tl=null,Nl=0,Fl}function vu(){for(;null!==Ml;)yu(Ml)}function bu(){for(;null!==Ml&&!Ye();)yu(Ml)}function yu(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_u(e):Ml=t,kl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Dl)))return void(Ml=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Fl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Fl&&(Fl=5)}function xu(e,t,n){var r=yt,a=Pl.transition;try{Pl.transition=null,yt=1,function(e,t,n,r){do{wu()}while(null!==ql);if(0!==(6&jl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Tl&&(Ml=Tl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tu(tt,(function(){return wu(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var s=yt;yt=1;var l=jl;jl|=4,kl.current=null,function(e,t){if(ea=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==i||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===i&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(x){Cu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Xe(),jl=l,yt=s,Pl.transition=i}else e.current=n;if(Kl&&(Kl=!1,ql=e,Yl=a),i=e.pendingLanes,0===i&&(Hl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&wu(),i=e.pendingLanes,0!==(1&i)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,za()}(e,t,n,r)}finally{Pl.transition=a,yt=r}return null}function wu(){if(null!==ql){var e=_t(Yl),t=Pl.transition,n=yt;try{if(Pl.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&jl))throw Error(o(331));var a=jl;for(jl|=4,Qs=e.current;null!==Qs;){var i=Qs,s=i.child;if(0!==(16&Qs.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(ol(d),d===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(i=Qs).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Qs=b;break e}Qs=i.return}}var y=e.current;for(Qs=y;null!==Qs;){var _=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else e:for(s=y;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cu(l,l.return,w)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(jl=a,za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{yt=n,Pl.transition=t}}return!1}function Su(e,t,n){e=Uo(e,t=hs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Uo(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Nl&n)===n&&(4===Fl||3===Fl&&(130023424&Nl)===Nl&&500>Je()-Wl?fu(e,0):Ll|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ro(e,t))&&(vt(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function ju(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}function Tu(e,t){return Ke(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Mu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ru(n.children,a,i,t);case C:s=8,a|=8;break;case E:return(e=Nu(12,n,t,2|a)).elementType=E,e.lanes=i,e;case T:return(e=Nu(13,n,t,a)).elementType=T,e.lanes=i,e;case M:return(e=Nu(19,n,t,a)).elementType=M,e.lanes=i,e;case O:return Au(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case P:s=9;break e;case j:s=11;break e;case N:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ru(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,a,o,i,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Wu(e){if(!e)return Pa;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Da(n))return Ra(e,n,t)}return t}function zu(e,t,n,r,a,o,i,s,l){return(e=Uu(n,r,!0,e,0,o,0,s,l)).context=Wu(null),n=e.current,(o=Bo(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,a),e.current.lanes=a,vt(e,a,r),ru(e,r),e}function $u(e,t,n,r){var a=t.current,o=eu(),i=tu(a);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(a,t,i))&&(nu(e,a,i,o),Wo(e,a,i)),i}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),po();break;case 5:Qo(t);break;case 1:Da(t.type)&&Aa(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ka(So,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ka(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Is(e,t,n):(ka(ei,1&ei.current),null!==(e=Vs(e,t,n))?e.sibling:null);ka(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Vs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,ao&&0!==(1048576&t.flags)&&Za(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var a=Na(t,ja.current);Mo(t,n),a=gi(null,t,r,e,a,n);var i=vi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(r)?(i=!0,Aa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Io(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),a){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ps(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Lo(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ms(e,t,r,n,a=us(Error(o(423)),t));break e}if(r!==a){t=Ms(e,t,r,n,a=us(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Vs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Es(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Is(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,ka(So,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ta.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Bo(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),To(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Mo(t,n),r=r(a=No(a)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),ws(e,t,r,a=ns(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),$s(e,t),t.tag=1,Da(r)?(e=!0,Aa(t)):e=!1,Mo(t,n),is(t,r,a),ls(t,r,a,n),js(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Zu(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vu(i);s.call(e)}}$u(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vu(i);o.call(e)}}var i=zu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=i,e[pa]=i.current,zr(8===e.nodeType?e.parentNode:e),cu(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pa]=l.current,zr(8===e.nodeType?e.parentNode:e),cu((function(){$u(t,l,n,r)})),l}(n,t,e,a,r);return Vu(i)}Yu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$u(e,t,null,null)},Yu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){$u(null,e,null,null)})),t[pa]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,Je()),0===(6&jl)&&(zl=Je()+500,za()))}break;case 13:cu((function(){var t=Ro(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},wt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ro(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Ct=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(o(90));K(r),Q(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[ya,_a,xa,ke,Pe,uu]},tc={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",a=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,zr(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5043)),a=f(n(5173)),o=f(n(7950)),i=f(n(643)),s=n(1212),l=n(1777),u=n(2447),c=f(n(935)),d=f(n(5387));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:u,defaultClassNameDragged:d,position:f,positionOffset:h,scale:m,...g}=this.props;let v={},b=null;const y=!Boolean(f)||this.state.dragging,_=f||a,x={x:(0,l.canDragX)(this)&&y?this.state.x:_.x,y:(0,l.canDragY)(this)&&y?this.state.y:_.y};this.state.isElementSVG?b=(0,s.createSVGTransform)(x,h):v=(0,s.createCSSTransform)(x,h);const w=(0,i.default)(n.props.className||"",o,{[u]:this.state.dragging,[d]:this.state.dragged});return r.createElement(c.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:w,style:{...n.props.style,...v},transform:b}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),m(g,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5043)),a=c(n(5173)),o=c(n(7950)),i=n(1212),s=n(1777),l=n(2447),u=c(n(5387));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=p;class g extends r.Component{constructor(){super(...arguments),f(this,"dragging",!1),f(this,"lastX",NaN),f(this,"lastY",NaN),f(this,"touchIdentifier",null),f(this,"mounted",!1),f(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:o,y:l}=a,c=(0,s.createCoreData)(this,o,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,i.addEvent)(n,m.move,this.handleDrag),(0,i.addEvent)(n,m.stop,this.handleDragStop))})),f(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);(0,u.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(o){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}})),f(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(o.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,m.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,m.stop,this.handleDragStop))})),f(this,"onMouseDown",(e=>(m=p,this.handleDragStart(e)))),f(this,"onMouseUp",(e=>(m=p,this.handleDragStop(e)))),f(this,"onTouchStart",(e=>(m=h,this.handleDragStart(e)))),f(this,"onTouchEnd",(e=>(m=h,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,p.move,this.handleDrag),(0,i.removeEvent)(t,h.move,this.handleDrag),(0,i.removeEvent)(t,p.stop,this.handleDragStop),(0,i.removeEvent)(t,h.stop,this.handleDragStop),(0,i.removeEvent)(e,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,f(g,"displayName","DraggableCore"),f(g,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),f(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1929:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(8136);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},1212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}};var r=n(2447),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1561));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[i])&&e[i](t)}function l(e,t,n){let{x:r,y:a}=e,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),r="".concat("string"===typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},1561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let o=0;o<n.length;o++)if(a(t,n[o])in r)return n[o];return""}function a(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},5387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},1777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),i=o(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"===typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=o(e);if("string"===typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:e.querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const o=n,l=t.getComputedStyle(s),u=t.getComputedStyle(o);i={left:-s.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(o)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(o)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(2447),a=n(1212);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},5082:(e,t)=>{"use strict";var n=60103,r=60106,a=60107,o=60108,i=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),a=y("react.fragment"),o=y("react.strict_mode"),i=y("react.profiler"),s=y("react.provider"),l=y("react.context"),u=y("react.forward_ref"),c=y("react.suspense"),d=y("react.suspense_list"),f=y("react.memo"),h=y("react.lazy"),p=y("react.block"),m=y("react.server.block"),g=y("react.fundamental"),v=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return _(e)===l}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},7835:(e,t,n)=>{"use strict";n.d(t,{jl:()=>Ee,Wd:()=>Ce,N1:()=>ke,BI:()=>je});var r={};n.r(r),n.d(r,{appendChild:()=>V,appendChildToContainer:()=>G,appendInitialChild:()=>C,cancelTimeout:()=>L,clearContainer:()=>re,commitMount:()=>J,commitTextUpdate:()=>X,commitUpdate:()=>Q,createInstance:()=>E,createTextInstance:()=>k,detachDeletedInstance:()=>ae,finalizeInitialChildren:()=>P,getChildHostContext:()=>A,getCurrentEventPriority:()=>oe,getPublicInstance:()=>j,getRootHostContext:()=>R,hideInstance:()=>Z,hideTextInstance:()=>ee,idlePriority:()=>x.unstable_IdlePriority,insertBefore:()=>H,insertInContainerBefore:()=>K,isPrimaryRenderer:()=>W,noTimeout:()=>B,now:()=>x.unstable_now,prepareForCommit:()=>T,preparePortalMount:()=>M,prepareUpdate:()=>N,removeChild:()=>q,removeChildFromContainer:()=>Y,resetAfterCommit:()=>D,resetTextContent:()=>O,run:()=>x.unstable_runWithPriority,scheduleTimeout:()=>I,shouldDeprioritizeSubtree:()=>F,shouldSetTextContent:()=>U,supportsMutation:()=>$,unhideInstance:()=>te,unhideTextInstance:()=>ne,warnsIfNotActing:()=>z});n(2157);var a=n(5043),o=n(1650),i=n.n(o),s=n(2016),l=n.n(s),u=n(9586),c=n(4602);const d={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let f=!1,h=!1;const p=".react-konva-event";let m=!1;const g="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",v='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',b={};function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;if(!f&&"zIndex"in t&&(console.warn(v),f=!0),!h&&t.draggable){var r=void 0!==t.x||void 0!==t.y,a=t.onDragEnd||t.onDragMove;r&&!a&&(console.warn(g),h=!0)}for(var o in n)if(!d[o]){var i="on"===o.slice(0,2),s=n[o]!==t[o];if(i&&s)"content"===(w=o.substr(2).toLowerCase()).substr(0,7)&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),e.off(w,n[o]);!t.hasOwnProperty(o)&&e.setAttr(o,void 0)}var l=m||t._useStrictMode,u={},c=!1;const y={};for(var o in t)if(!d[o]){i="on"===o.slice(0,2);var x=n[o]!==t[o];if(i&&x)"content"===(w=o.substr(2).toLowerCase()).substr(0,7)&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),t[o]&&(y[w]=t[o]);!i&&(t[o]!==n[o]||l&&t[o]!==e.getAttr(o))&&(c=!0,u[o]=t[o])}for(var w in c&&(e.setAttrs(u),_(e)),y)e.on(w+p,y[w])}function _(e){if(!c.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var x=n(8853);const w={},S={};function C(e,t){"string"!==typeof t?(e.add(t),_(e)):console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`)}function E(e,t,n){let r=i()[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=i().Group);const a={},o={};for(var s in t){"on"===s.slice(0,2)?o[s]=t[s]:a[s]=t[s]}const l=new r(a);return y(l,o),l}function k(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function P(e,t,n){return!1}function j(e){return e}function T(){return null}function M(){return null}function N(e,t,n,r){return S}function D(){}function O(e){}function F(e,t){return!1}function R(){return w}function A(){return w}i().Node.prototype._applyProps=y;const I=setTimeout,L=clearTimeout,B=-1;function U(e,t){return!1}const W=!1,z=!0,$=!0;function V(e,t){t.parent===e?t.moveToTop():e.add(t),_(e)}function G(e,t){t.parent===e?t.moveToTop():e.add(t),_(e)}function H(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),_(e)}function K(e,t,n){H(e,t,n)}function q(e,t){t.destroy(),t.off(p),_(e)}function Y(e,t){t.destroy(),t.off(p),_(e)}function X(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function J(e,t,n){}function Q(e,t,n,r,a){y(e,a,r)}function Z(e){e.hide(),_(e)}function ee(e){}function te(e,t){(null==t.visible||t.visible)&&e.show()}function ne(e,t){}function re(e){}function ae(){}const oe=()=>u.DefaultEventPriority;var ie,se,le=Object.defineProperty,ue=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,me=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&pe(e,n,t[n]);if(de)for(var n of de(t))he.call(t,n)&&pe(e,n,t[n]);return e};"undefined"===typeof window||!(null==(ie=window.document)?void 0:ie.createElement)&&"ReactNative"!==(null==(se=window.navigator)?void 0:se.product)?a.useEffect:a.useLayoutEffect;function ge(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=ge(r,t,n);if(e)return e;r=t?null:r.sibling}}function ve(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const be=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return be.apply(this,arguments);console.error=be};const ye=ve(a.createContext(null));class _e extends a.Component{render(){return a.createElement(ye.Provider,{value:this._reactInternals},this.props.children)}}function xe(){const e=a.useContext(ye);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=a.useId();return a.useMemo((()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=ge(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function we(){const e=function(){const e=xe(),[t]=a.useState((()=>new Map));t.clear();let n=e;for(;n;){if(n.type&&"object"===typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==ye&&!t.has(e)&&t.set(e,a.useContext(ve(e)))}n=n.return}return t}();return a.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>{return a.createElement(t,null,a.createElement(n.Provider,(o=me({},r),i={value:e.get(n)},ue(o,ce(i)))));var o,i}),(e=>a.createElement(_e,me({},e))))),[e])}const Se=e=>{const t=a.useRef(),n=a.useRef(),r=a.useRef(),o=function(e){const t=a.useRef({});return a.useLayoutEffect((()=>{t.current=e})),a.useLayoutEffect((()=>()=>{t.current={}}),[]),t.current}(e),s=we(),l=t=>{const{forwardedRef:n}=e;n&&("function"===typeof n?n(t):n.current=t)};return a.useLayoutEffect((()=>(n.current=new(i().Stage)({width:e.width,height:e.height,container:t.current}),l(n.current),r.current=Pe.createContainer(n.current,u.LegacyRoot,!1,null),Pe.updateContainer(a.createElement(s,{},e.children),r.current),()=>{i().isBrowser&&(l(null),Pe.updateContainer(null,r.current,null),n.current.destroy())})),[]),a.useLayoutEffect((()=>{l(n.current),y(n.current,e,o),Pe.updateContainer(a.createElement(s,{},e.children),r.current,null)})),a.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Ce="Layer",Ee="Circle",ke="Line",Pe=l()(r);Pe.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:a.version,rendererPackageName:"react-konva"});const je=a.forwardRef(((e,t)=>a.createElement(_e,{},a.createElement(Se,{...e,forwardedRef:t}))))},5484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>i}),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},5765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5043),i=p(o),s=p(n(7950)),l=p(n(5173)),u=p(n(1439)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6619)),d=n(8821),f=p(d),h=n(5484);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",b=d.canUseDOM&&void 0!==s.default.createPortal,y=function(e){return document.createElement(e)},_=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var w=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.removePortal=function(){!b&&s.default.unmountComponentAtNode(a.node);var e=x(a.props.parentSelector);e&&e.contains(a.node)?e.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(e){a.portal=e},a.renderPortal=function(e){var n=_()(a,i.default.createElement(u.default,r({defaultStyles:t.defaultStyles},e)),a.node);a.portalRef(n)},m(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=y("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,a=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||a)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=y("div")),_()(i.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(o.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(f.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(f.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},w.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return i.default.createElement("div",e,t)},contentElement:function(e,t){return i.default.createElement("div",e,t)}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(w),t.default=w},1439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5043),s=g(n(5173)),l=m(n(1774)),u=g(n(2206)),c=m(n(6619)),d=m(n(4841)),f=n(8821),h=g(f),p=g(n(2959));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(6062);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,a=e.htmlOpenClassName,o=e.bodyOpenClassName,i=e.parentSelector,s=i&&i().ownerDocument||document;o&&d.remove(s.body,o),a&&d.remove(s.getElementsByTagName("html")[0],a),r&&b>0&&0===(b-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":a(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,a=e.bodyOpenClassName,o=e.parentSelector,i=o&&o().ownerDocument||document;a&&d.add(i.body,a),r&&d.add(i.getElementsByTagName("html")[0],r),n&&(b+=1,c.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.overlayClassName,o=e.defaultStyles,i=e.children,s=n?{}:o.content,l=a?{}:o.overlay;if(this.shouldBeClosed())return null;var u={ref:this.setOverlayRef,className:this.buildClassName("overlay",a),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(c,i);return this.props.overlayElement(u,d)}}]),t}(i.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(h.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(h.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=y,e.exports=t.default},6619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return s=t||s},t.validateElement=u,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=u(e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.setAttribute("aria-hidden","true")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=u(e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.removeAttribute("aria-hidden")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,a=n(6440),o=(r=a)&&r.__esModule?r:{default:r},i=n(8821);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},6062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[i,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}i=s=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[i,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,a=n(2959),o=(r=a)&&r.__esModule?r:{default:r};var i=void 0,s=void 0,l=[];function u(){0!==l.length&&l[l.length-1].focusContent()}o.default.subscribe((function(e,t){i||s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",u),(s=i.cloneNode()).addEventListener("focus",u)),(l=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},4841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)a(e,n[t]);var o=document.body;for(var i in r)a(o,r[i]);n={},r={}},t.log=function(){0};var n={},r={};function a(e,t){e.classList.remove(t)}t.add=function(e,t){return a=e.classList,o="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),a.add(e)}));var a,o},t.remove=function(e,t){return a=e.classList,o="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&a.remove(e)}));var a,o}},1774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){i=[]},t.log=function(){0},t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==i.length&&(t=i.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,a=n(4682),o=(r=a)&&r.__esModule?r:{default:r};var i=[],s=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},2959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},8821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,a=n(7396);var o=((r=a)&&r.__esModule?r:{default:r}).default,i=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=i},2206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,a=t.shiftKey,s=n[0],l=n[n.length-1],u=i();if(e===u){if(!a)return;r=l}l!==u||a||(r=s);s===u&&a&&(r=l);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var d=n.indexOf(u);d>-1&&(d+=a?-1:1);if("undefined"===typeof(r=n[d]))return t.preventDefault(),void(r=a?l:s).focus();t.preventDefault(),r.focus()};var r,a=n(4682),o=(r=a)&&r.__esModule?r:{default:r};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?i(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},4682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",r="contents",a=/^(input|select|textarea|button|object|iframe)$/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var a=window.getComputedStyle(e),o=a.getPropertyValue("display");return t?o!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,a):o===n}catch(i){return console.warn("Failed to inspect element style"),!1}}function i(e,t){var n=e.nodeName.toLowerCase();return(a.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),o(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},2963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(5765),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},7302:(e,t)=>{"use strict";t.DefaultEventPriority=16,t.LegacyRoot=0},6958:(e,t,n)=>{e.exports=function(e){var t={},r=n(5043),a=n(8853),o=Object.assign;function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function w(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(E(e)!==e)throw Error(i(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return k(a),e;if(o===r)return k(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}function j(e){return null!==(e=P(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function M(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=M(e);if(null!==t)return t}e=e.sibling}return null}var N,D=Array.isArray,O=e.getPublicInstance,F=e.getRootHostContext,R=e.getChildHostContext,A=e.prepareForCommit,I=e.resetAfterCommit,L=e.createInstance,B=e.appendInitialChild,U=e.finalizeInitialChildren,W=e.prepareUpdate,z=e.shouldSetTextContent,$=e.createTextInstance,V=e.scheduleTimeout,G=e.cancelTimeout,H=e.noTimeout,K=e.isPrimaryRenderer,q=e.supportsMutation,Y=e.supportsPersistence,X=e.supportsHydration,J=e.getInstanceFromNode,Q=e.preparePortalMount,Z=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ae=e.findFiberRoot,oe=e.getBoundingRect,ie=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,be=e.removeChild,ye=e.removeChildFromContainer,_e=e.resetTextContent,xe=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,Ce=e.unhideTextInstance,Ee=e.clearContainer,ke=e.cloneInstance,Pe=e.createContainerChildSet,je=e.appendChildToContainerChildSet,Te=e.finalizeContainerChildren,Me=e.replaceContainerChildren,Ne=e.cloneHiddenInstance,De=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,Fe=e.canHydrateTextInstance,Re=e.canHydrateSuspenseInstance,Ae=e.isSuspenseInstancePending,Ie=e.isSuspenseInstanceFallback,Le=e.getSuspenseInstanceFallbackErrorDetails,Be=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,We=e.getFirstHydratableChild,ze=e.getFirstHydratableChildWithinContainer,$e=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,Ge=e.hydrateTextInstance,He=e.hydrateSuspenseInstance,Ke=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Xe=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var at=Object.prototype.hasOwnProperty,ot=[],it=-1;function st(e){return{current:e}}function lt(e){0>it||(e.current=ot[it],ot[it]=null,it--)}function ut(e,t){it++,ot[it]=e.current,e.current=t}var ct={},dt=st(ct),ft=st(!1),ht=ct;function pt(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gt(){lt(ft),lt(dt)}function vt(e,t,n){if(dt.current!==ct)throw Error(i(168));ut(dt,t),ut(ft,n)}function bt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,C(e)||"Unknown",a));return o({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,ht=dt.current,ut(dt,e),ut(ft,ft.current),!0}function _t(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=bt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,lt(ft),lt(dt),ut(dt,e)):lt(ft),ut(ft,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/St|0)|0},wt=Math.log,St=Math.LN2;var Ct=64,Et=4194304;function kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=kt(s):0!==(o&=i)&&(r=kt(o))}else 0!==(i=n&~a)?r=kt(i):0!==o&&(r=kt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-xt(t)),r|=e[n],t&=~a;return r}function jt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(){var e=Ct;return 0===(4194240&(Ct<<=1))&&(Ct=64),e}function Nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ft=0;function Rt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At=a.unstable_scheduleCallback,It=a.unstable_cancelCallback,Lt=a.unstable_shouldYield,Bt=a.unstable_requestPaint,Ut=a.unstable_now,Wt=a.unstable_ImmediatePriority,zt=a.unstable_UserBlockingPriority,$t=a.unstable_NormalPriority,Vt=a.unstable_IdlePriority,Gt=null,Ht=null;var Kt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Yt=!1,Xt=!1;function Jt(e){null===qt?qt=[e]:qt.push(e)}function Qt(){if(!Xt&&null!==qt){Xt=!0;var e=0,t=Ft;try{var n=qt;for(Ft=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Yt=!1}catch(a){throw null!==qt&&(qt=qt.slice(e+1)),At(Wt,Qt),a}finally{Ft=t,Xt=!1}}return null}var Zt=[],en=0,tn=null,nn=0,rn=[],an=0,on=null,sn=1,ln="";function un(e,t){Zt[en++]=nn,Zt[en++]=tn,tn=e,nn=t}function cn(e,t,n){rn[an++]=sn,rn[an++]=ln,rn[an++]=on,on=e;var r=sn;e=ln;var a=32-xt(r)-1;r&=~(1<<a),n+=1;var o=32-xt(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,sn=1<<32-xt(t)+a|n<<a|r,ln=o+e}else sn=1<<o|n<<a|r,ln=e}function dn(e){null!==e.return&&(un(e,1),cn(e,1,0))}function fn(e){for(;e===tn;)tn=Zt[--en],Zt[en]=null,nn=Zt[--en],Zt[en]=null;for(;e===on;)on=rn[--an],rn[an]=null,ln=rn[--an],rn[an]=null,sn=rn[--an],rn[an]=null}var hn=null,pn=null,mn=!1,gn=!1,vn=null;function bn(e,t){var n=is(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function yn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,hn=e,pn=We(t),!0);case 6:return null!==(t=Fe(t,e.pendingProps))&&(e.stateNode=t,hn=e,pn=null,!0);case 13:if(null!==(t=Re(t))){var n=null!==on?{id:sn,overflow:ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=is(18,null,null,0)).stateNode=t,n.return=e,e.child=n,hn=e,pn=null,!0}return!1;default:return!1}}function _n(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xn(e){if(mn){var t=pn;if(t){var n=t;if(!yn(e,t)){if(_n(e))throw Error(i(418));t=Ue(n);var r=hn;t&&yn(e,t)?bn(r,n):(e.flags=-4097&e.flags|2,mn=!1,hn=e)}}else{if(_n(e))throw Error(i(418));e.flags=-4097&e.flags|2,mn=!1,hn=e}}}function wn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hn=e}function Sn(e){if(!X||e!==hn)return!1;if(!mn)return wn(e),mn=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!z(e.type,e.memoizedProps))){var t=pn;if(t){if(_n(e))throw Cn(),Error(i(418));for(;t;)bn(e,t),t=Ue(t)}}if(wn(e),13===e.tag){if(!X)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));pn=Ke(e)}else pn=hn?Ue(e.stateNode):null;return!0}function Cn(){for(var e=pn;e;)e=Ue(e)}function En(){X&&(pn=hn=null,gn=mn=!1)}function kn(e){null===vn?vn=[e]:vn.push(e)}var Pn=s.ReactCurrentBatchConfig;function jn(e,t){if(Kt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!at.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function Tn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=rt(e.type,!1);case 11:return e=rt(e.type.render,!1);case 1:return e=rt(e.type,!0);default:return""}}function Mn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Nn(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dn(e){return(0,e._init)(e._payload)}function On(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=ls(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=fs(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n,r){var o=n.type;return o===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===y&&Dn(o)===t.type)?((r=a(t,n.props)).ref=Mn(e,t,n),r.return=e,r):((r=us(n.type,n.key,n.props,null,e.mode,r)).ref=Mn(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=hs(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=cs(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=fs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=us(t.type,t.key,t.props,null,e.mode,n)).ref=Mn(e,null,t),n.return=e,n;case u:return(t=hs(t,e.mode,n)).return=e,t;case y:return m(e,(0,t._init)(t._payload),n)}if(D(t)||w(t))return(t=cs(t,e.mode,n,null)).return=e,t;Nn(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===a?f(e,t,n,r):null;case u:return n.key===a?h(e,t,n,r):null;case y:return g(e,t,(a=n._init)(n._payload),r)}if(D(n)||w(n))return null!==a?null:p(e,t,n,r,null);Nn(e,n)}return null}function v(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,a);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,a);case y:return v(e,t,n,(0,r._init)(r._payload),a)}if(D(r)||w(r))return p(t,e=e.get(n)||null,r,a,null);Nn(t,r)}return null}function b(a,i,s,l){for(var u=null,c=null,d=i,f=i=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(a,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(a,d),i=o(p,i,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(a,d),mn&&un(a,f),u;if(null===d){for(;f<s.length;f++)null!==(d=m(a,s[f],l))&&(i=o(d,i,f),null===c?u=d:c.sibling=d,c=d);return mn&&un(a,f),u}for(d=r(a,d);f<s.length;f++)null!==(h=v(d,a,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),i=o(h,i,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(a,e)})),mn&&un(a,f),u}function _(a,s,l,u){var c=w(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,f=s,h=s=0,p=null,b=l.next();null!==f&&!b.done;h++,b=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var y=g(a,f,b.value,u);if(null===y){null===f&&(f=p);break}e&&f&&null===y.alternate&&t(a,f),s=o(y,s,h),null===d?c=y:d.sibling=y,d=y,f=p}if(b.done)return n(a,f),mn&&un(a,h),c;if(null===f){for(;!b.done;h++,b=l.next())null!==(b=m(a,b.value,u))&&(s=o(b,s,h),null===d?c=b:d.sibling=b,d=b);return mn&&un(a,h),c}for(f=r(a,f);!b.done;h++,b=l.next())null!==(b=v(f,a,h,b.value,u))&&(e&&null!==b.alternate&&f.delete(null===b.key?h:b.key),s=o(b,s,h),null===d?c=b:d.sibling=b,d=b);return e&&f.forEach((function(e){return t(a,e)})),mn&&un(a,h),c}return function e(r,o,i,d){if("object"===typeof i&&null!==i&&i.type===c&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case l:e:{for(var f=i.key,h=o;null!==h;){if(h.key===f){if((f=i.type)===c){if(7===h.tag){n(r,h.sibling),(o=a(h,i.props.children)).return=r,r=o;break e}}else if(h.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===y&&Dn(f)===h.type){n(r,h.sibling),(o=a(h,i.props)).ref=Mn(r,h,i),o.return=r,r=o;break e}n(r,h);break}t(r,h),h=h.sibling}i.type===c?((o=cs(i.props.children,r.mode,d,i.key)).return=r,r=o):((d=us(i.type,i.key,i.props,null,r.mode,d)).ref=Mn(r,o,i),d.return=r,r=d)}return s(r);case u:e:{for(h=i.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=hs(i,r.mode,d)).return=r,r=o}return s(r);case y:return e(r,o,(h=i._init)(i._payload),d)}if(D(i))return b(r,o,i,d);if(w(i))return _(r,o,i,d);Nn(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=fs(i,r.mode,d)).return=r,r=o),s(r)):n(r,o)}}var Fn=On(!0),Rn=On(!1),An=st(null),In=null,Ln=null,Bn=null;function Un(){Bn=Ln=In=null}function Wn(e,t,n){K?(ut(An,t._currentValue),t._currentValue=n):(ut(An,t._currentValue2),t._currentValue2=n)}function zn(e){var t=An.current;lt(An),K?e._currentValue=t:e._currentValue2=t}function $n(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vn(e,t){In=e,Bn=Ln=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function Gn(e){var t=K?e._currentValue:e._currentValue2;if(Bn!==e)if(e={context:e,memoizedValue:t,next:null},null===Ln){if(null===In)throw Error(i(308));Ln=e,In.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var Hn=null;function Kn(e){null===Hn?Hn=[e]:Hn.push(e)}function qn(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Kn(t)):(n.next=a.next,a.next=n),t.interleaved=n,Yn(e,r)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Xn=!1;function Jn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ni)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Yn(e,n)}return null===(a=r.interleaved)?(t.next=t,Kn(r)):(t.next=a.next,a.next=t),r.interleaved=t,Yn(e,n)}function tr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function nr(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rr(e,t,n,r){var a=e.updateQueue;Xn=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?i=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==i){var f=a.baseState;for(s=0,d=c=u=null,l=i;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(p,f,h):m)||void 0===h)break e;f=o({},f,h);break e;case 2:Xn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);ci|=s,e.lanes=s,e.memoizedState=f}}function ar(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var or={},ir=st(or),sr=st(or),lr=st(or);function ur(e){if(e===or)throw Error(i(174));return e}function cr(e,t){ut(lr,t),ut(sr,e),ut(ir,or),e=F(t),lt(ir),ut(ir,e)}function dr(){lt(ir),lt(sr),lt(lr)}function fr(e){var t=ur(lr.current),n=ur(ir.current);n!==(t=R(n,e.type,t))&&(ut(sr,e),ut(ir,t))}function hr(e){sr.current===e&&(lt(ir),lt(sr))}var pr=st(0);function mr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ae(n)||Ie(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gr=[];function vr(){for(var e=0;e<gr.length;e++){var t=gr[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}gr.length=0}var br=s.ReactCurrentDispatcher,yr=s.ReactCurrentBatchConfig,_r=0,xr=null,wr=null,Sr=null,Cr=!1,Er=!1,kr=0,Pr=0;function jr(){throw Error(i(321))}function Tr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function Mr(e,t,n,r,a,o){if(_r=o,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?ha:pa,e=n(r,a),Er){o=0;do{if(Er=!1,kr=0,25<=o)throw Error(i(301));o+=1,Sr=wr=null,t.updateQueue=null,br.current=ma,e=n(r,a)}while(Er)}if(br.current=fa,t=null!==wr&&null!==wr.next,_r=0,Sr=wr=xr=null,Cr=!1,t)throw Error(i(300));return e}function Nr(){var e=0!==kr;return kr=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sr?xr.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function Or(){if(null===wr){var e=xr.alternate;e=null!==e?e.memoizedState:null}else e=wr.next;var t=null===Sr?xr.memoizedState:Sr.next;if(null!==t)Sr=t,wr=e;else{if(null===e)throw Error(i(310));e={memoizedState:(wr=e).memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},null===Sr?xr.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function Fr(e,t){return"function"===typeof t?t(e):t}function Rr(e){var t=Or(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=wr,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((_r&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,xr.lanes|=d,ci|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,Kt(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,xr.lanes|=o,ci|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ar(e){var t=Or(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Kt(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ir(){}function Lr(e,t){var n=xr,r=Or(),a=t(),o=!Kt(r.memoizedState,a);if(o&&(r.memoizedState=a,Oa=!0),r=r.queue,Xr(Wr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Sr&&1&Sr.memoizedState.tag){if(n.flags|=2048,Gr(9,Ur.bind(null,n,r,a,t),void 0,null),null===ri)throw Error(i(349));0!==(30&_r)||Br(n,t,a)}return a}function Br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xr.updateQueue)?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ur(e,t,n,r){t.value=n,t.getSnapshot=r,zr(t)&&$r(e)}function Wr(e,t,n){return n((function(){zr(t)&&$r(e)}))}function zr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch(r){return!0}}function $r(e){var t=Yn(e,1);null!==t&&Di(t,e,1,-1)}function Vr(e){var t=Dr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=la.bind(null,xr,e),[t.memoizedState,e]}function Gr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=xr.updateQueue)?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Hr(){return Or().memoizedState}function Kr(e,t,n,r){var a=Dr();xr.flags|=e,a.memoizedState=Gr(1|t,n,void 0,void 0===r?null:r)}function qr(e,t,n,r){var a=Or();r=void 0===r?null:r;var o=void 0;if(null!==wr){var i=wr.memoizedState;if(o=i.destroy,null!==r&&Tr(r,i.deps))return void(a.memoizedState=Gr(t,n,o,r))}xr.flags|=e,a.memoizedState=Gr(1|t,n,o,r)}function Yr(e,t){return Kr(8390656,8,e,t)}function Xr(e,t){return qr(2048,8,e,t)}function Jr(e,t){return qr(4,2,e,t)}function Qr(e,t){return qr(4,4,e,t)}function Zr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ea(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qr(4,4,Zr.bind(null,t,e),n)}function ta(){}function na(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Tr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ra(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Tr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aa(e,t,n){return 0===(21&_r)?(e.baseState&&(e.baseState=!1,Oa=!0),e.memoizedState=n):(Kt(n,t)||(n=Mt(),xr.lanes|=n,ci|=n,e.baseState=!0),t)}function oa(e,t){var n=Ft;Ft=0!==n&&4>n?n:4,e(!0);var r=yr.transition;yr.transition={};try{e(!1),t()}finally{Ft=n,yr.transition=r}}function ia(){return Or().memoizedState}function sa(e,t,n){var r=Ni(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ua(e))ca(t,n);else if(null!==(n=qn(e,t,n,r))){Di(n,e,r,Mi()),da(n,t,r)}}function la(e,t,n){var r=Ni(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ua(e))ca(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,Kt(s,i)){var l=t.interleaved;return null===l?(a.next=a,Kn(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=qn(e,t,a,r))&&(Di(n,e,r,a=Mi()),da(n,t,r))}}function ua(e){var t=e.alternate;return e===xr||null!==t&&t===xr}function ca(e,t){Er=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function da(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var fa={readContext:Gn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},ha={readContext:Gn,useCallback:function(e,t){return Dr().memoizedState=[e,void 0===t?null:t],e},useContext:Gn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4194308,4,Zr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sa.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:Vr,useDebugValue:ta,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=Vr(!1),t=e[0];return e=oa.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,a=Dr();if(mn){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ri)throw Error(i(349));0!==(30&_r)||Br(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Yr(Wr.bind(null,r,o,e),[e]),r.flags|=2048,Gr(9,Ur.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dr(),t=ri.identifierPrefix;if(mn){var n=ln;t=":"+t+"R"+(n=(sn&~(1<<32-xt(sn)-1)).toString(32)+n),0<(n=kr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pa={readContext:Gn,useCallback:na,useContext:Gn,useEffect:Xr,useImperativeHandle:ea,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ra,useReducer:Rr,useRef:Hr,useState:function(){return Rr(Fr)},useDebugValue:ta,useDeferredValue:function(e){return aa(Or(),wr.memoizedState,e)},useTransition:function(){return[Rr(Fr)[0],Or().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Lr,useId:ia,unstable_isNewReconciler:!1},ma={readContext:Gn,useCallback:na,useContext:Gn,useEffect:Xr,useImperativeHandle:ea,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ra,useReducer:Ar,useRef:Hr,useState:function(){return Ar(Fr)},useDebugValue:ta,useDeferredValue:function(e){var t=Or();return null===wr?t.memoizedState=e:aa(t,wr.memoizedState,e)},useTransition:function(){return[Ar(Fr)[0],Or().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Lr,useId:ia,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mi(),a=Ni(e),o=Zn(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=er(e,o,a))&&(Di(t,e,a,r),tr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mi(),a=Ni(e),o=Zn(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=er(e,o,a))&&(Di(t,e,a,r),tr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mi(),r=Ni(e),a=Zn(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=er(e,a,r))&&(Di(t,e,r,n),tr(t,e,r))}};function ya(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!jn(n,r)||!jn(a,o))}function _a(e,t,n){var r=!1,a=ct,o=t.contextType;return"object"===typeof o&&null!==o?o=Gn(o):(a=mt(t)?ht:dt.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pt(e,a):ct),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Jn(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Gn(o):(o=mt(t)?ht:dt.current,a.context=pt(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(va(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ba.enqueueReplaceState(a,a.state,null),rr(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Sa(e,t){try{var n="",r=t;do{n+=Tn(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function Ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ka="function"===typeof WeakMap?WeakMap:Map;function Pa(e,t,n){(n=Zn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_i||(_i=!0,xi=r),Ea(0,t)},n}function ja(e,t,n){(n=Zn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ea(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){Ea(0,t),"function"!==typeof r&&(null===wi?wi=new Set([this]):wi.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ta(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ka;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=es.bind(null,e,t,n),t.then(e,e))}function Ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Na(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Zn(-1,1)).tag=2,er(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Da=s.ReactCurrentOwner,Oa=!1;function Fa(e,t,n,r){t.child=null===e?Rn(t,null,n,r):Fn(t,e.child,n,r)}function Ra(e,t,n,r,a){n=n.render;var o=t.ref;return Vn(t,a),r=Mr(e,t,n,r,o,a),n=Nr(),null===e||Oa?(mn&&n&&dn(t),t.flags|=1,Fa(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a))}function Aa(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||ss(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=us(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:jn)(i,r)&&e.ref===t.ref)return ao(e,t,a)}return t.flags|=1,(e=ls(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(jn(o,r)&&e.ref===t.ref){if(Oa=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,ao(e,t,a);0!==(131072&e.flags)&&(Oa=!0)}}return Ua(e,t,n,r,a)}function La(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(si,ii),ii|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(si,ii),ii|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ut(si,ii),ii|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ut(si,ii),ii|=r;return Fa(e,t,a,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,a){var o=mt(n)?ht:dt.current;return o=pt(t,o),Vn(t,a),n=Mr(e,t,n,r,o,a),r=Nr(),null===e||Oa?(mn&&r&&dn(t),t.flags|=1,Fa(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a))}function Wa(e,t,n,r,a){if(mt(n)){var o=!0;yt(t)}else o=!1;if(Vn(t,a),null===t.stateNode)ro(e,t),_a(t,n,r),wa(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=Gn(u):u=pt(t,u=mt(n)?ht:dt.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&xa(t,i,r,u),Xn=!1;var f=t.memoizedState;i.state=f,rr(t,r,i,a),l=t.memoizedState,s!==r||f!==l||ft.current||Xn?("function"===typeof c&&(va(t,n,c,r),l=t.memoizedState),(s=Xn||ya(t,n,s,r,f,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Qn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),i.props=u,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Gn(l):l=pt(t,l=mt(n)?ht:dt.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&xa(t,i,r,l),Xn=!1,f=t.memoizedState,i.state=f,rr(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||ft.current||Xn?("function"===typeof h&&(va(t,n,h,r),p=t.memoizedState),(u=Xn||ya(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return za(e,t,n,r,o,a)}function za(e,t,n,r,a,o){Ba(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&_t(t,n,!1),ao(e,t,o);r=t.stateNode,Da.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,a&&_t(t,n,!0),t.child}function $a(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),cr(e,t.containerInfo)}function Va(e,t,n,r,a){return En(),kn(a),t.flags|=256,Fa(e,t,n,r),t.child}var Ga,Ha,Ka,qa,Ya={dehydrated:null,treeContext:null,retryLane:0};function Xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ja(e,t,n){var r,a=t.pendingProps,o=pr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ut(pr,1&o),null===e)return xn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ie(e)?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ds(l,a,0,null),e=cs(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Xa(n),t.memoizedState=Ya,e):Qa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Za(e,t,s,r=Ca(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=ds({mode:"visible",children:r.children},a,0,null),(o=cs(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Fn(t,e.child,null,s),t.child.memoizedState=Xa(s),t.memoizedState=Ya,o);if(0===(1&t.mode))return Za(e,t,s,null);if(Ie(a))return r=Le(a).digest,o=Error(i(419)),r=Ca(o,r,void 0),Za(e,t,s,r);if(n=0!==(s&e.childLanes),Oa||n){if(null!==(r=ri)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Yn(e,a),Di(r,e,a,-1))}return Vi(),Za(e,t,s,r=Ca(Error(i(421))))}return Ae(a)?(t.flags|=128,t.child=e.child,t=ns.bind(null,e),Be(a,t),null):(e=o.treeContext,X&&(pn=$e(a),hn=t,mn=!0,vn=null,gn=!1,null!==e&&(rn[an++]=sn,rn[an++]=ln,rn[an++]=on,sn=e.id,ln=e.overflow,on=t)),t=Qa(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=ls(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=ls(r,s):(s=cs(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Xa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ya,a}return e=(s=e.child).sibling,a=ls(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Qa(e,t){return(t=ds({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Za(e,t,n,r){return null!==r&&kn(r),Fn(t,e.child,null,n),(e=Qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$n(e.return,t,n)}function to(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function no(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=pr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(pr,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===mr(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),to(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===mr(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}to(t,!0,n,null,o);break;case"together":to(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ao(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ci|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=ls(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ls(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oo(e){e.flags|=4}function io(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(q)Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(){},Ka=function(e,t,n,r,a){if((e=e.memoizedProps)!==r){var o=t.stateNode,i=ur(ir.current);n=W(o,n,e,r,a,i),(t.updateQueue=n)&&oo(t)}},qa=function(e,t,n,r){n!==r&&oo(t)};else if(Y){Ga=function(e,t,n,r){for(var a=t.child;null!==a;){if(5===a.tag){var o=a.stateNode;n&&r&&(o=Ne(o,a.type,a.memoizedProps,a)),B(e,o)}else if(6===a.tag)o=a.stateNode,n&&r&&(o=De(o,a.memoizedProps,a)),B(e,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),Ga(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var so=function(e,t,n,r){for(var a=t.child;null!==a;){if(5===a.tag){var o=a.stateNode;n&&r&&(o=Ne(o,a.type,a.memoizedProps,a)),je(e,o)}else if(6===a.tag)o=a.stateNode,n&&r&&(o=De(o,a.memoizedProps,a)),je(e,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),so(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ha=function(e,t){var n=t.stateNode;if(!io(e,t)){e=n.containerInfo;var r=Pe(e);so(r,t,!1,!1),n.pendingChildren=r,oo(t),Te(e,r)}},Ka=function(e,t,n,r,a){var o=e.stateNode,i=e.memoizedProps;if((e=io(e,t))&&i===r)t.stateNode=o;else{var s=t.stateNode,l=ur(ir.current),u=null;i!==r&&(u=W(s,n,i,r,a,l)),e&&null===u?t.stateNode=o:(o=ke(o,u,n,i,r,t,e,s),U(o,n,r,a,l)&&oo(t),t.stateNode=o,e?oo(t):Ga(o,t,!1,!1))}},qa=function(e,t,n,r){n!==r?(e=ur(lr.current),n=ur(ir.current),t.stateNode=$(r,e,n,t),oo(t)):t.stateNode=e.stateNode}}else Ha=function(){},Ka=function(){},qa=function(){};function lo(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function co(e,t,n){var r=t.pendingProps;switch(fn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:case 17:return mt(t.type)&&gt(),uo(t),null;case 3:return n=t.stateNode,dr(),lt(ft),lt(dt),vr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Sn(t)?oo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==vn&&(Ai(vn),vn=null))),Ha(e,t),uo(t),null;case 5:hr(t),n=ur(lr.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ka(e,t,a,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return uo(t),null}if(e=ur(ir.current),Sn(t)){if(!X)throw Error(i(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!gn),t.updateQueue=e,null!==e&&oo(t)}else{var o=L(a,r,n,e,t);Ga(o,t,!1,!1),t.stateNode=o,U(o,a,r,n,e)&&oo(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&null!=t.stateNode)qa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=ur(lr.current),n=ur(ir.current),Sn(t)){if(!X)throw Error(i(176));if(e=t.stateNode,n=t.memoizedProps,(r=Ge(e,n,t,!gn))&&null!==(a=hn))switch(a.tag){case 3:Ze(a.stateNode.containerInfo,e,n,0!==(1&a.mode));break;case 5:et(a.type,a.memoizedProps,a.stateNode,e,n,0!==(1&a.mode))}r&&oo(t)}else t.stateNode=$(r,e,n,t)}return uo(t),null;case 13:if(lt(pr),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mn&&null!==pn&&0!==(1&t.mode)&&0===(128&t.flags))Cn(),En(),t.flags|=98560,a=!1;else if(a=Sn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!X)throw Error(i(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));He(a,t)}else En(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;uo(t),a=!1}else null!==vn&&(Ai(vn),vn=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((n=null!==r)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&pr.current)?0===li&&(li=3):Vi())),null!==t.updateQueue&&(t.flags|=4),uo(t),null);case 4:return dr(),Ha(e,t),null===e&&Q(t.stateNode.containerInfo),uo(t),null;case 10:return zn(t.type._context),uo(t),null;case 19:if(lt(pr),null===(a=t.memoizedState))return uo(t),null;if(r=0!==(128&t.flags),null===(o=a.rendering))if(r)lo(a,!1);else{if(0!==li||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=mr(e))){for(t.flags|=128,lo(a,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)a=e,(r=n).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),n=n.sibling;return ut(pr,1&pr.current|2),t.child}e=e.sibling}null!==a.tail&&Ut()>gi&&(t.flags|=128,r=!0,lo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),lo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!mn)return uo(t),null}else 2*Ut()-a.renderingStartTime>gi&&1073741824!==n&&(t.flags|=128,r=!0,lo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ut(),t.sibling=null,e=pr.current,ut(pr,r?1&e|2:1&e),t):(uo(t),null);case 22:case 23:return Ui(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&ii)&&(uo(t),q&&6&t.subtreeFlags&&(t.flags|=8192)):uo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function fo(e,t){switch(fn(t),t.tag){case 1:return mt(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),lt(ft),lt(dt),vr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return hr(t),null;case 13:if(lt(pr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));En()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(pr),null;case 4:return dr(),null;case 10:return zn(t.type._context),null;case 22:case 23:return Ui(),null;default:return null}}var ho=!1,po=!1,mo="function"===typeof WeakSet?WeakSet:Set,go=null;function vo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Zi(e,t,r)}else n.current=null}function bo(e,t,n){try{n()}catch(r){Zi(e,t,r)}}var yo=!1;function _o(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&bo(t,n,o)}a=a.next}while(a!==r)}}function xo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wo(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"===typeof t?t(e):t.current=e}}function So(e){var t=e.alternate;null!==t&&(e.alternate=null,So(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Co(e){return 5===e.tag||3===e.tag||4===e.tag}function Eo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Co(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ko(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(ko(e,t,n),e=e.sibling;null!==e;)ko(e,t,n),e=e.sibling}function Po(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Po(e,t,n),e=e.sibling;null!==e;)Po(e,t,n),e=e.sibling}var jo=null,To=!1;function Mo(e,t,n){for(n=n.child;null!==n;)No(e,t,n),n=n.sibling}function No(e,t,n){if(Ht&&"function"===typeof Ht.onCommitFiberUnmount)try{Ht.onCommitFiberUnmount(Gt,n)}catch(s){}switch(n.tag){case 5:po||vo(n,t);case 6:if(q){var r=jo,a=To;jo=null,Mo(e,t,n),To=a,null!==(jo=r)&&(To?ye(jo,n.stateNode):be(jo,n.stateNode))}else Mo(e,t,n);break;case 18:q&&null!==jo&&(To?Je(jo,n.stateNode):Xe(jo,n.stateNode));break;case 4:q?(r=jo,a=To,jo=n.stateNode.containerInfo,To=!0,Mo(e,t,n),jo=r,To=a):(Y&&(r=n.stateNode.containerInfo,a=Pe(r),Me(r,a)),Mo(e,t,n));break;case 0:case 11:case 14:case 15:if(!po&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&bo(n,t,i),a=a.next}while(a!==r)}Mo(e,t,n);break;case 1:if(!po&&(vo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Zi(n,t,s)}Mo(e,t,n);break;case 21:Mo(e,t,n);break;case 22:1&n.mode?(po=(r=po)||null!==n.memoizedState,Mo(e,t,n),po=r):Mo(e,t,n);break;default:Mo(e,t,n)}}function Do(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new mo),t.forEach((function(t){var r=rs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Oo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t;if(q){var l=s;e:for(;null!==l;){switch(l.tag){case 5:jo=l.stateNode,To=!1;break e;case 3:case 4:jo=l.stateNode.containerInfo,To=!0;break e}l=l.return}if(null===jo)throw Error(i(160));No(o,s,a),jo=null,To=!1}else No(o,s,a);var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Zi(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Fo(t,e),t=t.sibling}function Fo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oo(t,e),Ro(e),4&r){try{_o(3,e,e.return),xo(3,e)}catch(h){Zi(e,e.return,h)}try{_o(5,e,e.return)}catch(h){Zi(e,e.return,h)}}break;case 1:Oo(t,e),Ro(e),512&r&&null!==n&&vo(n,n.return);break;case 5:if(Oo(t,e),Ro(e),512&r&&null!==n&&vo(n,n.return),q){if(32&e.flags){var a=e.stateNode;try{_e(a)}catch(h){Zi(e,e.return,h)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps;if(n=null!==n?n.memoizedProps:o,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{me(a,t,r,n,o,e)}catch(h){Zi(e,e.return,h)}}}break;case 6:if(Oo(t,e),Ro(e),4&r&&q){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps,n=null!==n?n.memoizedProps:o;try{he(a,n,o)}catch(h){Zi(e,e.return,h)}}break;case 3:if(Oo(t,e),Ro(e),4&r){if(q&&X&&null!==n&&n.memoizedState.isDehydrated)try{qe(t.containerInfo)}catch(h){Zi(e,e.return,h)}if(Y){a=t.containerInfo,o=t.pendingChildren;try{Me(a,o)}catch(h){Zi(e,e.return,h)}}}break;case 4:if(Oo(t,e),Ro(e),4&r&&Y){a=(o=e.stateNode).containerInfo,o=o.pendingChildren;try{Me(a,o)}catch(h){Zi(e,e.return,h)}}break;case 13:Oo(t,e),Ro(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(mi=Ut())),4&r&&Do(e);break;case 22:var s=null!==n&&null!==n.memoizedState;if(1&e.mode?(po=(n=po)||s,Oo(t,e),po=n):Oo(t,e),Ro(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!s&&0!==(1&e.mode))for(go=e,r=e.child;null!==r;){for(t=go=r;null!==go;){var l=(s=go).child;switch(s.tag){case 0:case 11:case 14:case 15:_o(4,s,s.return);break;case 1:vo(s,s.return);var u=s.stateNode;if("function"===typeof u.componentWillUnmount){var c=s,d=s.return;try{var f=c;u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(h){Zi(c,d,h)}}break;case 5:vo(s,s.return);break;case 22:if(null!==s.memoizedState){Bo(t);continue}}null!==l?(l.return=s,go=l):Bo(t)}r=r.sibling}if(q)e:if(r=null,q)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{a=t.stateNode,n?xe(a):Se(t.stateNode,t.memoizedProps)}catch(h){Zi(e,e.return,h)}}}else if(6===t.tag){if(null===r)try{o=t.stateNode,n?we(o):Ce(o,t.memoizedProps)}catch(h){Zi(e,e.return,h)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Oo(t,e),Ro(e),4&r&&Do(e);break;case 21:break;default:Oo(t,e),Ro(e)}}function Ro(e){var t=e.flags;if(2&t){try{if(q){e:{for(var n=e.return;null!==n;){if(Co(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(_e(a),r.flags&=-33),Po(e,Eo(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ko(e,Eo(e),o);break;default:throw Error(i(161))}}}catch(s){Zi(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ao(e,t,n){go=e,Io(e,t,n)}function Io(e,t,n){for(var r=0!==(1&e.mode);null!==go;){var a=go,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||ho;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||po;s=ho;var u=po;if(ho=i,(po=l)&&!u)for(go=a;null!==go;)l=(i=go).child,22===i.tag&&null!==i.memoizedState?Uo(a):null!==l?(l.return=i,go=l):Uo(a);for(;null!==o;)go=o,Io(o,t,n),o=o.sibling;go=a,ho=s,po=u}Lo(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,go=o):Lo(e)}}function Lo(e){for(;null!==go;){var t=go;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:po||xo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!po)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ar(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}ar(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(X&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(i(163))}po||512&t.flags&&wo(t)}catch(f){Zi(t,t.return,f)}}if(t===e){go=null;break}if(null!==(n=t.sibling)){n.return=t.return,go=n;break}go=t.return}}function Bo(e){for(;null!==go;){var t=go;if(t===e){go=null;break}var n=t.sibling;if(null!==n){n.return=t.return,go=n;break}go=t.return}}function Uo(e){for(;null!==go;){var t=go;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xo(4,t)}catch(l){Zi(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Zi(t,a,l)}}var o=t.return;try{wo(t)}catch(l){Zi(t,o,l)}break;case 5:var i=t.return;try{wo(t)}catch(l){Zi(t,i,l)}}}catch(l){Zi(t,t.return,l)}if(t===e){go=null;break}var s=t.sibling;if(null!==s){s.return=t.return,go=s;break}go=t.return}}var Wo=0,zo=1,$o=2,Vo=3,Go=4;if("function"===typeof Symbol&&Symbol.for){var Ho=Symbol.for;Wo=Ho("selector.component"),zo=Ho("selector.has_pseudo_class"),$o=Ho("selector.role"),Vo=Ho("selector.test_id"),Go=Ho("selector.text")}function Ko(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(i(364));return t}if(null===(e=ae(e)))throw Error(i(362));return e.stateNode.current}function qo(e,t){switch(t.$$typeof){case Wo:if(e.type===t.value)return!0;break;case zo:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],a=e[n++],o=t[a];if(5!==r.tag||!se(r)){for(;null!=o&&qo(r,o);)o=t[++a];if(a===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}t=!1}return t;case $o:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Go:if((5===e.tag||6===e.tag)&&(null!==(e=ie(e))&&0<=e.indexOf(t.value)))return!0;break;case Vo:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Yo(e){switch(e.$$typeof){case Wo:return"<"+(S(e.value)||"Unknown")+">";case zo:return":has("+(Yo(e)||"")+")";case $o:return'[role="'+e.value+'"]';case Go:return'"'+e.value+'"';case Vo:return'[data-testname="'+e.value+'"]';default:throw Error(i(365))}}function Xo(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var a=e[r++],o=e[r++],i=t[o];if(5!==a.tag||!se(a)){for(;null!=i&&qo(a,i);)i=t[++o];if(o===t.length)n.push(a);else for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}}return n}function Jo(e,t){if(!re)throw Error(i(363));e=Xo(e=Ko(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Qo=Math.ceil,Zo=s.ReactCurrentDispatcher,ei=s.ReactCurrentOwner,ti=s.ReactCurrentBatchConfig,ni=0,ri=null,ai=null,oi=0,ii=0,si=st(0),li=0,ui=null,ci=0,di=0,fi=0,hi=null,pi=null,mi=0,gi=1/0,vi=null;function bi(){gi=Ut()+500}var yi,_i=!1,xi=null,wi=null,Si=!1,Ci=null,Ei=0,ki=0,Pi=null,ji=-1,Ti=0;function Mi(){return 0!==(6&ni)?Ut():-1!==ji?ji:ji=Ut()}function Ni(e){return 0===(1&e.mode)?1:0!==(2&ni)&&0!==oi?oi&-oi:null!==Pn.transition?(0===Ti&&(Ti=Mt()),Ti):0!==(e=Ft)?e:Z()}function Di(e,t,n,r){if(50<ki)throw ki=0,Pi=null,Error(i(185));Dt(e,n,r),0!==(2&ni)&&e===ri||(e===ri&&(0===(2&ni)&&(di|=n),4===li&&Ii(e,oi)),Oi(e,r),1===n&&0===ni&&0===(1&t.mode)&&(bi(),Yt&&Qt()))}function Oi(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-xt(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=jt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=Pt(e,e===ri?oi:0);if(0===r)null!==n&&It(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&It(n),1===t)0===e.tag?function(e){Yt=!0,Jt(e)}(Li.bind(null,e)):Jt(Li.bind(null,e)),te?ne((function(){0===(6&ni)&&Qt()})):At(Wt,Qt),n=null;else{switch(Rt(r)){case 1:n=Wt;break;case 4:n=zt;break;case 16:default:n=$t;break;case 536870912:n=Vt}n=as(n,Fi.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fi(e,t){if(ji=-1,Ti=0,0!==(6&ni))throw Error(i(327));var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var r=Pt(e,e===ri?oi:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Gi(e,r);else{t=r;var a=ni;ni|=2;var o=$i();for(ri===e&&oi===t||(vi=null,bi(),Wi(e,t));;)try{Ki();break}catch(l){zi(e,l)}Un(),Zo.current=o,ni=a,null!==ai?t=0:(ri=null,oi=0,t=li)}if(0!==t){if(2===t&&(0!==(a=Tt(e))&&(r=a,t=Ri(e,a))),1===t)throw n=ui,Wi(e,0),Ii(e,r),Oi(e,Ut()),n;if(6===t)Ii(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Kt(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Gi(e,r))&&(0!==(o=Tt(e))&&(r=o,t=Ri(e,o))),1===t))throw n=ui,Wi(e,0),Ii(e,r),Oi(e,Ut()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Xi(e,pi,vi);break;case 3:if(Ii(e,r),(130023424&r)===r&&10<(t=mi+500-Ut())){if(0!==Pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Mi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=V(Xi.bind(null,e,pi,vi),t);break}Xi(e,pi,vi);break;case 4:if(Ii(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qo(r/1960))-r)){e.timeoutHandle=V(Xi.bind(null,e,pi,vi),r);break}Xi(e,pi,vi);break;default:throw Error(i(329))}}}return Oi(e,Ut()),e.callbackNode===n?Fi.bind(null,e):null}function Ri(e,t){var n=hi;return e.current.memoizedState.isDehydrated&&(Wi(e,t).flags|=256),2!==(e=Gi(e,t))&&(t=pi,pi=n,null!==t&&Ai(t)),e}function Ai(e){null===pi?pi=e:pi.push.apply(pi,e)}function Ii(e,t){for(t&=~fi,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Li(e){if(0!==(6&ni))throw Error(i(327));Ji();var t=Pt(e,0);if(0===(1&t))return Oi(e,Ut()),null;var n=Gi(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Ri(e,r))}if(1===n)throw n=ui,Wi(e,0),Ii(e,t),Oi(e,Ut()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xi(e,pi,vi),Oi(e,Ut()),null}function Bi(e){null!==Ci&&0===Ci.tag&&0===(6&ni)&&Ji();var t=ni;ni|=1;var n=ti.transition,r=Ft;try{if(ti.transition=null,Ft=1,e)return e()}finally{Ft=r,ti.transition=n,0===(6&(ni=t))&&Qt()}}function Ui(){ii=si.current,lt(si)}function Wi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==H&&(e.timeoutHandle=H,G(n)),null!==ai)for(n=ai.return;null!==n;){var r=n;switch(fn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gt();break;case 3:dr(),lt(ft),lt(dt),vr();break;case 5:hr(r);break;case 4:dr();break;case 13:case 19:lt(pr);break;case 10:zn(r.type._context);break;case 22:case 23:Ui()}n=n.return}if(ri=e,ai=e=ls(e.current,null),oi=ii=t,li=0,ui=null,fi=di=ci=0,pi=hi=null,null!==Hn){for(t=0;t<Hn.length;t++)if(null!==(r=(n=Hn[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Hn=null}return e}function zi(e,t){for(;;){var n=ai;try{if(Un(),br.current=fa,Cr){for(var r=xr.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Cr=!1}if(_r=0,Sr=wr=xr=null,Er=!1,kr=0,ei.current=null,null===n||null===n.return){li=1,ui=t,ai=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=oi,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ma(s);if(null!==p){p.flags&=-257,Na(p,s,l,0,t),1&p.mode&&Ta(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Ta(o,c,t),Vi();break e}u=Error(i(426))}else if(mn&&1&l.mode){var v=Ma(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Na(v,s,l,0,t),kn(Sa(u,l));break e}}o=u=Sa(u,l),4!==li&&(li=2),null===hi?hi=[o]:hi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,nr(o,Pa(0,u,t));break e;case 1:l=u;var b=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===wi||!wi.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,nr(o,ja(o,l,t));break e}}o=o.return}while(null!==o)}Yi(n)}catch(_){t=_,ai===n&&null!==n&&(ai=n=n.return);continue}break}}function $i(){var e=Zo.current;return Zo.current=fa,null===e?fa:e}function Vi(){0!==li&&3!==li&&2!==li||(li=4),null===ri||0===(268435455&ci)&&0===(268435455&di)||Ii(ri,oi)}function Gi(e,t){var n=ni;ni|=2;var r=$i();for(ri===e&&oi===t||(vi=null,Wi(e,t));;)try{Hi();break}catch(a){zi(e,a)}if(Un(),ni=n,Zo.current=r,null!==ai)throw Error(i(261));return ri=null,oi=0,li}function Hi(){for(;null!==ai;)qi(ai)}function Ki(){for(;null!==ai&&!Lt();)qi(ai)}function qi(e){var t=yi(e.alternate,e,ii);e.memoizedProps=e.pendingProps,null===t?Yi(e):ai=t,ei.current=null}function Yi(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=co(n,t,ii)))return void(ai=n)}else{if(null!==(n=fo(n,t)))return n.flags&=32767,void(ai=n);if(null===e)return li=6,void(ai=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ai=t);ai=t=e}while(null!==t);0===li&&(li=5)}function Xi(e,t,n){var r=Ft,a=ti.transition;try{ti.transition=null,Ft=1,function(e,t,n,r){do{Ji()}while(null!==Ci);if(0!==(6&ni))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-xt(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,o),e===ri&&(ai=ri=null,oi=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Si||(Si=!0,as($t,(function(){return Ji(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=ti.transition,ti.transition=null;var s=Ft;Ft=1;var l=ni;ni|=4,ei.current=null,function(e,t){for(A(e.containerInfo),go=t;null!==go;)if(t=(e=go).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,go=t;else for(;null!==go;){e=go;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,a=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:ga(e.type,r),a);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:q&&Ee(e.stateNode.containerInfo);break;default:throw Error(i(163))}}catch(l){Zi(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,go=t;break}go=e.return}n=yo,yo=!1}(e,n),Fo(n,e),I(e.containerInfo),e.current=n,Ao(n,e,a),Bt(),ni=l,Ft=s,ti.transition=o}else e.current=n;if(Si&&(Si=!1,Ci=e,Ei=a),o=e.pendingLanes,0===o&&(wi=null),function(e){if(Ht&&"function"===typeof Ht.onCommitFiberRoot)try{Ht.onCommitFiberRoot(Gt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Oi(e,Ut()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(_i)throw _i=!1,e=xi,xi=null,e;0!==(1&Ei)&&0!==e.tag&&Ji(),o=e.pendingLanes,0!==(1&o)?e===Pi?ki++:(ki=0,Pi=e):ki=0,Qt()}(e,t,n,r)}finally{ti.transition=a,Ft=r}return null}function Ji(){if(null!==Ci){var e=Rt(Ei),t=ti.transition,n=Ft;try{if(ti.transition=null,Ft=16>e?16:e,null===Ci)var r=!1;else{if(e=Ci,Ci=null,Ei=0,0!==(6&ni))throw Error(i(331));var a=ni;for(ni|=4,go=e.current;null!==go;){var o=go,s=o.child;if(0!==(16&go.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(go=c;null!==go;){var d=go;switch(d.tag){case 0:case 11:case 15:_o(8,d,o)}var f=d.child;if(null!==f)f.return=d,go=f;else for(;null!==go;){var h=(d=go).sibling,p=d.return;if(So(d),d===c){go=null;break}if(null!==h){h.return=p,go=h;break}go=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}go=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,go=s;else e:for(;null!==go;){if(0!==(2048&(o=go).flags))switch(o.tag){case 0:case 11:case 15:_o(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,go=b;break e}go=o.return}}var y=e.current;for(go=y;null!==go;){var _=(s=go).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,go=_;else e:for(s=y;null!==go;){if(0!==(2048&(l=go).flags))try{switch(l.tag){case 0:case 11:case 15:xo(9,l)}}catch(w){Zi(l,l.return,w)}if(l===s){go=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,go=x;break e}go=l.return}}if(ni=a,Qt(),Ht&&"function"===typeof Ht.onPostCommitFiberRoot)try{Ht.onPostCommitFiberRoot(Gt,e)}catch(w){}r=!0}return r}finally{Ft=n,ti.transition=t}}return!1}function Qi(e,t,n){e=er(e,t=Pa(0,t=Sa(n,t),1),1),t=Mi(),null!==e&&(Dt(e,1,t),Oi(e,t))}function Zi(e,t,n){if(3===e.tag)Qi(e,e,n);else for(;null!==t;){if(3===t.tag){Qi(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===wi||!wi.has(r))){t=er(t,e=ja(t,e=Sa(n,e),1),1),e=Mi(),null!==t&&(Dt(t,1,e),Oi(t,e));break}}t=t.return}}function es(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Mi(),e.pingedLanes|=e.suspendedLanes&n,ri===e&&(oi&n)===n&&(4===li||3===li&&(130023424&oi)===oi&&500>Ut()-mi?Wi(e,0):fi|=n),Oi(e,t)}function ts(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Et,0===(130023424&(Et<<=1))&&(Et=4194304)));var n=Mi();null!==(e=Yn(e,t))&&(Dt(e,t,n),Oi(e,n))}function ns(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ts(e,n)}function rs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),ts(e,n)}function as(e,t){return At(e,t)}function os(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e,t,n,r){return new os(e,t,n,r)}function ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ls(e,t){var n=e.alternate;return null===n?((n=is(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function us(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)ss(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return cs(n.children,a,o,t);case d:s=8,a|=8;break;case f:return(e=is(12,n,t,2|a)).elementType=f,e.lanes=o,e;case g:return(e=is(13,n,t,a)).elementType=g,e.lanes=o,e;case v:return(e=is(19,n,t,a)).elementType=v,e.lanes=o,e;case _:return ds(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case m:s=11;break e;case b:s=14;break e;case y:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=is(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function cs(e,t,n,r){return(e=is(7,e,r,t)).lanes=n,e}function ds(e,t,n,r){return(e=is(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function fs(e,t,n){return(e=is(6,e,null,t)).lanes=n,e}function hs(e,t,n){return(t=is(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ps(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=H,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nt(0),this.expirationTimes=Nt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.identifierPrefix=r,this.onRecoverableError=a,X&&(this.mutableSourceEagerHydrationData=null)}function ms(e,t,n,r,a,o,i,s,l){return e=new ps(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=is(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jn(o),e}function gs(e){if(!e)return ct;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(mt(n))return bt(e,n,t)}return t}function vs(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=j(t))?null:e.stateNode}function bs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ys(e,t){bs(e,t),(e=e.alternate)&&bs(e,t)}function _s(e){return null===(e=j(e))?null:e.stateNode}function xs(){return null}return yi=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Oa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Oa=!1,function(e,t,n){switch(t.tag){case 3:$a(t),En();break;case 5:fr(t);break;case 1:mt(t.type)&&yt(t);break;case 4:cr(t,t.stateNode.containerInfo);break;case 10:Wn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(pr,1&pr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(ut(pr,1&pr.current),null!==(e=ao(e,t,n))?e.sibling:null);ut(pr,1&pr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return no(e,t,n);t.flags|=128}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),ut(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,La(e,t,n)}return ao(e,t,n)}(e,t,n);Oa=0!==(131072&e.flags)}else Oa=!1,mn&&0!==(1048576&t.flags)&&cn(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ro(e,t),e=t.pendingProps;var a=pt(t,dt.current);Vn(t,n),a=Mr(null,t,r,e,a,n);var o=Nr();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(o=!0,yt(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Jn(t),a.updater=ba,t.stateNode=a,a._reactInternals=t,wa(t,r,e,n),t=za(null,t,r,!0,o,n)):(t.tag=0,mn&&o&&dn(t),Fa(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return ss(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===b)return 14}return 2}(r),e=ga(r,e),a){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=Wa(null,t,r,e,n);break e;case 11:t=Ra(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,ga(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ua(e,t,r,a=t.elementType===r?a:ga(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wa(e,t,r,a=t.elementType===r?a:ga(r,a),n);case 3:e:{if($a(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Qn(e,t),rr(t,r,null,n);var s=t.memoizedState;if(r=s.element,X&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Va(e,t,r,n,a=Sa(Error(i(423)),t));break e}if(r!==a){t=Va(e,t,r,n,a=Sa(Error(i(424)),t));break e}for(X&&(pn=ze(t.stateNode.containerInfo),hn=t,mn=!0,vn=null,gn=!1),n=Rn(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(En(),r===a){t=ao(e,t,n);break e}Fa(e,t,r,n)}t=t.child}return t;case 5:return fr(t),null===e&&xn(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,z(r,a)?s=null:null!==o&&z(r,o)&&(t.flags|=32),Ba(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&xn(t),null;case 13:return Ja(e,t,n);case 4:return cr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Fn(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ra(e,t,r,a=t.elementType===r?a:ga(r,a),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,Wn(0,r,s=a.value),null!==o)if(Kt(o.value,s)){if(o.children===a.children&&!ft.current){t=ao(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Zn(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),$n(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),$n(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Fa(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Vn(t,n),r=r(a=Gn(a)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return a=ga(r=t.type,t.pendingProps),Aa(e,t,r,a=ga(r.type,a),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ga(r,a),ro(e,t),t.tag=1,mt(r)?(e=!0,yt(t)):e=!1,Vn(t,n),_a(t,r,a),wa(t,r,a,n),za(null,t,r,!0,e,n);case 19:return no(e,t,n);case 22:return La(e,t,n)}throw Error(i(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Yn(e,134217728);if(null!==t)Di(t,e,134217728,Mi());ys(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Yn(e,1);if(null!==t)Di(t,e,1,Mi());ys(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ni(e),n=Yn(e,t);if(null!==n)Di(n,e,t,Mi());ys(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kt(t.pendingLanes);0!==n&&(Ot(t,1|n),Oi(t,Ut()),0===(6&ni)&&(bi(),Qt()))}break;case 13:Bi((function(){var t=Yn(e,1);if(null!==t){var n=Mi();Di(t,e,1,n)}})),ys(e,1)}},t.batchedUpdates=function(e,t){var n=ni;ni|=1;try{return e(t)}finally{0===(ni=n)&&(bi(),Yt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:Wo,value:e}},t.createContainer=function(e,t,n,r,a,o,i){return ms(e,t,!1,null,0,r,0,o,i)},t.createHasPseudoClassSelector=function(e){return{$$typeof:zo,value:e}},t.createHydrationContainer=function(e,t,n,r,a,o,i,s,l){return(e=ms(n,r,!0,e,0,o,0,s,l)).context=gs(null),n=e.current,(o=Zn(r=Mi(),a=Ni(n))).callback=void 0!==t&&null!==t?t:null,er(n,o,a),e.current.lanes=a,Dt(e,a,r),Oi(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:$o,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Vo,value:e}},t.createTextSelector=function(e){return{$$typeof:Go,value:e}},t.deferredUpdates=function(e){var t=Ft,n=ti.transition;try{return ti.transition=null,Ft=16,e()}finally{Ft=t,ti.transition=n}},t.discreteUpdates=function(e,t,n,r,a){var o=Ft,i=ti.transition;try{return ti.transition=null,Ft=1,e(t,n,r,a)}finally{Ft=o,ti.transition=i,0===ni&&bi()}},t.findAllNodes=Jo,t.findBoundingRects=function(e,t){if(!re)throw Error(i(363));t=Jo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,a=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&o>=f&&a<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<o||f>s)){f>o&&(u.height+=f-o,u.y=o),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(o!==f||n.height!==u.height||d<r||c>a)){c>r&&(u.width+=c-r,u.x=r),d<a&&(u.width=a-c),e.splice(t,1);break}}return e},t.findHostInstance=vs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=P(e))?M(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return vs(e)},t.flushControlled=function(e){var t=ni;ni|=1;var n=ti.transition,r=Ft;try{ti.transition=null,Ft=1,e()}finally{Ft=r,ti.transition=n,0===(ni=t)&&(bi(),Qt())}},t.flushPassiveEffects=Ji,t.flushSync=Bi,t.focusWithin=function(e,t){if(!re)throw Error(i(363));for(t=Xo(e=Ko(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ft},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(i(363));var n=0,r=[];e=[Ko(e),0];for(var a=0;a<e.length;){var o=e[a++],s=e[a++],l=t[s];if((5!==o.tag||!se(o))&&(qo(o,l)&&(r.push(Yo(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Yo(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:_s,findFiberByHostInstance:e.findFiberByHostInstance||xs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),Ht=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(i(363));e=Jo(e,t);var a=ce(e,n,r).disconnect;return{disconnect:function(){a()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var a=t.current,o=Mi(),i=Ni(a);return n=gs(n),null===t.context?t.context=n:t.pendingContext=n,(t=Zn(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=er(a,t,i))&&(Di(e,a,i,o),tr(e,a,i)),i},t}},9586:(e,t,n)=>{"use strict";e.exports=n(7302)},2016:(e,t,n)=>{"use strict";e.exports=n(6958)},5475:(e,t,n)=>{"use strict";var r,a;n.d(t,{Kd:()=>h,N_:()=>g});var o=n(5043),i=n(7950),s=n(3216),l=n(1387);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(y){}new Map;const f=(r||(r=n.t(o,2))).startTransition;(a||(a=n.t(i,2))).flushSync,(r||(r=n.t(o,2))).useId;function h(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();null==i.current&&(i.current=(0,l.zR)({window:a,v5Compat:!0}));let u=i.current,[c,d]=o.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=o.useCallback((e=>{h&&f?f((()=>d(e))):d(e)}),[d,h]);return o.useLayoutEffect((()=>u.listen(p)),[u,p]),o.useEffect((()=>(0,s.V8)(r)),[r]),o.createElement(s.Ix,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=o.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:f,state:h,target:g,to:v,preventScrollReset:b,viewTransition:_}=e,x=c(e,d),{basename:w}=o.useContext(s.jb),S=!1;if("string"===typeof v&&m.test(v)&&(n=v,p))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=(0,l.pb)(t.pathname,w);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:S=!0}catch(y){}let C=(0,s.$P)(v,{relative:a}),E=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:u,viewTransition:c}=void 0===t?{}:t,d=(0,s.Zp)(),f=(0,s.zy)(),h=(0,s.x$)(e,{relative:u});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(f)===(0,l.AO)(h);d(e,{replace:n,state:a,preventScrollReset:i,relative:u,viewTransition:c})}}),[f,d,h,r,a,n,e,i,u,c])}(v,{replace:f,state:h,target:g,preventScrollReset:b,relative:a,viewTransition:_});return o.createElement("a",u({},x,{href:n||C,onClick:S||i?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:t,target:g}))}));var v,b;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(b||(b={}))},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>h,BV:()=>A,Ix:()=>R,V8:()=>O,Zp:()=>v,g:()=>b,jb:()=>u,qh:()=>F,x$:()=>y,zy:()=>m});var a=n(5043),o=n(1387);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const s=a.createContext(null);const l=a.createContext(null);const u=a.createContext(null);const c=a.createContext(null);const d=a.createContext({outlet:null,matches:[],isDataRoute:!1});const f=a.createContext(null);function h(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,o.Oi)(!1);let{basename:r,navigator:i}=a.useContext(u),{hash:s,pathname:l,search:c}=y(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,o.HS)([r,l])),i.createHref({pathname:d,search:c,hash:s})}function p(){return null!=a.useContext(c)}function m(){return p()||(0,o.Oi)(!1),a.useContext(c).location}function g(e){a.useContext(u).static||a.useLayoutEffect(e)}function v(){let{isDataRoute:e}=a.useContext(d);return e?function(){let{router:e}=j(k.UseNavigateStable),t=M(P.UseNavigateStable),n=a.useRef(!1);return g((()=>{n.current=!0})),a.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,i({fromRouteId:t},a)))}),[e,t])}():function(){p()||(0,o.Oi)(!1);let e=a.useContext(s),{basename:t,future:n,navigator:r}=a.useContext(u),{matches:i}=a.useContext(d),{pathname:l}=m(),c=JSON.stringify((0,o.yD)(i,n.v7_relativeSplatPath)),f=a.useRef(!1);return g((()=>{f.current=!0})),a.useCallback((function(n,a){if(void 0===a&&(a={}),!f.current)return;if("number"===typeof n)return void r.go(n);let i=(0,o.Gh)(n,JSON.parse(c),l,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:(0,o.HS)([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)}),[t,r,c,l,e])}()}function b(){let{matches:e}=a.useContext(d),t=e[e.length-1];return t?t.params:{}}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(u),{matches:i}=a.useContext(d),{pathname:s}=m(),l=JSON.stringify((0,o.yD)(i,r.v7_relativeSplatPath));return a.useMemo((()=>(0,o.Gh)(e,JSON.parse(l),s,"path"===n)),[e,l,s,n])}function _(e,t,n,r){p()||(0,o.Oi)(!1);let{navigator:s,static:l}=a.useContext(u),{matches:f}=a.useContext(d),h=f[f.length-1],g=h?h.params:{},v=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let b,y=m();if(t){var _;let e="string"===typeof t?(0,o.Rr)(t):t;"/"===v||(null==(_=e.pathname)?void 0:_.startsWith(v))||(0,o.Oi)(!1),b=e}else b=y;let x=b.pathname||"/",w=x;if("/"!==v){let e=v.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=!l&&n&&n.matches&&n.matches.length>0?n.matches:(0,o.ue)(e,{pathname:w});let C=E(S&&S.map((e=>Object.assign({},e,{params:Object.assign({},g,e.params),pathname:(0,o.HS)([v,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?v:(0,o.HS)([v,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),f,n,r);return t&&C?a.createElement(c.Provider,{value:{location:i({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:o.rc.Pop}},C):C}function x(){let e=function(){var e;let t=a.useContext(f),n=T(P.UseRouteError),r=M(P.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,o.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const w=a.createElement(x,null);class S extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(d.Provider,{value:this.props.routeContext},a.createElement(f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C(e){let{routeContext:t,match:n,children:r}=e,o=a.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(d.Provider,{value:t},r)}function E(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,u=null==(i=n)?void 0:i.errors;if(null!=u){let e=l.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||(0,o.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,o)=>{let i,s=!1,f=null,h=null;var p;n&&(i=u&&r.route.id?u[r.route.id]:void 0,f=r.route.errorElement||w,c&&(d<0&&0===o?(p="route-fallback",!1||N[p]||(N[p]=!0),s=!0,h=null):d===o&&(s=!0,h=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),g=()=>{let t;return t=i?f:s?h:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(C,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?a.createElement(S,{location:n.location,revalidation:n.revalidation,component:f,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),P=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(P||{});function j(e){let t=a.useContext(s);return t||(0,o.Oi)(!1),t}function T(e){let t=a.useContext(l);return t||(0,o.Oi)(!1),t}function M(e){let t=function(){let e=a.useContext(d);return e||(0,o.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.Oi)(!1),n.route.id}const N={};const D=(e,t,n)=>{};function O(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&D("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||D("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&D("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&D("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&D("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&D("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(a,2))).startTransition;function F(e){(0,o.Oi)(!1)}function R(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.rc.Pop,navigator:l,static:d=!1,future:f}=e;p()&&(0,o.Oi)(!1);let h=t.replace(/^\/*/,"/"),m=a.useMemo((()=>({basename:h,navigator:l,static:d,future:i({v7_relativeSplatPath:!1},f)})),[h,f,l,d]);"string"===typeof r&&(r=(0,o.Rr)(r));let{pathname:g="/",search:v="",hash:b="",state:y=null,key:_="default"}=r,x=a.useMemo((()=>{let e=(0,o.pb)(g,h);return null==e?null:{location:{pathname:e,search:v,hash:b,state:y,key:_},navigationType:s}}),[h,g,v,b,y,_,s]);return null==x?null:a.createElement(u.Provider,{value:m},a.createElement(c.Provider,{children:n,value:x}))}function A(e){let{children:t,location:n}=e;return _(I(t),n)}new Promise((()=>{}));a.Component;function I(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,I(e.props.children,i));e.type!==F&&(0,o.Oi)(!1),e.props.index&&e.props.children&&(0,o.Oi)(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=I(e.props.children,i)),n.push(s)})),n}},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=y.prototype=new b;_.constructor=y,m(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+j(l,0):o,x(i)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+j(s=e[u],u);l+=T(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,c=o+j(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},F={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,_(e),!m)if(null!==r(u))m=!0,O(w);else{var t=r(c);null!==t&&F(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(k),k=-1),p=!0;var o=h;try{for(_(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&a(u),_(n)}else a(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&F(x,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,k=-1,P=5,j=-1;function T(){return!(t.unstable_now()-j<P)}function M(){if(null!==E){var e=t.unstable_now();j=e;var n=!0;try{n=E(!0,e)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"===typeof y)S=function(){y(M)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=M,S=function(){D.postMessage(null)}}else S=function(){v(M,0)};function O(e){E=e,C||(C=!0,S())}function F(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(b(k),k=-1):g=!0,F(x,o-i))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9849:(e,t,n)=>{"use strict";var r=n(7199),a=Array.prototype.concat,o=Array.prototype.slice,i=e.exports=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var s=e[n];r(s)?t=a.call(t,o.call(s)):t.push(s)}return t};i.wrap=function(e){return function(){return e(i(arguments))}}},7199:e=>{e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},6440:e=>{"use strict";var t=function(){};e.exports=t},2553:()=>{},6180:(e,t,n)=>{"use strict";n.d(t,{ai:()=>Fe});var r=n(579),a=n(2166),o=n(5043),i=n(393),s=25,l=()=>(0,r.jsx)("svg",{width:s,height:s,viewBox:"0 0 25 25",fill:"none",children:(0,r.jsx)("path",{d:"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z",fill:"white",stroke:"white",strokeWidth:"6.25",strokeLinejoin:"round"})}),u=()=>(0,r.jsxs)("svg",{viewBox:"0 0 100 100",width:s,height:s,children:[(0,r.jsx)("rect",{x:"25",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"}),(0,r.jsx)("rect",{x:"55",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"})]}),c=e=>{let{isFullscreen:t}=e;const n=32,a=t?0:3,o=t?6*1.6:3,i=t?6*1.6:12;return(0,r.jsxs)("svg",{viewBox:"0 0 32 32",height:16,width:16,children:[(0,r.jsx)("path",{d:`\n\t\t\t\tM ${a} ${i}\n\t\t\t\tL ${o} ${o}\n\t\t\t\tL ${i} ${a}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,r.jsx)("path",{d:`\n\t\t\t\tM ${n-a} ${i}\n\t\t\t\tL ${n-o} ${o}\n\t\t\t\tL ${n-i} ${a}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,r.jsx)("path",{d:`\n\t\t\t\tM ${a} ${n-i}\n\t\t\t\tL ${o} ${n-o}\n\t\t\t\tL ${i} ${n-a}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,r.jsx)("path",{d:`\n\t\t\t\tM ${n-a} ${n-i}\n\t\t\t\tL ${n-o} ${n-o}\n\t\t\t\tL ${n-i} ${n-a}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"})]})},d=()=>(0,r.jsx)("svg",{width:s,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z",fill:"#fff"})}),f=()=>(0,r.jsx)("svg",{width:s,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",fill:"#fff"})}),h="__remotion_buffering_indicator",p="__remotion_buffering_animation",m={width:s,height:s,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},g={width:14,height:14,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},v=e=>{let{type:t}=e;const n="player"===t?m:g;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{type:"text/css",children:`\n\t\t\t\t@keyframes ${p} {\n          0% {\n            rotate: 0deg;\n          }\n          100% {\n            rotate: 360deg;\n          }\n        }\n        \n        .${h} {\n            animation: ${p} 1s linear infinite;\n        }        \n\t\t\t`}),(0,r.jsx)("div",{style:n,children:(0,r.jsx)("svg",{viewBox:"player"===t?"0 0 22 22":"0 0 18 18",style:n,className:h,children:(0,r.jsx)("path",{d:"player"===t?"M 11 4 A 7 7 0 0 1 15.1145 16.66312":"M 9 2 A 7 7 0 0 1 13.1145 14.66312",stroke:"white",strokeLinecap:"round",fill:"none",strokeWidth:3})})})]})},b=e=>{let{currentSize:t,width:n,height:r,compositionWidth:a,compositionHeight:o}=e;return void 0!==n&&void 0===r||void 0!==r&&void 0===n?{aspectRatio:[a,o].join("/")}:{width:a,height:o}},y=e=>{let{previewSize:t,compositionWidth:n,compositionHeight:r,canvasSize:o}=e;const i=a.Internals.calculateScale({canvasSize:o,compositionHeight:r,compositionWidth:n,previewSize:t}),s=0-(1-i)/2,l=s*n,u=s*r,c=n*i,d=r*i;return{centerX:o.width/2-c/2,centerY:o.height/2-d/2,xCorrection:l,yCorrection:u,scale:i}},_=e=>{let{config:t,style:n,canvasSize:r,overflowVisible:a,layout:o}=e;return t?{position:"relative",overflow:a?"visible":"hidden",...b({compositionHeight:t.height,compositionWidth:t.width,currentSize:r,height:n?.height,width:n?.width}),opacity:o?1:0,...n}:{}},x=e=>{let{config:t,canvasSize:n,layout:r,scale:a,overflowVisible:o}=e;return t&&n&&r?{position:"absolute",width:t.width,height:t.height,display:"flex",transform:`scale(${a})`,marginLeft:r.xCorrection,marginTop:r.yCorrection,overflow:o?"visible":"hidden"}:{}},w=e=>{let{layout:t,scale:n,config:r,overflowVisible:a}=e;if(!t||!r)return{};const{centerX:o,centerY:i}=t;return{width:r.width*n,height:r.height*n,display:"flex",flexDirection:"column",position:"absolute",left:o,top:i,overflow:a?"visible":"hidden"}},S=o.createContext(void 0),C=o.createContext(void 0);class E{listeners={ended:[],error:[],pause:[],play:[],ratechange:[],scalechange:[],seeked:[],timeupdate:[],frameupdate:[],fullscreenchange:[],volumechange:[],mutechange:[],waiting:[],resume:[]};addEventListener(e,t){this.listeners[e].push(t)}removeEventListener(e,t){this.listeners[e]=this.listeners[e].filter((e=>e!==t))}dispatchEvent(e,t){this.listeners[e].forEach((e=>{e({detail:t})}))}dispatchSeek=e=>{this.dispatchEvent("seeked",{frame:e})};dispatchVolumeChange=e=>{this.dispatchEvent("volumechange",{volume:e})};dispatchPause=()=>{this.dispatchEvent("pause",void 0)};dispatchPlay=()=>{this.dispatchEvent("play",void 0)};dispatchEnded=()=>{this.dispatchEvent("ended",void 0)};dispatchRateChange=e=>{this.dispatchEvent("ratechange",{playbackRate:e})};dispatchScaleChange=e=>{this.dispatchEvent("scalechange",{scale:e})};dispatchError=e=>{this.dispatchEvent("error",{error:e})};dispatchTimeUpdate=e=>{this.dispatchEvent("timeupdate",e)};dispatchFrameUpdate=e=>{this.dispatchEvent("frameupdate",e)};dispatchFullscreenChange=e=>{this.dispatchEvent("fullscreenchange",e)};dispatchMuteChange=e=>{this.dispatchEvent("mutechange",e)};dispatchWaiting=e=>{this.dispatchEvent("waiting",e)};dispatchResume=e=>{this.dispatchEvent("resume",e)}}class k{listeners={error:[],waiting:[],resume:[]};addEventListener(e,t){this.listeners[e].push(t)}removeEventListener(e,t){this.listeners[e]=this.listeners[e].filter((e=>e!==t))}dispatchEvent(e,t){this.listeners[e].forEach((e=>{e({detail:t})}))}dispatchError=e=>{this.dispatchEvent("error",{error:e})};dispatchWaiting=e=>{this.dispatchEvent("waiting",e)};dispatchResume=e=>{this.dispatchEvent("resume",e)}}var P=e=>{const t=(0,o.useContext)(a.Internals.BufferingContextReact);if(!t)throw new Error("BufferingContextReact not found");(0,o.useEffect)((()=>{const n=t.listenForBuffering((()=>{t.buffering.current=!0,e.dispatchWaiting({})})),r=t.listenForResume((()=>{t.buffering.current=!1,e.dispatchResume({})}));return()=>{n.remove(),r.remove()}}),[t,e])},j=e=>{let{children:t,currentPlaybackRate:n}=e;const[i]=(0,o.useState)((()=>new E));if(!(0,o.useContext)(a.Internals.BufferingContextReact))throw new Error("BufferingContextReact not found");return(0,o.useEffect)((()=>{n&&i.dispatchRateChange(n)}),[i,n]),P(i),(0,r.jsx)(S.Provider,{value:i,children:t})},T=()=>{const e=a.Internals.Timeline.useTimelinePosition(),t=(0,o.useRef)(e);t.current=e;return(0,o.useCallback)((()=>t.current),[])},M=(e,t)=>{const[n,r]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:n}=e;if(!n)return;let a;const o=()=>{t&&(clearTimeout(a),a=setTimeout((()=>{r(!1)}),!0===t?3e3:t))},i=()=>{r(!0),o()},s=()=>{r(!1),clearTimeout(a)},l=()=>{r(!0),o()};return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",s),n.addEventListener("mousemove",l),()=>{n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",s),n.removeEventListener("mousemove",l),clearTimeout(a)}}),[t,e]),n},N=()=>{const[e,t,n]=a.Internals.Timeline.usePlayingState(),[r,i]=(0,o.useState)(!1),s=a.Internals.Timeline.useTimelinePosition(),l=(0,o.useRef)(s),u=a.Internals.Timeline.useTimelineSetFrame(),c=a.Internals.Timeline.useTimelineSetFrame(),d=(0,o.useContext)(a.Internals.SharedAudioContext),{audioAndVideoTags:f}=(0,o.useContext)(a.Internals.Timeline.TimelineContext),h=(0,o.useRef)(s);h.current=s;const p=a.Internals.useVideo(),m=a.Internals.useUnsafeVideoConfig(),g=(0,o.useContext)(S),v=(m?.durationInFrames??1)-1,b=s===v,y=0===s;if(!g)throw new TypeError("Expected Player event emitter context");const _=(0,o.useContext)(a.Internals.BufferingContextReact);if(!_)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");const{buffering:x}=_,w=(0,o.useCallback)((e=>{p?.id&&c((t=>({...t,[p.id]:e}))),h.current=e,g.dispatchSeek(e)}),[g,c,p?.id]),C=(0,o.useCallback)((e=>{n.current||(i(!0),b&&w(0),d&&d.numberOfAudioTags>0&&e&&d.playAllAudios(),f.current.forEach((e=>e.play())),n.current=!0,t(!0),l.current=h.current,g.dispatchPlay())}),[n,b,d,t,g,w,f]),E=(0,o.useCallback)((()=>{n.current&&(n.current=!1,t(!1),g.dispatchPause())}),[g,n,t]),k=(0,o.useCallback)((()=>{n.current&&(n.current=!1,h.current=l.current,m&&(c((e=>({...e,[m.id]:l.current}))),t(!1),g.dispatchPause()))}),[m,g,n,t,c]),P=p?.id,j=(0,o.useCallback)((e=>{if(!P)return null;n.current||u((t=>{const n=t[P]??window.remotion_initialFrame??0;return{...t,[P]:Math.max(0,n-e)}}))}),[n,u,P]),M=(0,o.useCallback)((e=>{if(!P)return null;n.current||u((t=>{const n=t[P]??window.remotion_initialFrame??0;return{...t,[P]:Math.min(v,n+e)}}))}),[P,n,v,u]),N=T(),D=(0,o.useCallback)((e=>{n.current?E():C(e)}),[n,E,C]);return(0,o.useMemo)((()=>({frameBack:j,frameForward:M,isLastFrame:b,emitter:g,playing:e,play:C,pause:E,seek:w,isFirstFrame:y,getCurrentFrame:N,isPlaying:()=>n.current,isBuffering:()=>x.current,pauseAndReturnToPlayStart:k,hasPlayed:r,remotionInternal_currentFrameRef:h,toggle:D})),[x,g,j,M,N,r,n,y,b,E,k,C,e,w,D])},D=()=>"undefined"!==typeof document&&"hidden"===document.visibilityState,O=e=>{let{loop:t,playbackRate:n,moveToBeginningWhenEnded:r,inFrame:i,outFrame:s,browserMediaControlsBehavior:l,getCurrentFrame:u}=e;const c=a.Internals.useUnsafeVideoConfig(),d=a.Internals.Timeline.useTimelinePosition(),{playing:f,pause:h,emitter:p}=N(),m=a.Internals.Timeline.useTimelineSetFrame(),g=(0,o.useRef)(null),v=(()=>{const e=(0,o.useRef)(D());return(0,o.useEffect)((()=>{const t=()=>{e.current=D()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[]),e})(),b=(0,o.useRef)(null),y=(0,o.useContext)(a.Internals.BufferingContextReact);if(!y)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");(e=>{let{browserMediaControlsBehavior:t,videoConfig:n,playbackRate:r}=e;const{playing:a,pause:i,play:s,emitter:l,getCurrentFrame:u,seek:c}=N();(0,o.useEffect)((()=>{navigator.mediaSession&&"do-nothing"!==t.mode&&(navigator.mediaSession.playbackState=a?"playing":"paused")}),[t.mode,a]),(0,o.useEffect)((()=>{if(!navigator.mediaSession)return;if("do-nothing"===t.mode)return;const e=()=>{n&&navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:n.durationInFrames/n.fps,playbackRate:r,position:u()/n.fps})};return l.addEventListener("timeupdate",e),()=>{l.removeEventListener("timeupdate",e)}}),[t.mode,l,u,r,n]),(0,o.useEffect)((()=>{if(navigator.mediaSession&&"do-nothing"!==t.mode)return navigator.mediaSession.setActionHandler("play",(()=>{"register-media-session"===t.mode&&s()})),navigator.mediaSession.setActionHandler("pause",(()=>{"register-media-session"===t.mode&&i()})),navigator.mediaSession.setActionHandler("seekto",(e=>{"register-media-session"===t.mode&&void 0!==e.seekTime&&n&&c(Math.round(e.seekTime*n.fps))})),navigator.mediaSession.setActionHandler("seekbackward",(()=>{"register-media-session"===t.mode&&n&&c(Math.max(0,Math.round((u()-10)*n.fps)))})),navigator.mediaSession.setActionHandler("seekforward",(()=>{"register-media-session"===t.mode&&n&&c(Math.max(n.durationInFrames-1,Math.round((u()+10)*n.fps)))})),navigator.mediaSession.setActionHandler("previoustrack",(()=>{"register-media-session"===t.mode&&c(0)})),()=>{navigator.mediaSession.metadata=null,navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("previoustrack",null)}}),[t.mode,u,i,s,c,n])})({browserMediaControlsBehavior:l,playbackRate:n,videoConfig:c}),(0,o.useEffect)((()=>{const e=y.listenForBuffering((()=>{g.current=performance.now()})),t=y.listenForResume((()=>{g.current=null}));return()=>{e.remove(),t.remove()}}),[y]),(0,o.useEffect)((()=>{if(!c)return;if(!f)return;let e=!1,a=null,o=performance.now(),l=0;const d=()=>{null!==a&&("raf"===a.type?cancelAnimationFrame(a.id):clearTimeout(a.id))},b=()=>{e=!0,d()},_=()=>{const a=performance.now()-o,d=s??c.durationInFrames-1,f=i??0,g=u(),{nextFrame:v,framesToAdvance:y,hasEnded:_}=(e=>{let{time:t,currentFrame:n,playbackSpeed:r,fps:a,actualLastFrame:o,actualFirstFrame:i,framesAdvanced:s,shouldLoop:l}=e;const u=(r<0?Math.ceil:Math.floor)(t*r/(1e3/a))-s,c=u+n,d=c>o||c<i,f=!l&&d&&!(n>o||n<i);return r>0?d?{nextFrame:i,framesToAdvance:u,hasEnded:f}:{nextFrame:c,framesToAdvance:u,hasEnded:f}:d?{nextFrame:o,framesToAdvance:u,hasEnded:f}:{nextFrame:c,framesToAdvance:u,hasEnded:f}})({time:a,currentFrame:g,playbackSpeed:n,fps:c.fps,actualFirstFrame:f,actualLastFrame:d,framesAdvanced:l,shouldLoop:t});if(l+=y,v===u()||_&&!r||m((e=>({...e,[c.id]:v}))),_)return b(),h(),void p.dispatchEnded();e||x()},x=()=>{if(g.current){const t=y.listenForResume((()=>{t.remove(),e||(o=performance.now(),l=0,_())}))}else a=v.current?{type:"timeout",id:setTimeout(_,1e3/c.fps)}:{type:"raf",id:requestAnimationFrame(_)}};x();const w=()=>{"visible"!==document.visibilityState&&(d(),_())};return window.addEventListener("visibilitychange",w),()=>{window.removeEventListener("visibilitychange",w),b()}}),[c,t,h,f,m,p,n,i,s,r,v,u,g,y]),(0,o.useEffect)((()=>{const e=setInterval((()=>{b.current!==u()&&(p.dispatchTimeUpdate({frame:u()}),b.current=u())}),250);return()=>clearInterval(e)}),[p,u]),(0,o.useEffect)((()=>{p.dispatchFrameUpdate({frame:d})}),[p,d])},F=[],R=(e,t)=>{const[n,r]=(0,o.useState)((()=>{if(!e.current)return null;const t=e.current.getClientRects();return t[0]?{width:t[0].width,height:t[0].height,left:t[0].x,top:t[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}}:null})),a=(0,o.useMemo)((()=>"undefined"===typeof ResizeObserver?null:new ResizeObserver((e=>{const{contentRect:n,target:a}=e[0],o=a.getClientRects();if(!o?.[0])return void r(null);const i=0===n.width?1:o[0].width/n.width,s=t.shouldApplyCssTransforms?o[0].width:o[0].width*(1/i),l=t.shouldApplyCssTransforms?o[0].height:o[0].height*(1/i);r({width:s,height:l,left:o[0].x,top:o[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})}))),[t.shouldApplyCssTransforms]),i=(0,o.useCallback)((()=>{if(!e.current)return;const t=e.current.getClientRects();t[0]?r((e=>e&&e.width===t[0].width&&e.height===t[0].height&&e.left===t[0].x&&e.top===t[0].y&&e.windowSize.height===window.innerHeight&&e.windowSize.width===window.innerWidth?e:{width:t[0].width,height:t[0].height,left:t[0].x,top:t[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})):r(null)}),[e]);return(0,o.useEffect)((()=>{if(!a)return;const{current:t}=e;return t&&a.observe(t),()=>{t&&a.unobserve(t)}}),[a,e,i]),(0,o.useEffect)((()=>{if(t.triggerOnWindowResize)return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}}),[t.triggerOnWindowResize,i]),(0,o.useEffect)((()=>(F.push(i),()=>{F=F.filter((e=>e!==i))})),[i]),(0,o.useMemo)((()=>n?{...n,refresh:i}:null),[n,i])},A=e=>{let{playing:t,buffering:n}=e;return t&&n?(0,r.jsx)(v,{type:"player"}):t?(0,r.jsx)(u,{}):(0,r.jsx)(l,{})},I=e=>{let{volume:t,isVertical:n,onBlur:i,inputRef:l,setVolume:u}=e;const c=(0,o.useMemo)((()=>{const e={paddingLeft:5,height:s,width:B,display:"inline-flex",alignItems:"center"};return n?{...e,position:"absolute",transform:`rotate(-90deg) translateX(${B/2+12.5}px)`}:{...e}}),[n]),d="undefined"===typeof o.useId?"volume-slider":o.useId(),[f]=(0,o.useState)((()=>`__remotion-volume-slider-${(0,a.random)(d)}`.replace(".",""))),h=(0,o.useCallback)((e=>{u(parseFloat(e.target.value))}),[u]),p=(0,o.useMemo)((()=>{const e={WebkitAppearance:"none",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:2.5,cursor:"pointer",height:5,width:B,backgroundImage:`linear-gradient(\n\t\t\t\tto right,\n\t\t\t\twhite ${100*t}%, rgba(255, 255, 255, 0) ${100*t}%\n\t\t\t)`};return n?{...e,bottom:s+B/2}:e}),[n,t]),m=`\n\t.${f}::-webkit-slider-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: 6px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n\n\t.${f}::-moz-range-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: 6px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n`;return(0,r.jsxs)("div",{style:c,children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:m}}),(0,r.jsx)("input",{ref:l,"aria-label":"Change volume",className:f,max:1,min:0,onBlur:i,onChange:h,step:.01,type:"range",value:t,style:p})]})},L=e=>(0,r.jsx)(I,{...e}),B=100,U=e=>{let{displayVerticalVolumeSlider:t,renderMuteButton:n,renderVolumeSlider:i}=e;const[l,u]=a.Internals.useMediaMutedState(),[c,h]=a.Internals.useMediaVolumeState(),[p,m]=(0,o.useState)(!1),g=(0,o.useRef)(null),v=(0,o.useRef)(null),b=M(g,!1),y=(0,o.useCallback)((()=>{setTimeout((()=>{v.current&&document.activeElement!==v.current&&m(!1)}),10)}),[]),_=0===c,x=(0,o.useCallback)((()=>{if(_)return h(1),void u(!1);u((e=>!e))}),[_,u,h]),w=(0,o.useMemo)((()=>({display:"inline-flex",background:"none",border:"none",justifyContent:"center",alignItems:"center",touchAction:"none",...t&&{position:"relative"}})),[t]),S=(0,o.useMemo)((()=>({display:"inline",width:s,height:s,cursor:"pointer",appearance:"none",background:"none",border:"none",padding:0})),[]),C=(0,o.useCallback)((e=>{let{muted:t,volume:n}=e;const a=t||0===n;return(0,r.jsx)("button",{"aria-label":a?"Unmute sound":"Mute sound",title:a?"Unmute sound":"Mute sound",onClick:x,onBlur:y,onFocus:()=>m(!0),style:S,type:"button",children:a?(0,r.jsx)(d,{}):(0,r.jsx)(f,{})})}),[y,x,S]),E=(0,o.useMemo)((()=>n?n({muted:l,volume:c}):C({muted:l,volume:c})),[l,c,C,n]),k=(0,o.useMemo)((()=>!p&&!b||l||a.Internals.isIosSafari()?null:(i??L)({isVertical:t,volume:c,onBlur:()=>m(!1),inputRef:v,setVolume:h})),[t,p,b,l,c,i,h]);return(0,r.jsxs)("div",{ref:g,style:w,children:[E,k]})};var W={height:30,paddingRight:15,paddingLeft:12,display:"flex",flexDirection:"row",alignItems:"center"},z={width:22,display:"flex",alignItems:"center"},$={width:14,height:14,color:"black"},V=()=>(0,r.jsx)("svg",{viewBox:"0 0 512 512",style:$,children:(0,r.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}),G=e=>{let{rate:t,onSelect:n,selectedRate:a,keyboardSelectedRate:i}=e;const s=(0,o.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),n(t)}),[n,t]),[l,u]=(0,o.useState)(!1),c=(0,o.useCallback)((()=>{u(!0)}),[]),d=(0,o.useCallback)((()=>{u(!1)}),[]),f=i===t,h=(0,o.useMemo)((()=>({...W,backgroundColor:l||f?"#eee":"transparent"})),[l,f]);return(0,r.jsxs)("div",{onMouseEnter:c,onMouseLeave:d,tabIndex:0,style:h,onClick:s,children:[(0,r.jsx)("div",{style:z,children:t===a?(0,r.jsx)(V,{}):null}),t.toFixed(1),"x"]},t)},H=e=>{let{setIsComponentVisible:t,playbackRates:n,canvasSize:i}=e;const{setPlaybackRate:s,playbackRate:l}=(0,o.useContext)(a.Internals.Timeline.TimelineContext),[u,c]=(0,o.useState)(l);(0,o.useEffect)((()=>{const e=e=>{if(e.preventDefault(),"ArrowUp"===e.key){const e=n.findIndex((e=>e===u));if(0===e)return;c(-1===e?n[0]:n[e-1])}else if("ArrowDown"===e.key){const e=n.findIndex((e=>e===u));if(e===n.length-1)return;c(-1===e?n[n.length-1]:n[e+1])}else"Enter"===e.key&&(s(u),t(!1))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,u,s,t]);const d=(0,o.useCallback)((e=>{s(e),t(!1)}),[t,s]),f=(0,o.useMemo)((()=>({position:"absolute",right:0,width:125,maxHeight:i.height-70-35,bottom:35,background:"#fff",borderRadius:4,overflow:"auto",color:"black",textAlign:"left"})),[i.height]);return(0,r.jsx)("div",{style:f,children:n.map((e=>(0,r.jsx)(G,{selectedRate:l,onSelect:d,rate:e,keyboardSelectedRate:u},e)))})},K={fontSize:13,fontWeight:"bold",color:"white",border:"2px solid white",borderRadius:20,paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2},q={appearance:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,height:37,display:"inline-flex",marginBottom:0,marginTop:0,alignItems:"center"},Y={...q,position:"relative"},X=e=>{let{playbackRates:t,canvasSize:n}=e;const{ref:i,isComponentVisible:s,setIsComponentVisible:l}=function(e){const[t,n]=(0,o.useState)(e),r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&n(!1)};return document.addEventListener("pointerup",e,!0),()=>{document.removeEventListener("pointerup",e,!0)}}),[]),{ref:r,isComponentVisible:t,setIsComponentVisible:n}}(!1),{playbackRate:u}=(0,o.useContext)(a.Internals.Timeline.TimelineContext),c=(0,o.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),l((e=>!e))}),[l]);return(0,r.jsx)("div",{ref:i,children:(0,r.jsxs)("button",{type:"button","aria-label":"Change playback rate",style:Y,onClick:c,children:[(0,r.jsxs)("div",{style:K,children:[u,"x"]}),s&&(0,r.jsx)(H,{canvasSize:n,playbackRates:t,setIsComponentVisible:l})]})})},J=(e,t,n)=>{const r=e;return Math.round((0,a.interpolate)(r,[0,n],[0,t-1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"}))},Q={userSelect:"none",WebkitUserSelect:"none",paddingTop:4,paddingBottom:4,boxSizing:"border-box",cursor:"pointer",position:"relative",touchAction:"none"},Z={height:5,backgroundColor:"rgba(255, 255, 255, 0.25)",width:"100%",borderRadius:2.5},ee=e=>{let{durationInFrames:t,onSeekEnd:n,onSeekStart:i,inFrame:s,outFrame:l}=e;const u=(0,o.useRef)(null),c=M(u,!1),d=R(u,{triggerOnWindowResize:!0,shouldApplyCssTransforms:!0}),{seek:f,play:h,pause:p,playing:m}=N(),g=a.Internals.Timeline.useTimelinePosition(),[v,b]=(0,o.useState)({dragging:!1}),y=d?.width??0,_=(0,o.useCallback)((e=>{if(0!==e.button)return;const n=u.current?.getBoundingClientRect().left,r=J(e.clientX-n,t,y);p(),f(r),b({dragging:!0,wasPlaying:m}),i()}),[t,y,p,f,m,i]),x=(0,o.useCallback)((e=>{if(!d)throw new Error("Player has no size");if(!v.dragging)return;const n=u.current?.getBoundingClientRect().left,r=J(e.clientX-n,t,d.width);f(r)}),[v.dragging,t,f,d]),w=(0,o.useCallback)((()=>{b({dragging:!1}),v.dragging&&(v.wasPlaying?h():p(),n())}),[v,n,p,h]);(0,o.useEffect)((()=>{if(!v.dragging)return;const e=(e=>{let t=e;for(;t.parentElement;)t=t.parentElement;return t})(u.current);return e.addEventListener("pointermove",x),e.addEventListener("pointerup",w),()=>{e.removeEventListener("pointermove",x),e.removeEventListener("pointerup",w)}}),[v.dragging,x,w]);const S=(0,o.useMemo)((()=>({height:12,width:12,borderRadius:6,position:"absolute",top:.5,backgroundColor:"white",left:Math.max(0,g/Math.max(1,t-1)*y-6),boxShadow:"0 0 2px black",opacity:Number(c||v.dragging)})),[c,v.dragging,t,g,y]),C=(0,o.useMemo)((()=>({height:5,backgroundColor:"rgba(255, 255, 255, 1)",width:(g-(s??0))/(t-1)*y,marginLeft:(s??0)/(t-1)*y,borderRadius:2.5})),[t,g,s,y]),E=(0,o.useMemo)((()=>({height:5,backgroundColor:"rgba(255, 255, 255, 0.25)",width:((l??t-1)-(s??0))/(t-1)*100+"%",marginLeft:(s??0)/(t-1)*100+"%",borderRadius:2.5,position:"absolute"})),[t,s,l]);return(0,r.jsxs)("div",{ref:u,onPointerDown:_,style:Q,children:[(0,r.jsxs)("div",{style:Z,children:[(0,r.jsx)("div",{style:E}),(0,r.jsx)("div",{style:C})]}),(0,r.jsx)("div",{style:S})]})},te=e=>{const t=Math.floor(e/60),n=Math.floor(e-60*t);return`${String(t)}:${String(n).padStart(2,"0")}`},ne=e=>{let{durationInFrames:t,maxTimeLabelWidth:n,fps:i}=e;const s=a.Internals.Timeline.useTimelinePosition(),l=(0,o.useMemo)((()=>({color:"white",fontFamily:"sans-serif",fontSize:14,maxWidth:null===n?void 0:n,overflow:"hidden",textOverflow:"ellipsis"})),[n]);return(0,r.jsxs)("div",{style:l,children:[te(s/i)," / ",te(t/i)]})},re=[0,8.1,15.5,22.5,29,35.3,41.2,47.1,52.9,58.8,64.7,71,77.5,84.5,91.9],ae=1/.7,oe={boxSizing:"border-box",position:"absolute",bottom:0,width:"100%",paddingTop:40,paddingBottom:10,backgroundImage:`linear-gradient(to bottom,${[0,.013,.049,.104,.175,.259,.352,.45,.55,.648,.741,.825,.896,.951,.987].map(((e,t)=>`hsla(0, 0%, 0%, ${e}) ${re[t]*ae}%`)).join(", ")}, hsl(0, 0%, 0%) 100%)`,backgroundSize:"auto 145px",display:"flex",paddingRight:12,paddingLeft:12,flexDirection:"column",transition:"opacity 0.3s"},ie={display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none"},se={display:"flex",flexDirection:"row",userSelect:"none",WebkitUserSelect:"none",alignItems:"center"},le={width:12},ue={height:8},ce={flex:1},de={},fe=e=>{let{durationInFrames:t,isFullscreen:n,fps:a,showVolumeControls:i,onFullscreenButtonClick:s,allowFullscreen:l,onExitFullscreenButtonClick:u,spaceKeyToPlayOrPause:d,onSeekEnd:f,onSeekStart:h,inFrame:p,outFrame:m,initiallyShowControls:g,canvasSize:v,renderPlayPauseButton:b,renderFullscreenButton:y,alwaysShowControls:_,showPlaybackRateControl:x,containerRef:w,buffering:S,hideControlsWhenPointerDoesntMove:C,onPointerDown:E,onDoubleClick:k,renderMuteButton:P,renderVolumeSlider:j,playing:T,toggle:N}=e;const D=(0,o.useRef)(null),[O,F]=(0,o.useState)(!1),R=M(w,C),{maxTimeLabelWidth:I,displayVerticalVolumeSlider:L}=(e=>{let{allowFullscreen:t,playerWidth:n}=e;return(0,o.useMemo)((()=>{const e=50+(t?16:0)+24+20,r=n-e,a=Math.max(r,0),o=a-B;return{maxTimeLabelWidth:0===a?null:a,displayVerticalVolumeSlider:n<(o<B?a:o)+e+B}}),[t,n])})({allowFullscreen:l,playerWidth:v?.width??0}),[W,z]=(0,o.useState)((()=>{if("boolean"===typeof g)return g;if("number"===typeof g){if(g%1!==0)throw new Error("initiallyShowControls must be an integer or a boolean");if(Number.isNaN(g))throw new Error("initiallyShowControls must not be NaN");if(!Number.isFinite(g))throw new Error("initiallyShowControls must be finite");if(g<=0)throw new Error("initiallyShowControls must be a positive integer");return g}throw new TypeError("initiallyShowControls must be a number or a boolean")})),$=(0,o.useMemo)((()=>({...oe,opacity:Number(R||!T||W||_)})),[R,W,T,_]);(0,o.useEffect)((()=>{D.current&&d&&D.current.focus({preventScroll:!0})}),[T,d]),(0,o.useEffect)((()=>{F(("undefined"!==typeof document&&(document.fullscreenEnabled||document.webkitFullscreenEnabled))??!1)}),[]),(0,o.useEffect)((()=>{if(!1===W)return;const e=setTimeout((()=>{z(!1)}),!0===W?2e3:W);return()=>{clearInterval(e)}}),[W]);const V=(0,o.useMemo)((()=>{if(!0===x)return[.5,.8,1,1.2,1.5,1.8,2,2.5,3];if(Array.isArray(x)){for(const e of x){if("number"!==typeof e)throw new Error("Every item in showPlaybackRateControl must be a number");if(e<=0)throw new Error("Every item in showPlaybackRateControl must be positive")}return x}return null}),[x]),G=(0,o.useRef)(null),H=(0,o.useRef)(null),K=(0,o.useCallback)((e=>{e.target!==G.current&&e.target!==H.current||E?.(e)}),[E]),Y=(0,o.useCallback)((e=>{e.target!==G.current&&e.target!==H.current||k?.(e)}),[k]);return(0,r.jsxs)("div",{ref:G,style:$,onPointerDown:K,onDoubleClick:Y,children:[(0,r.jsxs)("div",{ref:H,style:ie,children:[(0,r.jsxs)("div",{style:se,children:[(0,r.jsx)("button",{ref:D,type:"button",style:q,onClick:N,"aria-label":T?"Pause video":"Play video",title:T?"Pause video":"Play video",children:null===b?(0,r.jsx)(A,{buffering:S,playing:T}):b({playing:T,isBuffering:S})??(0,r.jsx)(A,{buffering:S,playing:T})}),i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:le}),(0,r.jsx)(U,{renderMuteButton:P,renderVolumeSlider:j,displayVerticalVolumeSlider:L})]}):null,(0,r.jsx)("div",{style:le}),(0,r.jsx)(ne,{durationInFrames:t,fps:a,maxTimeLabelWidth:I}),(0,r.jsx)("div",{style:le})]}),(0,r.jsx)("div",{style:ce}),V&&v&&(0,r.jsx)(X,{canvasSize:v,playbackRates:V}),V&&O&&l?(0,r.jsx)("div",{style:le}):null,(0,r.jsx)("div",{style:de,children:O&&l?(0,r.jsx)("button",{type:"button","aria-label":n?"Exit fullscreen":"Enter Fullscreen",title:n?"Exit fullscreen":"Enter Fullscreen",style:q,onClick:n?u:s,children:null===y?(0,r.jsx)(c,{isFullscreen:n}):y({isFullscreen:n})}):null})]}),(0,r.jsx)("div",{style:ue}),(0,r.jsx)(ee,{onSeekEnd:f,onSeekStart:h,durationInFrames:t,inFrame:p,outFrame:m})]})},he={display:"flex",justifyContent:"center",alignItems:"center",flex:1,height:"100%",width:"100%"};class pe extends o.Component{state={hasError:null};static getDerivedStateFromError(e){return{hasError:e}}componentDidCatch(e){this.props.onError(e)}render(){return this.state.hasError?(0,r.jsx)("div",{style:he,children:this.props.errorFallback({error:this.state.hasError})}):this.props.children}}var me={backgroundColor:"red",position:"absolute",padding:12,fontFamily:"Arial"},ge=["28d262b44cc61fa750f1686b16ad0604dabfe193fbc263eec05c89b7ad4c2cd6","4db1b0a94be33165dfefcb3ba03d04c7a2666dd27c496d3dc9fa41858e94925e","fbc48530bbf245da790f63675e84e06bab38c3b114fab07eb350025119922bdc","7baf10a8932757b1b3a22b3fce10a048747ac2f8eaf638603487e3705b07eb83","8a6c21a598d8c667272b5207c051b85997bf5b45d5fb712378be3f27cd72c6a6","a2f7aaac9c50a9255e7fc376110c4e0bfe153722dc66ed3c5d3bf2a135f65518"],ve=!1,be=()=>{const[e,t]=o.useState(!1);return(0,o.useEffect)((()=>{ve||(ve=!0,(async()=>{if("undefined"===typeof window)return null;if("undefined"===typeof window.crypto)return null;if("undefined"===typeof window.crypto.subtle)return null;try{const e=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(window.location.hostname));return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}catch{return null}})().then((e=>{e&&ge.includes(e)&&t(!0)})).catch((()=>{})))}),[]),(0,o.useEffect)((()=>{if(!e)return;const t=new MutationObserver((()=>(()=>{if(!document.querySelector(".warning-banner")){const e=document.createElement("div");e.className="warning-banner",Object.assign(e.style,me,{zIndex:"9999",cssText:`${me.cssText} !important;`}),e.innerHTML='\n\t        <a href="https://github.com/remotion-dev/remotion/pull/4589" style="color: white;">\n\t          Remotion Unlicensed \u2013 Contact hi@remotion.dev\n\t        </a>\n\t      ',document.body.appendChild(e)}})()));return t.observe(document.body,{childList:!0,subtree:!0}),()=>{t.disconnect()}}),[e]),e?(0,r.jsx)("div",{style:me,className:"warning-banner",children:(0,r.jsx)("a",{style:{color:"white"},href:"https://github.com/remotion-dev/remotion/pull/4589",children:"Remotion Unlicensed \u2013 Contact hi@remotion.dev"})}):null},ye=e=>e??"__remotion-player",_e="undefined"===typeof document,xe=(e,t,n)=>{const r=(()=>{const e=(0,o.useRef)([]),t=(0,o.useCallback)((t=>{e.current=[...e.current,t]}),[]),n=(0,o.useCallback)((t=>{e.current=e.current.filter((e=>e!==t))}),[]),r=(0,o.useCallback)((()=>e.current.map((e=>e.cancel()))),[]);return(0,o.useMemo)((()=>({appendPendingPromise:t,removePendingPromise:n,clearPendingPromises:r})),[t,r,n])})(),a=(0,o.useCallback)((async t=>{if(t instanceof PointerEvent?"touch"===t.pointerType:"touch"===t.nativeEvent.pointerType)return void e(t);r.clearPendingPromises();const n=(e=>{let t=!1;return{promise:new Promise(((n,r)=>{e.then((e=>{t?r({isCanceled:t,value:e}):n(e)})).catch((e=>{r({isCanceled:t,error:e})}))})),cancel:()=>{t=!0}}})((a=200,new Promise((e=>setTimeout(e,a)))));var a;r.appendPendingPromise(n);try{await n.promise,r.removePendingPromise(n),e(t)}catch(o){const e=o;if(r.removePendingPromise(n),!e.isCanceled)throw e.error}}),[r,e]),i=(0,o.useCallback)((()=>{document.addEventListener("pointerup",(e=>{a(e)}),{once:!0})}),[a]),s=(0,o.useCallback)((()=>{r.clearPendingPromises(),t()}),[r,t]);return(0,o.useMemo)((()=>n?{handlePointerDown:i,handleDoubleClick:s}:{handlePointerDown:e,handleDoubleClick:()=>{}}),[n,s,i,e])},we=o.version.split(".")[0];if("0"===we)throw new Error(`Version ${we} of "react" is not supported by Remotion`);var Se=parseInt(we,10)>=18,Ce=(0,o.forwardRef)(((e,t)=>{let{controls:n,style:i,loop:s,autoPlay:l,allowFullscreen:u,inputProps:c,clickToPlay:d,showVolumeControls:f,doubleClickToFullscreen:h,spaceKeyToPlayOrPause:p,errorFallback:m,playbackRate:g,renderLoading:v,renderPoster:b,className:S,moveToBeginningWhenEnded:C,showPosterWhenUnplayed:E,showPosterWhenEnded:k,showPosterWhenPaused:P,showPosterWhenBuffering:j,inFrame:T,outFrame:M,initiallyShowControls:D,renderFullscreen:F,renderPlayPauseButton:A,renderMuteButton:I,renderVolumeSlider:L,alwaysShowControls:B,showPlaybackRateControl:U,posterFillMode:W,bufferStateDelayInMilliseconds:z,hideControlsWhenPointerDoesntMove:$,overflowVisible:V,browserMediaControlsBehavior:G,overrideInternalClassName:H}=e;const K=a.Internals.useUnsafeVideoConfig(),q=a.Internals.useVideo(),Y=(0,o.useRef)(null),X=R(Y,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),[J,Q]=(0,o.useState)(!1),[Z,ee]=(0,o.useState)(l),[te,ne]=(0,o.useState)((()=>!1)),[re,ae]=(0,o.useState)(!1),oe=(0,o.useMemo)((()=>"undefined"!==typeof document&&Boolean(document.fullscreenEnabled||document.webkitFullscreenEnabled)),[]),ie=N(),se=ie.toggle;O({loop:s,playbackRate:g,moveToBeginningWhenEnded:C,inFrame:T,outFrame:M,getCurrentFrame:ie.getCurrentFrame,browserMediaControlsBehavior:G}),(0,o.useEffect)((()=>{J&&!ie.playing&&(Q(!1),ie.play())}),[J,ie]),(0,o.useEffect)((()=>{const{current:e}=Y;if(!e)return;const t=()=>{const t=document.fullscreenElement===e||document.webkitFullscreenElement===e;ne(t)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}}),[]);const le=(0,o.useCallback)((e=>{se(e)}),[se]),ue=(0,o.useCallback)((()=>{if(!u)throw new Error("allowFullscreen is false");if(!oe)throw new Error("Browser doesnt support fullscreen");if(!Y.current)throw new Error("No player ref found");Y.current.webkitRequestFullScreen?Y.current.webkitRequestFullScreen():Y.current.requestFullscreen()}),[u,oe]),ce=(0,o.useCallback)((()=>{document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen()}),[]);(0,o.useEffect)((()=>{const{current:e}=Y;if(!e)return;const t=()=>{const e=document.webkitFullscreenElement??document.fullscreenElement;e&&e===Y.current?ie.emitter.dispatchFullscreenChange({isFullscreen:!0}):ie.emitter.dispatchFullscreenChange({isFullscreen:!1})};return e.addEventListener("webkitfullscreenchange",t),e.addEventListener("fullscreenchange",t),()=>{e.removeEventListener("webkitfullscreenchange",t),e.removeEventListener("fullscreenchange",t)}}),[ie.emitter]);const de=K?.durationInFrames??1,he=(0,o.useMemo)((()=>K&&X?y({canvasSize:X,compositionHeight:K.height,compositionWidth:K.width,previewSize:"auto"}):null),[X,K]),me=he?.scale??1,ge=(0,o.useRef)(!1);(0,o.useEffect)((()=>{ge.current?ie.emitter.dispatchScaleChange(me):ge.current=!0}),[ie.emitter,me]);const{setMediaVolume:ve,setMediaMuted:we}=(0,o.useContext)(a.Internals.SetMediaVolumeContext),{mediaMuted:Ce,mediaVolume:Ee}=(0,o.useContext)(a.Internals.MediaVolumeContext);(0,o.useEffect)((()=>{ie.emitter.dispatchVolumeChange(Ee)}),[ie.emitter,Ee]);const ke=Ce||0===Ee;(0,o.useEffect)((()=>{ie.emitter.dispatchMuteChange({isMuted:ke})}),[ie.emitter,ke]);const[Pe,je]=(0,o.useState)(!1);(0,o.useEffect)((()=>{let e=null,t=!1;const n=()=>{t=!1,requestAnimationFrame((()=>{0===z?je(!0):e=setTimeout((()=>{t||je(!0)}),z)}))},r=()=>{requestAnimationFrame((()=>{t=!0,je(!1),e&&clearTimeout(e)}))};return ie.emitter.addEventListener("waiting",n),ie.emitter.addEventListener("resume",r),()=>{ie.emitter.removeEventListener("waiting",n),ie.emitter.removeEventListener("resume",r),je(!1),e&&clearTimeout(e),t=!0}}),[z,ie.emitter]),(0,o.useImperativeHandle)(t,(()=>{const e={play:ie.play,pause:()=>{Q(!1),ie.pause()},toggle:le,getContainerNode:()=>Y.current,getCurrentFrame:ie.getCurrentFrame,isPlaying:ie.isPlaying,seekTo:e=>{const t=de-1,n=Math.max(0,Math.min(t,e));if(ie.isPlaying()){Q(n!==t||s),ie.pause()}n!==t||s||ie.emitter.dispatchEnded(),ie.seek(n)},isFullscreen:()=>{const{current:e}=Y;return!!e&&(document.fullscreenElement===e||document.webkitFullscreenElement===e)},requestFullscreen:ue,exitFullscreen:ce,getVolume:()=>Ce?0:Ee,setVolume:e=>{if("number"!==typeof e)throw new TypeError("setVolume() takes a number, got value of type "+typeof e);if(isNaN(e))throw new TypeError("setVolume() got a number that is NaN. Volume must be between 0 and 1.");if(e<0||e>1)throw new TypeError("setVolume() got a number that is out of range. Must be between 0 and 1, got "+typeof e);ve(e)},isMuted:()=>ke,mute:()=>{we(!0)},unmute:()=>{we(!1)},getScale:()=>me,pauseAndReturnToPlayStart:()=>{ie.pauseAndReturnToPlayStart()}};return Object.assign(ie.emitter,e)}),[de,ce,s,Ce,ke,Ee,ie,ue,we,ve,le,me]);const Te=q?q.component:null,Me=(0,o.useMemo)((()=>_({canvasSize:X,config:K,style:i,overflowVisible:V,layout:he})),[X,K,he,V,i]),Ne=(0,o.useMemo)((()=>w({config:K,layout:he,scale:me,overflowVisible:V})),[K,he,V,me]),De=(0,o.useMemo)((()=>x({canvasSize:X,config:K,layout:he,scale:me,overflowVisible:V})),[X,K,he,V,me]),Oe=ie.pause,Fe=ie.emitter.dispatchError,Re=(0,o.useCallback)((e=>{Oe(),Fe(e)}),[Fe,Oe]),Ae=(0,o.useCallback)((e=>{e.stopPropagation(),ue()}),[ue]),Ie=(0,o.useCallback)((e=>{e.stopPropagation(),ce()}),[ce]),Le=(0,o.useCallback)((e=>{(e instanceof MouseEvent?2===e.button:e.nativeEvent.button)||le(e)}),[le]),Be=(0,o.useCallback)((()=>{ae(!0)}),[]),Ue=(0,o.useCallback)((()=>{ae(!1)}),[]),We=(0,o.useCallback)((()=>{te?ce():ue()}),[ce,te,ue]),{handlePointerDown:ze,handleDoubleClick:$e}=xe(Le,We,h&&u&&oe);(0,o.useEffect)((()=>{Z&&(ie.play(),ee(!1))}),[Z,ie]);const Ve=(0,o.useMemo)((()=>v?v({height:Me.height,width:Me.width,isBuffering:Pe}):null),[Me.height,Me.width,v,Pe]),Ge=(0,o.useMemo)((()=>({type:"scale",scale:me})),[me]);if(!K)return null;const He=b?b({height:"player-size"===W?Me.height:K.height,width:"player-size"===W?Me.width:K.width,isBuffering:Pe}):null;if(void 0===He)throw new TypeError("renderPoster() must return a React element, but undefined was returned");const Ke=He&&[P&&!ie.isPlaying()&&!re,k&&ie.isLastFrame&&!ie.isPlaying(),E&&!ie.hasPlayed&&!ie.isPlaying(),j&&Pe&&ie.isPlaying()].some(Boolean),{left:qe,top:Ye,width:Xe,height:Je,...Qe}=Ne,Ze=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:Ne,onPointerDown:d?ze:void 0,onDoubleClick:h?$e:void 0,children:[(0,r.jsxs)("div",{style:De,className:ye(H),children:[Te?(0,r.jsx)(pe,{onError:Re,errorFallback:m,children:(0,r.jsx)(a.Internals.CurrentScaleContext.Provider,{value:Ge,children:(0,r.jsx)(Te,{...q?.props??{},...c??{}})})}):null,Ke&&"composition-size"===W?(0,r.jsx)("div",{style:{...Qe,width:K.width,height:K.height},onPointerDown:d?ze:void 0,onDoubleClick:h?$e:void 0,children:He}):null]}),(0,r.jsx)(be,{})]}),Ke&&"player-size"===W?(0,r.jsx)("div",{style:Ne,onPointerDown:d?ze:void 0,onDoubleClick:h?$e:void 0,children:He}):null,n?(0,r.jsx)(fe,{fps:K.fps,playing:ie.playing,toggle:ie.toggle,durationInFrames:K.durationInFrames,containerRef:Y,onFullscreenButtonClick:Ae,isFullscreen:te,allowFullscreen:u,showVolumeControls:f,onExitFullscreenButtonClick:Ie,spaceKeyToPlayOrPause:p,onSeekEnd:Ue,onSeekStart:Be,inFrame:T,outFrame:M,initiallyShowControls:D,canvasSize:X,renderFullscreenButton:F,renderPlayPauseButton:A,alwaysShowControls:B,showPlaybackRateControl:U,buffering:Pe,hideControlsWhenPointerDoesntMove:$,onDoubleClick:h?$e:void 0,onPointerDown:d?ze:void 0,renderMuteButton:I,renderVolumeSlider:L}):null]});return _e&&!Se?(0,r.jsx)("div",{ref:Y,style:Me,className:S,children:Ze}):(0,r.jsx)("div",{ref:Y,style:Me,className:S,children:(0,r.jsx)(o.Suspense,{fallback:Ve,children:Ze})})})),Ee="remotion.volumePreference",ke="player-comp",Pe=e=>{let{children:t,timelineContext:n,fps:i,compositionHeight:s,compositionWidth:l,durationInFrames:u,component:c,numberOfSharedAudioTags:d,initiallyMuted:f,logLevel:h}=e;const p=(0,o.useMemo)((()=>({compositions:[{component:c,durationInFrames:u,height:s,width:l,fps:i,id:ke,nonce:777,folderName:null,parentFolderName:null,schema:null,calculateMetadata:null}],folders:[],registerFolder:()=>{},unregisterFolder:()=>{},registerComposition:()=>{},unregisterComposition:()=>{},currentCompositionMetadata:null,setCurrentCompositionMetadata:()=>{},canvasContent:{type:"composition",compositionId:"player-comp"},setCanvasContent:()=>{},updateCompositionDefaultProps:()=>{}})),[c,u,s,l,i]),[m,g]=(0,o.useState)((()=>f)),[v,b]=(0,o.useState)((()=>(()=>{if("undefined"===typeof window)return 1;try{const e=window.localStorage.getItem(Ee);return e?Number(e):1}catch{return 1}})())),y=(0,o.useMemo)((()=>({mediaMuted:m,mediaVolume:v})),[m,v]),_=(0,o.useCallback)((e=>{b(e),((e,t)=>{if("undefined"!==typeof window)try{window.localStorage.setItem(Ee,String(e))}catch(n){a.Internals.Log.error(t,"Could not persist volume",n)}})(e,h)}),[h]),x=(0,o.useMemo)((()=>({setMediaMuted:g,setMediaVolume:_})),[_]),w=(0,o.useMemo)((()=>({logLevel:h,mountTime:Date.now()})),[h]);return(0,r.jsx)(a.Internals.LogLevelContext.Provider,{value:w,children:(0,r.jsx)(a.Internals.CanUseRemotionHooksProvider,{children:(0,r.jsx)(a.Internals.Timeline.TimelineContext.Provider,{value:n,children:(0,r.jsx)(a.Internals.CompositionManager.Provider,{value:p,children:(0,r.jsx)(a.Internals.ResolveCompositionConfig,{children:(0,r.jsx)(a.Internals.PrefetchProvider,{children:(0,r.jsx)(a.Internals.DurationsContextProvider,{children:(0,r.jsx)(a.Internals.MediaVolumeContext.Provider,{value:y,children:(0,r.jsx)(a.Internals.SetMediaVolumeContext.Provider,{value:x,children:(0,r.jsx)(a.Internals.SharedAudioContextProvider,{numberOfAudioTags:d,component:c,children:(0,r.jsx)(a.Internals.BufferingProvider,{children:t})})})})})})})})})})})},je=!1,Te=(e,t)=>{if("undefined"===typeof e||null===e)return e??null;if("number"!==typeof e)throw new TypeError(`"${t}" must be a number, but is ${JSON.stringify(e)}`);if(Number.isNaN(e))throw new TypeError(`"${t}" must not be NaN, but is ${JSON.stringify(e)}`);if(!Number.isFinite(e))throw new TypeError(`"${t}" must be finite, but is ${JSON.stringify(e)}`);if(e%1!==0)throw new TypeError(`"${t}" must be an integer, but is ${JSON.stringify(e)}`);return e},Me=i.NoReactInternals.validateFps,Ne=i.NoReactInternals.validateDimension,De=i.NoReactInternals.validateDurationInFrames,Oe=i.NoReactInternals.validateDefaultAndInputProps,Fe=(0,o.forwardRef)(((e,t)=>{let{durationInFrames:n,compositionHeight:i,compositionWidth:s,fps:l,inputProps:u,style:c,controls:d=!1,loop:f=!1,autoPlay:h=!1,showVolumeControls:p=!0,allowFullscreen:m=!0,clickToPlay:g,doubleClickToFullscreen:v=!1,spaceKeyToPlayOrPause:b=!0,moveToBeginningWhenEnded:y=!0,numberOfSharedAudioTags:_=5,errorFallback:x=()=>"\u26a0\ufe0f",playbackRate:w=1,renderLoading:S,className:C,showPosterWhenUnplayed:E,showPosterWhenEnded:k,showPosterWhenPaused:P,showPosterWhenBuffering:T,initialFrame:M,renderPoster:N,inFrame:D,outFrame:O,initiallyShowControls:F,renderFullscreenButton:R,renderPlayPauseButton:A,renderVolumeSlider:I,alwaysShowControls:L=!1,initiallyMuted:B=!1,showPlaybackRateControl:U=!1,posterFillMode:W="player-size",bufferStateDelayInMilliseconds:z,hideControlsWhenPointerDoesntMove:$=!0,overflowVisible:V=!1,renderMuteButton:G,browserMediaControlsBehavior:H,overrideInternalClassName:K,logLevel:q="info",acknowledgeRemotionLicense:Y,...X}=e;if("undefined"!==typeof window&&(0,o.useLayoutEffect)((()=>{window.remotion_isPlayer=!0}),[]),void 0!==X.defaultProps)throw new Error("The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.");const J="component"in(Q=X)?Q.component:null;var Q;if(J?.type===a.Composition)throw new TypeError("'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");if(J===a.Composition)throw new TypeError("'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");(0,o.useState)((()=>((e,t)=>{e||je||(je=!0,a.Internals.Log.warn(t,"Note: Some companies are required to obtain a license to use Remotion. See: https://remotion.dev/license"),a.Internals.Log.warn(t,"Pass the `acknowledgeRemotionLicense` prop to `<Player />` function to make this message disappear."))})(Boolean(Y),q)));const Z=a.Internals.useLazyComponent({compProps:X,componentName:"Player"});(e=>{let{initialFrame:t,durationInFrames:n}=e;if("number"!==typeof n)throw new Error(`\`durationInFrames\` must be a number, but is ${JSON.stringify(n)}`);if("undefined"!==typeof t){if("number"!==typeof t)throw new Error(`\`initialFrame\` must be a number, but is ${JSON.stringify(t)}`);if(Number.isNaN(t))throw new Error("`initialFrame` must be a number, but is NaN");if(!Number.isFinite(t))throw new Error("`initialFrame` must be a number, but is Infinity");if(t%1!==0)throw new Error(`\`initialFrame\` must be an integer, but is ${JSON.stringify(t)}`);if(t>n-1)throw new Error(`\`initialFrame\` must be less or equal than \`durationInFrames - 1\`, but is ${JSON.stringify(t)}`)}})({initialFrame:M,durationInFrames:n});const[ee,te]=(0,o.useState)((()=>({[ke]:M??0}))),[ne,re]=(0,o.useState)(!1),[ae]=(0,o.useState)("player-comp"),oe=(0,o.useRef)(null),ie=(0,o.useRef)([]),se=(0,o.useRef)(!1),[le,ue]=(0,o.useState)(w);if("number"!==typeof i)throw new TypeError(`'compositionHeight' must be a number but got '${typeof i}' instead`);if("number"!==typeof s)throw new TypeError(`'compositionWidth' must be a number but got '${typeof s}' instead`);if(Ne(i,"compositionHeight","of the <Player /> component"),Ne(s,"compositionWidth","of the <Player /> component"),De(n,{component:"of the <Player/> component",allowFloats:!1}),Me(l,"as a prop of the <Player/> component",!1),Oe(u,"inputProps",null),(e=>{let{inFrame:t,durationInFrames:n,outFrame:r}=e;const a=Te(t,"inFrame"),o=Te(r,"outFrame");if(null!==a||null!==o){if(null!==a&&a>n-1)throw new Error("inFrame must be less than (durationInFrames - 1), but is "+a);if(null!==o&&o>n-1)throw new Error("outFrame must be less than (durationInFrames - 1), but is "+o);if(null!==a&&a<0)throw new Error("inFrame must be greater than 0, but is "+a);if(null!==o&&o<=0)throw new Error(`outFrame must be greater than 0, but is ${o}. If you want to render a single frame, use <Thumbnail /> instead.`);if(null!==o&&null!==a&&o<=a)throw new Error("outFrame must be greater than inFrame, but is "+o+" <= "+a)}})({durationInFrames:n,inFrame:D,outFrame:O}),"boolean"!==typeof d&&"undefined"!==typeof d)throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof d}' instead`);if("boolean"!==typeof h&&"undefined"!==typeof h)throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof h}' instead`);if("boolean"!==typeof f&&"undefined"!==typeof f)throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof f}' instead`);if("boolean"!==typeof v&&"undefined"!==typeof v)throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof v}' instead`);if("boolean"!==typeof p&&"undefined"!==typeof p)throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof p}' instead`);if("boolean"!==typeof m&&"undefined"!==typeof m)throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof m}' instead`);if("boolean"!==typeof g&&"undefined"!==typeof g)throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof g}' instead`);if("boolean"!==typeof b&&"undefined"!==typeof b)throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof b}' instead`);if("number"!==typeof _||_%1!==0||!Number.isFinite(_)||Number.isNaN(_)||_<0)throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${_}' instead`);(e=>{if(void 0!==e){if(e>4)throw new Error(`The highest possible playback rate is 4. You passed: ${e}`);if(e<-4)throw new Error(`The lowest possible playback rate is -4. You passed: ${e}`);if(0===e)throw new Error("A playback rate of 0 is not supported.")}})(le),(0,o.useEffect)((()=>{ue(w)}),[w]),(0,o.useImperativeHandle)(t,(()=>oe.current),[]),(0,o.useState)((()=>{a.Internals.playbackLogging({logLevel:q,message:`[player] Mounting <Player>. User agent = ${"undefined"===typeof navigator?"server":navigator.userAgent}`,tag:"player",mountTime:Date.now()})}));const ce=(0,o.useMemo)((()=>({frame:ee,playing:ne,rootId:ae,playbackRate:le,imperativePlaying:se,setPlaybackRate:e=>{ue(e)},audioAndVideoTags:ie})),[ee,le,ne,ae]),de=(0,o.useMemo)((()=>({setFrame:te,setPlaying:re})),[te]);"undefined"!==typeof window&&(0,o.useLayoutEffect)((()=>{a.Internals.CSSUtils.injectCSS(a.Internals.CSSUtils.makeDefaultPreviewCSS(`.${ye(K)}`,"#fff"))}),[K]);const fe=(0,o.useMemo)((()=>u??{}),[u]),he=(0,o.useMemo)((()=>H??{mode:"prevent-media-session"}),[H]);return(0,r.jsx)(a.Internals.IsPlayerContextProvider,{children:(0,r.jsx)(Pe,{timelineContext:ce,component:Z,compositionHeight:i,compositionWidth:s,durationInFrames:n,fps:l,numberOfSharedAudioTags:_,initiallyMuted:B,logLevel:q,children:(0,r.jsx)(a.Internals.Timeline.SetTimelineContext.Provider,{value:de,children:(0,r.jsx)(j,{currentPlaybackRate:le,children:(0,r.jsx)(Ce,{ref:oe,posterFillMode:W,renderLoading:S,autoPlay:Boolean(h),loop:Boolean(f),controls:Boolean(d),errorFallback:x,style:c,inputProps:fe,allowFullscreen:Boolean(m),moveToBeginningWhenEnded:Boolean(y),clickToPlay:"boolean"===typeof g?g:Boolean(d),showVolumeControls:Boolean(p),doubleClickToFullscreen:Boolean(v),spaceKeyToPlayOrPause:Boolean(b),playbackRate:le,className:C??void 0,showPosterWhenUnplayed:Boolean(E),showPosterWhenEnded:Boolean(k),showPosterWhenPaused:Boolean(P),showPosterWhenBuffering:Boolean(T),renderPoster:N,inFrame:D??null,outFrame:O??null,initiallyShowControls:F??!0,renderFullscreen:R??null,renderPlayPauseButton:A??null,renderMuteButton:G??null,renderVolumeSlider:I??null,alwaysShowControls:L,showPlaybackRateControl:U,bufferStateDelayInMilliseconds:z??300,hideControlsWhenPointerDoesntMove:$,overflowVisible:V,browserMediaControlsBehavior:he,overrideInternalClassName:K??void 0})})})})})})),Re=o.version.split(".")[0];if("0"===Re)throw new Error(`Version ${Re} of "react" is not supported by Remotion`);var Ae=parseInt(Re,10)>=18,Ie=(0,o.forwardRef)(((e,t)=>{let{style:n,inputProps:i,errorFallback:s,renderLoading:l,className:u,overflowVisible:c,overrideInternalClassName:d}=e;const f=a.Internals.useUnsafeVideoConfig(),h=a.Internals.useVideo(),p=(0,o.useRef)(null),m=R(p,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),g=(0,o.useMemo)((()=>f&&m?y({canvasSize:m,compositionHeight:f.height,compositionWidth:f.width,previewSize:"auto"}):null),[m,f]),v=g?.scale??1,b=(()=>{const e=(0,o.useContext)(C);if(!e)throw new TypeError("Expected Player event emitter context");return(0,o.useMemo)((()=>({emitter:e})),[e])})();P(b.emitter),(0,o.useImperativeHandle)(t,(()=>{const e={getContainerNode:()=>p.current,getScale:()=>v};return Object.assign(b.emitter,e)}),[v,b.emitter]);const S=h?h.component:null,E=(0,o.useMemo)((()=>_({config:f,style:n,canvasSize:m,overflowVisible:c,layout:g})),[m,f,g,c,n]),k=(0,o.useMemo)((()=>w({config:f,layout:g,scale:v,overflowVisible:c})),[f,g,c,v]),j=(0,o.useMemo)((()=>x({canvasSize:m,config:f,layout:g,scale:v,overflowVisible:c})),[m,f,g,c,v]),T=(0,o.useCallback)((e=>{b.emitter.dispatchError(e)}),[b.emitter]),M=(0,o.useMemo)((()=>l?l({height:E.height,width:E.width,isBuffering:!1}):null),[E.height,E.width,l]),N=(0,o.useMemo)((()=>({type:"scale",scale:v})),[v]);if(!f)return null;const D=(0,r.jsx)("div",{style:k,children:(0,r.jsx)("div",{style:j,className:ye(d),children:S?(0,r.jsx)(pe,{onError:T,errorFallback:s,children:(0,r.jsx)(a.Internals.CurrentScaleContext.Provider,{value:N,children:(0,r.jsx)(S,{...h?.props??{},...i??{}})})}):null})});return _e&&!Ae?(0,r.jsx)("div",{ref:p,style:E,className:u,children:D}):(0,r.jsx)("div",{ref:p,style:E,className:u,children:(0,r.jsx)(o.Suspense,{fallback:M,children:D})})}));(0,o.forwardRef)(((e,t)=>{let{frameToDisplay:n,style:i,inputProps:s,compositionHeight:l,compositionWidth:u,durationInFrames:c,fps:d,className:f,errorFallback:h=()=>"\u26a0\ufe0f",renderLoading:p,overflowVisible:m=!1,overrideInternalClassName:g,logLevel:v="info",...b}=e;"undefined"!==typeof window&&(0,o.useLayoutEffect)((()=>{window.remotion_isPlayer=!0}),[]);const[y]=(0,o.useState)((()=>String((0,a.random)(null)))),_=(0,o.useRef)(null),x=(0,o.useMemo)((()=>({playing:!1,frame:{[ke]:n},rootId:y,imperativePlaying:{current:!1},playbackRate:1,setPlaybackRate:()=>{throw new Error("thumbnail")},audioAndVideoTags:{current:[]}})),[n,y]);(0,o.useImperativeHandle)(t,(()=>_.current),[]);const w=a.Internals.useLazyComponent({compProps:b,componentName:"Thumbnail"}),[S]=(0,o.useState)((()=>new k)),E=(0,o.useMemo)((()=>s??{}),[s]);return(0,r.jsx)(a.Internals.IsPlayerContextProvider,{children:(0,r.jsx)(Pe,{timelineContext:x,component:w,compositionHeight:l,compositionWidth:u,durationInFrames:c,fps:d,numberOfSharedAudioTags:0,initiallyMuted:!0,logLevel:v,children:(0,r.jsx)(C.Provider,{value:S,children:(0,r.jsx)(Ie,{ref:_,className:f,errorFallback:h,inputProps:E,renderLoading:p,style:i,overflowVisible:m,overrideInternalClassName:g})})})})}))},3204:(e,t,n)=>{"use strict";n.d(t,{Mbp:()=>m,dIn:()=>g,qbC:()=>v});var r=n(5043),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(a),i=["attr","size","title"];function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return e&&e.map(((e,t)=>r.createElement(e.tag,c({key:t},e.attr),f(e.child))))}function h(e){return t=>r.createElement(p,l({attr:c({},e.attr)},t),f(e.child))}function p(e){var t=t=>{var n,{attr:a,size:o,title:u}=e,d=s(e,i),f=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&r.createElement("title",null,u),e.children)};return void 0!==o?r.createElement(o.Consumer,null,(e=>t(e))):t(a)}function m(e){return h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function g(e){return h({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function v(e){return h({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}},8282:(e,t,n)=>{"use strict";n.d(t,{d:()=>Vt});var r=n(5043),a=n(2995);const o=function(e){return e};const i="object"==typeof global&&global&&global.Object===Object&&global;var s="object"==typeof self&&self&&self.Object===Object&&self;const l=i||s||Function("return this")();const u=l.Symbol;var c=Object.prototype,d=c.hasOwnProperty,f=c.toString,h=u?u.toStringTag:void 0;const p=function(e){var t=d.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch(o){}var a=f.call(e);return r&&(t?e[h]=n:delete e[h]),a};var m=Object.prototype.toString;const g=function(e){return m.call(e)};var v=u?u.toStringTag:void 0;const b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?p(e):g(e)};const y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const _=function(e){if(!y(e))return!1;var t=b(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const x=l["__core-js_shared__"];var w=function(){var e=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const S=function(e){return!!w&&w in e};var C=Function.prototype.toString;const E=function(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var k=/^\[object .+?Constructor\]$/,P=Function.prototype,j=Object.prototype,T=P.toString,M=j.hasOwnProperty,N=RegExp("^"+T.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const D=function(e){return!(!y(e)||S(e))&&(_(e)?N:k).test(E(e))};const O=function(e,t){return null==e?void 0:e[t]};const F=function(e,t){var n=O(e,t);return D(n)?n:void 0};var R=F(l,"WeakMap");const A=R&&new R;const I=A?function(e,t){return A.set(e,t),e}:o;var L=Object.create;const B=function(){function e(){}return function(t){if(!y(t))return{};if(L)return L(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const U=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=B(e.prototype),r=e.apply(n,t);return y(r)?r:n}};const W=function(e,t,n){var r=1&t,a=U(e);return function t(){return(this&&this!==l&&this instanceof t?a:e).apply(r?n:this,arguments)}};const z=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var $=Math.max;const V=function(e,t,n,r){for(var a=-1,o=e.length,i=n.length,s=-1,l=t.length,u=$(o-i,0),c=Array(l+u),d=!r;++s<l;)c[s]=t[s];for(;++a<i;)(d||a<o)&&(c[n[a]]=e[a]);for(;u--;)c[s++]=e[a++];return c};var G=Math.max;const H=function(e,t,n,r){for(var a=-1,o=e.length,i=-1,s=n.length,l=-1,u=t.length,c=G(o-s,0),d=Array(c+u),f=!r;++a<c;)d[a]=e[a];for(var h=a;++l<u;)d[h+l]=t[l];for(;++i<s;)(f||a<o)&&(d[h+n[i]]=e[a++]);return d};const K=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};const q=function(){};function Y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Y.prototype=B(q.prototype),Y.prototype.constructor=Y;const X=Y;const J=A?function(e){return A.get(e)}:function(){};const Q={};var Z=Object.prototype.hasOwnProperty;const ee=function(e){for(var t=e.name+"",n=Q[t],r=Z.call(Q,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t};function te(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}te.prototype=B(q.prototype),te.prototype.constructor=te;const ne=te;const re=Array.isArray;const ae=function(e){return null!=e&&"object"==typeof e};const oe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const ie=function(e){if(e instanceof X)return e.clone();var t=new ne(e.__wrapped__,e.__chain__);return t.__actions__=oe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t};var se=Object.prototype.hasOwnProperty;function le(e){if(ae(e)&&!re(e)&&!(e instanceof X)){if(e instanceof ne)return e;if(se.call(e,"__wrapped__"))return ie(e)}return new ne(e)}le.prototype=q.prototype,le.prototype.constructor=le;const ue=le;const ce=function(e){var t=ee(e),n=ue[t];if("function"!=typeof n||!(t in X.prototype))return!1;if(e===n)return!0;var r=J(n);return!!r&&e===r[0]};var de=Date.now;const fe=function(e){var t=0,n=0;return function(){var r=de(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const he=fe(I);var pe=/\{\n\/\* \[wrapped with (.+)\] \*/,me=/,? & /;const ge=function(e){var t=e.match(pe);return t?t[1].split(me):[]};var ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const be=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ve,"{\n/* [wrapped with "+t+"] */\n")};const ye=function(e){return function(){return e}};const _e=function(){try{var e=F(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const xe=fe(_e?function(e,t){return _e(e,"toString",{configurable:!0,enumerable:!1,value:ye(t),writable:!0})}:o);const we=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Se=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1};const Ce=function(e){return e!==e};const Ee=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1};const ke=function(e,t,n){return t===t?Ee(e,t,n):Se(e,Ce,n)};const Pe=function(e,t){return!!(null==e?0:e.length)&&ke(e,t,0)>-1};var je=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const Te=function(e,t){return we(je,(function(n){var r="_."+n[0];t&n[1]&&!Pe(e,r)&&e.push(r)})),e.sort()};const Me=function(e,t,n){var r=t+"";return xe(e,be(r,Te(ge(r),n)))};const Ne=function(e,t,n,r,a,o,i,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,a,c?o:void 0,c?i:void 0,c?void 0:o,c?void 0:i,s,l,u],f=n.apply(void 0,d);return ce(e)&&he(f,d),f.placeholder=r,Me(f,e,t)};const De=function(e){return e.placeholder};var Oe=/^(?:0|[1-9]\d*)$/;const Fe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Oe.test(e))&&e>-1&&e%1==0&&e<t};var Re=Math.min;const Ae=function(e,t){for(var n=e.length,r=Re(t.length,n),a=oe(e);r--;){var o=t[r];e[r]=Fe(o,n)?a[o]:void 0}return e};var Ie="__lodash_placeholder__";const Le=function(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==Ie||(e[n]=Ie,o[a++]=n)}return o};const Be=function e(t,n,r,a,o,i,s,u,c,d){var f=128&n,h=1&n,p=2&n,m=24&n,g=512&n,v=p?void 0:U(t);return function b(){for(var y=arguments.length,_=Array(y),x=y;x--;)_[x]=arguments[x];if(m)var w=De(b),S=K(_,w);if(a&&(_=V(_,a,o,m)),i&&(_=H(_,i,s,m)),y-=S,m&&y<d){var C=Le(_,w);return Ne(t,n,e,b.placeholder,r,_,C,u,c,d-y)}var E=h?r:this,k=p?E[t]:t;return y=_.length,u?_=Ae(_,u):g&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==l&&this instanceof b&&(k=v||U(k)),k.apply(E,_)}};const Ue=function(e,t,n){var r=U(e);return function a(){for(var o=arguments.length,i=Array(o),s=o,u=De(a);s--;)i[s]=arguments[s];var c=o<3&&i[0]!==u&&i[o-1]!==u?[]:Le(i,u);return(o-=c.length)<n?Ne(e,t,Be,a.placeholder,void 0,i,c,void 0,void 0,n-o):z(this&&this!==l&&this instanceof a?r:e,this,i)}};const We=function(e,t,n,r){var a=1&t,o=U(e);return function t(){for(var i=-1,s=arguments.length,u=-1,c=r.length,d=Array(c+s),f=this&&this!==l&&this instanceof t?o:e;++u<c;)d[u]=r[u];for(;s--;)d[u++]=arguments[++i];return z(f,a?n:this,d)}};var ze="__lodash_placeholder__",$e=128,Ve=Math.min;const Ge=function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,i=r==$e&&8==n||r==$e&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!i)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?V(l,s,t[4]):s,e[4]=l?Le(e[3],ze):t[4]}return(s=t[5])&&(l=e[5],e[5]=l?H(l,s,t[6]):s,e[6]=l?Le(e[5],ze):t[6]),(s=t[7])&&(e[7]=s),r&$e&&(e[8]=null==e[8]?t[8]:Ve(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e};var He=/\s/;const Ke=function(e){for(var t=e.length;t--&&He.test(e.charAt(t)););return t};var qe=/^\s+/;const Ye=function(e){return e?e.slice(0,Ke(e)+1).replace(qe,""):e};const Xe=function(e){return"symbol"==typeof e||ae(e)&&"[object Symbol]"==b(e)};var Je=/^[-+]0x[0-9a-f]+$/i,Qe=/^0b[01]+$/i,Ze=/^0o[0-7]+$/i,et=parseInt;const tt=function(e){if("number"==typeof e)return e;if(Xe(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ye(e);var n=Qe.test(e);return n||Ze.test(e)?et(e.slice(2),n?2:8):Je.test(e)?NaN:+e};var nt=1/0;const rt=function(e){return e?(e=tt(e))===nt||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const at=function(e){var t=rt(e),n=t%1;return t===t?n?t-n:t:0};var ot=Math.max;const it=function(e,t,n,r,a,o,i,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=a=void 0),i=void 0===i?i:ot(at(i),0),s=void 0===s?s:at(s),u-=a?a.length:0,64&t){var c=r,d=a;r=a=void 0}var f=l?void 0:J(e),h=[e,t,n,r,a,c,d,o,i,s];if(f&&Ge(h,f),e=h[0],t=h[1],n=h[2],r=h[3],a=h[4],!(s=h[9]=void 0===h[9]?l?0:e.length:ot(h[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Ue(e,t,s):32!=t&&33!=t||a.length?Be.apply(void 0,h):We(e,t,n,r);else var p=W(e,t,n);return Me((f?I:he)(p,h),e,t)};function st(e,t,n){var r=it(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=st.placeholder,r}st.placeholder={};const lt=st;const ut={threezerotwofour:{scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},apathy:{scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},ashes:{scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},atelierDune:{scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},atelierForest:{scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},atelierHeath:{scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},atelierLakeside:{scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},atelierSeaside:{scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},bespin:{scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},brewer:{scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},bright:{scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},chalk:{scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},codeschool:{scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},colors:{scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},default:{scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},eighties:{scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},embers:{scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},flat:{scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},google:{scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},grayscale:{scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},greenscreen:{scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},harmonic:{scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},hopscotch:{scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},isotope:{scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},marrakesh:{scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},mocha:{scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},monokai:{scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},nicinabox:{scheme:"nicinabox",author:"nicinabox (http://github.com/nicinabox)",base00:"#2A2F3A",base01:"#3C444F",base02:"#4F5A65",base03:"#BEBEBE",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#FFFFFF",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#FC6D24",base0A:"#ddb26f",base0B:"#A1C659",base0C:"#12cfc0",base0D:"#6FB3D2",base0E:"#D381C3",base0F:"#deaf8f"},ocean:{scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},paraiso:{scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},pop:{scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},railscasts:{scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},shapeshifter:{scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},solarized:{scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},summerfruit:{scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},tomorrow:{scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},tube:{scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},twilight:{scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"}},ct=ut.default,dt=Object.keys(ct),ft=e=>{const t=a(e),[n,r,o]=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}(t.array());var i;const s=function(e){const t=e[0],n=e[1],r=e[2];let a,o,i;return a=1*t+0*n+1.13983*r,o=1*t+-.39465*n+-.5806*r,i=1*t+2.02311*n+0*r,a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[255*a,255*o,255*i]}([(i=n,i<.25?1:i<.5?.9-i:1.1-i),r,o]);return a.rgb(s).hex()},ht=e=>t=>({className:[t.className,e.className].filter(Boolean).join(" "),style:{...t.style||{},...e.style||{}}}),pt=(e,t)=>{const n=Object.keys(t);for(const r in e)-1===n.indexOf(r)&&n.push(r);return n.reduce(((n,r)=>(n[r]=((e,t)=>{if(void 0===e)return t;if(void 0===t)return e;const n=typeof t;switch(typeof e){case"string":switch(n){case"string":return[t,e].filter(Boolean).join(" ");case"object":return ht({className:e,style:t});case"function":return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return ht({className:e})(t(n,...a))}}break;case"object":switch(n){case"string":return ht({className:t,style:e});case"object":return{...t,...e};case"function":return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return ht({style:e})(t(n,...a))}}break;case"function":switch(n){case"string":return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e(ht(n)({className:t}),...a)};case"object":return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e(ht(n)({style:t}),...a)};case"function":return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e(t(n,...a),...a)}}}})(e[r],t[r]),n)),{})},mt=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(null===t)return e;Array.isArray(t)||(t=[t]);const o=t.map((t=>e[t])).filter(Boolean).reduce(((e,t)=>("string"===typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===typeof t?e.style={...e.style,...t}:"function"===typeof t&&(e={...e,...t(e,...r)}),e)),{className:"",style:{}});return o.className||delete o.className,0===Object.keys(o.style).length&&delete o.style,o},gt=e=>Object.keys(e).reduce(((t,n)=>(t[n]=/^base/.test(n)?ft(e[n]):"scheme"===n?e[n]+":inverted":e[n],t)),{}),vt=lt((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{defaultBase16:r=ct,base16Themes:a=null}=t,o=yt(n,a);o&&(n={...o,...n});const i=dt.reduce(((e,t)=>(e[t]=n[t]||r[t],e)),{}),s=Object.keys(n).reduce(((e,t)=>-1===dt.indexOf(t)?(e[t]=n[t],e):e),{}),l=e(i),u=pt(s,l);for(var c=arguments.length,d=new Array(c>3?c-3:0),f=3;f<c;f++)d[f-3]=arguments[f];return lt(mt,2)(u,...d)}),3),bt=e=>!!e.extend,yt=(e,t)=>{if(e&&bt(e)&&e.extend&&(e=e.extend),"string"===typeof e){const[n,r]=e.split(":");e=t?t[n]:ut[n],"inverted"===r&&(e=gt(e))}return e&&Object.prototype.hasOwnProperty.call(e,"base00")?e:void 0},_t=e=>"string"===typeof e?`${e}:inverted`:e&&bt(e)&&e.extend?"string"===typeof e.extend?{...e,extend:`${e.extend}:inverted`}:{...e,extend:gt(e.extend)}:e?gt(e):e;function xt(e){let{styling:t,arrowStyle:n="single",expanded:a,nodeType:o,onClick:i}=e;return r.createElement("div",{...t("arrowContainer",n),onClick:i},r.createElement("div",{...t(["arrow","arrowSign"],o,a,n)},"\u25b6","double"===n&&r.createElement("div",{...t(["arrowSign","arrowSignInner"])},"\u25b6")))}function wt(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if("Object"===e){let e=Object.getOwnPropertyNames(t);n&&e.sort(!0===n?void 0:n),e=e.slice(a,o+1),r={entries:e.map((e=>({key:e,value:t[e]})))}}else if("Array"===e)r={entries:t.slice(a,o+1).map(((e,t)=>({key:t+a,value:e})))};else{let e=0;const n=[];let i=!0;const s=function(e){return"function"===typeof e.set}(t);for(const r of t){if(e>o){i=!1;break}a<=e&&(s&&Array.isArray(r)?"string"===typeof r[0]||"number"===typeof r[0]?n.push({key:r[0],value:r[1]}):n.push({key:`[entry ${e}]`,value:{"[key]":r[0],"[value]":r[1]}}):n.push({key:e,value:r})),e++}r={hasMore:!i,entries:n}}return r}function St(e,t,n){const r=[];for(;t-e>n*n;)n*=n;for(let a=e;a<=t;a+=n)r.push({from:a,to:Math.min(t,a+n-1)});return r}function Ct(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0;const i=wt.bind(null,e,t,n);if(!r)return i().entries;const s=o<1/0,l=Math.min(o-a,function(e,t){return"Object"===e?Object.keys(t).length:"Array"===e?t.length:1/0}(e,t));if("Iterable"!==e){if(l<=r||r<7)return i(a,o).entries}else if(l<=r&&!s)return i(a,o).entries;let u;if("Iterable"===e){const{hasMore:e,entries:t}=i(a,a+r-1);u=e?[...t,...St(a+r,a+2*r-1,r)]:t}else u=s?St(a,o,r):[...i(0,r-5).entries,...St(r-4,l-5,r),...i(l-4,l-1).entries];return u}function Et(e){const{styling:t,from:n,to:a,renderChildNodes:o,nodeType:i}=e,[s,l]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{l(!s)}),[s]);return s?r.createElement("div",{...t("itemRange",s)},o(e,n,a)):r.createElement("div",{...t("itemRange",s),onClick:u},r.createElement(xt,{nodeType:i,styling:t,expanded:!1,onClick:u,arrowStyle:"double"}),`${n} ... ${a}`)}function kt(e,t,n){const{nodeType:a,data:o,collectionLimit:i,circularCache:s,keyPath:l,postprocessValue:u,sortObjectKeys:c}=e,d=[];return Ct(a,o,c,i,t,n).forEach((t=>{if(void 0!==t.to)d.push(r.createElement(Et,{...e,key:`ItemRange--${t.from}-${t.to}`,from:t.from,to:t.to,renderChildNodes:kt}));else{const{key:n,value:a}=t,o=-1!==s.indexOf(a);d.push(r.createElement(Rt,{...e,postprocessValue:u,collectionLimit:i,key:`Node--${n}`,keyPath:[n,...l],value:u(a),circularCache:[...s,a],isCircular:o,hideRoot:!1}))}})),d}function Pt(e){const{circularCache:t=[],collectionLimit:n,createItemString:a,data:o,expandable:i,getItemString:s,hideRoot:l,isCircular:u,keyPath:c,labelRenderer:d,level:f=0,nodeType:h,nodeTypeIndicator:p,shouldExpandNodeInitially:m,styling:g}=e,[v,b]=(0,r.useState)(!u&&m(c,o,f)),y=(0,r.useCallback)((()=>{i&&b(!v)}),[i,v]),_=v||l&&0===f?kt({...e,circularCache:t,level:f+1}):null,x=s(h,o,r.createElement("span",{...g("nestedNodeItemType",v)},p),a(o,n),c),w=[c,h,v,i];return l?r.createElement("li",{...g("rootNode",...w)},r.createElement("ul",{...g("rootNodeChildren",...w)},_)):r.createElement("li",{...g("nestedNode",...w)},i&&r.createElement(xt,{styling:g,nodeType:h,expanded:v,onClick:y}),r.createElement("label",{...g(["label","nestedNodeLabel"],...w),onClick:y},d(...w)),r.createElement("span",{...g("nestedNodeItemString",...w),onClick:y},x),r.createElement("ul",{...g("nestedNodeChildren",...w)},_))}function jt(e){const t=Object.getOwnPropertyNames(e).length;return`${t} ${1!==t?"keys":"key"}`}function Tt(e){let{data:t,...n}=e;return r.createElement(Pt,{...n,data:t,nodeType:"Object",nodeTypeIndicator:"Error"===n.nodeType?"Error()":"{}",createItemString:jt,expandable:Object.getOwnPropertyNames(t).length>0})}function Mt(e){return`${e.length} ${1!==e.length?"items":"item"}`}function Nt(e){let{data:t,...n}=e;return r.createElement(Pt,{...n,data:t,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:Mt,expandable:t.length>0})}function Dt(e,t){let n=0,r=!1;if(Number.isSafeInteger(e.size))n=e.size;else for(const a of e){if(t&&n+1>t){r=!0;break}n+=1}return`${r?">":""}${n} ${1!==n?"entries":"entry"}`}function Ot(e){return r.createElement(Pt,{...e,nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:Dt,expandable:!0})}function Ft(e){let{nodeType:t,styling:n,labelRenderer:a,keyPath:o,valueRenderer:i,value:s,valueGetter:l=e=>e}=e;return r.createElement("li",{...n("value",t,o)},r.createElement("label",{...n(["label","valueLabel"],t,o)},a(o,t,!1,!1)),r.createElement("span",{...n("valueText",t,o)},i(l(s),s,...o)))}function Rt(e){let{getItemString:t,keyPath:n,labelRenderer:a,styling:o,value:i,valueRenderer:s,isCustomNode:l,...u}=e;const c=l(i)?"Custom":function(e){const t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&"function"===typeof e[Symbol.iterator]?"Iterable":"Custom"===t&&e.constructor!==Object&&e instanceof Object?"Object":t}(i),d={getItemString:t,key:n[0],keyPath:n,labelRenderer:a,nodeType:c,styling:o,value:i,valueRenderer:s},f={...u,...d,data:i,isCustomNode:l};switch(c){case"Object":case"Error":case"WeakMap":case"WeakSet":return r.createElement(Tt,{...f});case"Array":return r.createElement(Nt,{...f});case"Iterable":case"Map":case"Set":return r.createElement(Ot,{...f});case"String":return r.createElement(Ft,{...d,valueGetter:e=>`"${e}"`});case"Number":case"Custom":return r.createElement(Ft,{...d});case"Boolean":return r.createElement(Ft,{...d,valueGetter:e=>e?"true":"false"});case"Date":return r.createElement(Ft,{...d,valueGetter:e=>e.toISOString()});case"Null":return r.createElement(Ft,{...d,valueGetter:()=>"null"});case"Undefined":return r.createElement(Ft,{...d,valueGetter:()=>"undefined"});case"Function":case"Symbol":return r.createElement(Ft,{...d,valueGetter:e=>e.toString()});default:return r.createElement(Ft,{...d,valueGetter:()=>`<${c}>`})}}const At=e=>({String:e.STRING_COLOR,Date:e.DATE_COLOR,Number:e.NUMBER_COLOR,Boolean:e.BOOLEAN_COLOR,Null:e.NULL_COLOR,Undefined:e.UNDEFINED_COLOR,Function:e.FUNCTION_COLOR,Symbol:e.SYMBOL_COLOR}),It=vt((e=>{const t=(e=>({BACKGROUND_COLOR:e.base00,TEXT_COLOR:e.base07,STRING_COLOR:e.base0B,DATE_COLOR:e.base0B,NUMBER_COLOR:e.base09,BOOLEAN_COLOR:e.base09,NULL_COLOR:e.base08,UNDEFINED_COLOR:e.base08,FUNCTION_COLOR:e.base08,SYMBOL_COLOR:e.base08,LABEL_COLOR:e.base0D,ARROW_COLOR:e.base0D,ITEM_STRING_COLOR:e.base0B,ITEM_STRING_EXPANDED_COLOR:e.base03}))(e);return{tree:{border:0,padding:0,marginTop:"0.5em",marginBottom:"0.5em",marginLeft:"0.125em",marginRight:0,listStyle:"none",MozUserSelect:"none",WebkitUserSelect:"none",backgroundColor:t.BACKGROUND_COLOR},value:(e,t,n)=>{let{style:r}=e;return{style:{...r,paddingTop:"0.25em",paddingRight:0,marginLeft:"0.875em",WebkitUserSelect:"text",MozUserSelect:"text",wordWrap:"break-word",paddingLeft:n.length>1?"2.125em":"1.25em",textIndent:"-0.5em",wordBreak:"break-all"}}},label:{display:"inline-block",color:t.LABEL_COLOR},valueLabel:{margin:"0 0.5em 0 0"},valueText:(e,n)=>{let{style:r}=e;return{style:{...r,color:At(t)[n]}}},itemRange:(e,n)=>({style:{paddingTop:n?0:"0.25em",cursor:"pointer",color:t.LABEL_COLOR}}),arrow:(e,t,n)=>{let{style:r}=e;return{style:{...r,marginLeft:0,transition:"150ms",WebkitTransition:"150ms",MozTransition:"150ms",WebkitTransform:n?"rotateZ(90deg)":"rotateZ(0deg)",MozTransform:n?"rotateZ(90deg)":"rotateZ(0deg)",transform:n?"rotateZ(90deg)":"rotateZ(0deg)",transformOrigin:"45% 50%",WebkitTransformOrigin:"45% 50%",MozTransformOrigin:"45% 50%",position:"relative",lineHeight:"1.1em",fontSize:"0.75em"}}},arrowContainer:(e,t)=>{let{style:n}=e;return{style:{...n,display:"inline-block",paddingRight:"0.5em",paddingLeft:"double"===t?"1em":0,cursor:"pointer"}}},arrowSign:{color:t.ARROW_COLOR},arrowSignInner:{position:"absolute",top:0,left:"-0.4em"},nestedNode:(e,t,n,r,a)=>{let{style:o}=e;return{style:{...o,position:"relative",paddingTop:"0.25em",marginLeft:t.length>1?"0.875em":0,paddingLeft:a?0:"1.125em"}}},rootNode:{padding:0,margin:0},nestedNodeLabel:(e,t,n,r,a)=>{let{style:o}=e;return{style:{...o,margin:0,padding:0,WebkitUserSelect:a?"inherit":"text",MozUserSelect:a?"inherit":"text",cursor:a?"pointer":"default"}}},nestedNodeItemString:(e,n,r,a)=>{let{style:o}=e;return{style:{...o,paddingLeft:"0.5em",cursor:"default",color:a?t.ITEM_STRING_EXPANDED_COLOR:t.ITEM_STRING_COLOR}}},nestedNodeItemType:{marginLeft:"0.3em",marginRight:"0.3em"},nestedNodeChildren:(e,t,n)=>{let{style:r}=e;return{style:{...r,padding:0,margin:0,listStyle:"none",display:n?"block":"none"}}},rootNodeChildren:{padding:0,margin:0,listStyle:"none"}}}),{defaultBase16:{scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"}}),Lt=It,Bt=e=>e,Ut=(e,t,n)=>0===n,Wt=(e,t,n,a)=>r.createElement("span",null,n," ",a),zt=e=>{let[t]=e;return r.createElement("span",null,t,":")},$t=()=>!1;function Vt(e){let{data:t,theme:n,invertTheme:a,keyPath:o=["root"],labelRenderer:i=zt,valueRenderer:s=Bt,shouldExpandNodeInitially:l=Ut,hideRoot:u=!1,getItemString:c=Wt,postprocessValue:d=Bt,isCustomNode:f=$t,collectionLimit:h=50,sortObjectKeys:p=!1}=e;const m=(0,r.useMemo)((()=>Lt(a?_t(n):n)),[n,a]);return r.createElement("ul",{...m("tree")},r.createElement(Rt,{keyPath:u?[]:o,value:d(t),isCustomNode:f,styling:m,labelRenderer:i,valueRenderer:s,shouldExpandNodeInitially:l,hideRoot:u,getItemString:c,postprocessValue:d,collectionLimit:h,sortObjectKeys:p}))}},2166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbsoluteFill:()=>_,AnimatedImage:()=>Ee,Artifact:()=>Te,Audio:()=>It,Composition:()=>Xt,Config:()=>xr,Easing:()=>ln,Experimental:()=>_r,Folder:()=>Bt,FolderContext:()=>Lt,Freeze:()=>fe,IFrame:()=>fn,Img:()=>hn,Internals:()=>Tn,Loop:()=>Oe,OffthreadVideo:()=>mr,Sequence:()=>me,Series:()=>Qn,Still:()=>fr,VERSION:()=>b,Video:()=>yr,cancelRender:()=>ve,continueRender:()=>xe,delayRender:()=>_e,getInputProps:()=>B,getRemotionEnvironment:()=>c,getStaticFiles:()=>dn,interpolate:()=>_t,interpolateColors:()=>Gn,measureSpring:()=>ir,prefetch:()=>Ge,random:()=>Qe,registerRoot:()=>wn,spring:()=>sr,staticFile:()=>dr,useBufferState:()=>dt,useCurrentFrame:()=>de,useCurrentScale:()=>kn,useVideoConfig:()=>ce,watchStaticFile:()=>jn});var r=n(5043),a=n(579),o=n(7950),i=Object.defineProperty,s=(e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})};if("function"!==typeof r.createContext){throw new Error(['Remotion requires React.createContext, but it is "undefined".','If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',"","Before:",'  import {useCurrentFrame} from "remotion";',"","After:",'  "use client";','  import {useCurrentFrame} from "remotion";'].join("\n"))}function l(){return["NOD","E_EN","V"].join("")}var u=()=>["e","nv"].join(""),c=()=>{const e="undefined"!==typeof window&&window.remotion_isPlayer,t="undefined"!==typeof window&&"undefined"!==typeof window.process&&"undefined"!==typeof window.process.env&&("test"===window.process[u()][l()]||"production"===window.process[u()][l()]&&"undefined"!==typeof window&&"undefined"!==typeof window.remotion_puppeteerTimeout);return{isStudio:"undefined"!==typeof window&&window.remotion_isStudio,isRendering:t,isPlayer:e,isReadOnlyStudio:"undefined"!==typeof window&&window.remotion_isReadOnlyStudio}},d=r.createElement,f=[],h=()=>{if(!c().isStudio)return;const e=new Proxy(d,{apply(e,t,n){if(f.includes(n[0])){const[r,a,...o]=n,i={...a??{},stack:(new Error).stack};return Reflect.apply(e,t,[r,i,...o])}return Reflect.apply(e,t,n)}});r.createElement=e},p=e=>{f.push(e),h()},m=(0,r.createContext)(!1),g=()=>(0,r.useContext)(m);function v(e){return Boolean(e)}var b="4.0.260",y=(e,t)=>!!e&&t.some((t=>e.startsWith(t)||e.includes(` ${t}`)||e.includes(`:${t}`))),_=(0,r.forwardRef)(((e,t)=>{const{style:n,...o}=e,i=(0,r.useMemo)((()=>({position:"absolute",top:y(o.className,["top-","inset-"])?void 0:0,left:y(o.className,["left-","inset-"])?void 0:0,right:y(o.className,["right-","inset-"])?void 0:0,bottom:y(o.className,["bottom-","inset-"])?void 0:0,width:y(o.className,["w-"])?void 0:"100%",height:y(o.className,["h-"])?void 0:"100%",display:y(o.className,["block","inline-block","inline","flex","inline-flex","flow-root","grid","inline-grid","contents","list-item","hidden"])?void 0:"flex",flexDirection:y(o.className,["flex-row","flex-col","flex-row-reverse","flex-col-reverse"])?void 0:"column",...n})),[o.className,n]);return(0,a.jsx)("div",{ref:t,style:i,...o})})),x=(0,r.createContext)(null),w=r.createContext({registerSequence:()=>{throw new Error("SequenceManagerContext not initialized")},unregisterSequence:()=>{throw new Error("SequenceManagerContext not initialized")},sequences:[]}),S=r.createContext({hidden:{},setHidden:()=>{throw new Error("SequenceVisibilityToggle not initialized")}}),C=e=>{let{children:t}=e;const[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)({}),l=(0,r.useCallback)((e=>{o((t=>[...t,e]))}),[]),u=(0,r.useCallback)((e=>{o((t=>t.filter((t=>t.id!==e))))}),[]),c=(0,r.useMemo)((()=>({registerSequence:l,sequences:n,unregisterSequence:u})),[l,n,u]),d=(0,r.useMemo)((()=>({hidden:i,setHidden:s})),[i]);return(0,a.jsx)(w.Provider,{value:c,children:(0,a.jsx)(S.Provider,{value:d,children:t})})},E=(0,r.createContext)({getNonce:()=>0,fastRefreshes:0}),k=()=>{const e=(0,r.useContext)(E),[t,n]=(0,r.useState)((()=>e.getNonce())),a=(0,r.useRef)(e);return(0,r.useEffect)((()=>{a.current!==e&&(a.current=e,n(e.getNonce))}),[e]),t},P={};s(P,{useTimelineSetFrame:()=>oe,useTimelinePosition:()=>ae,usePlayingState:()=>ie,persistCurrentFrame:()=>te,getInitialFrameState:()=>ne,getFrameForComposition:()=>re,TimelineContext:()=>Z,SetTimelineContext:()=>ee});var j=(0,r.createContext)({compositions:[],registerComposition:()=>{},unregisterComposition:()=>{},registerFolder:()=>{},unregisterFolder:()=>{},setCurrentCompositionMetadata:()=>{},updateCompositionDefaultProps:()=>{},folders:[],currentCompositionMetadata:null,canvasContent:null,setCanvasContent:()=>{}}),T=(0,r.createContext)({props:{},updateProps:()=>{throw new Error("Not implemented")},resetUnsaved:()=>{throw new Error("Not implemented")}}),M=r.createRef(),N=r.createRef(),D=e=>{let{children:t}=e;const[n,o]=r.useState({}),i=(0,r.useCallback)((e=>{let{defaultProps:t,id:n,newProps:r}=e;o((e=>({...e,[n]:"function"===typeof r?r(e[n]??t):r})))}),[]),s=(0,r.useCallback)((()=>{o({})}),[]);(0,r.useImperativeHandle)(M,(()=>({getProps:()=>n,setProps:o})),[n]);const l=(0,r.useMemo)((()=>({props:n,updateProps:i,resetUnsaved:s})),[n,s,i]);return(0,a.jsx)(T.Provider,{value:l,children:t})},O="remotion-date:",F="remotion-file:",R=e=>{let{data:t,indent:n,staticBase:r}=e,a=!1,o=!1,i=!1,s=!1;try{return{serializedString:JSON.stringify(t,(function(e,t){const n=this[e];return n instanceof Date?(a=!0,`${O}${n.toISOString()}`):n instanceof Map?(i=!0,t):n instanceof Set?(s=!0,t):"string"===typeof n&&null!==r&&n.startsWith(r)?(o=!0,`${F}${n.replace(r+"/","")}`):t}),n),customDateUsed:a,customFileUsed:o,mapUsed:i,setUsed:s}}catch(l){throw new Error("Could not serialize the passed input props to JSON: "+l.message)}},A=e=>JSON.parse(e,((e,t)=>"string"===typeof t&&t.startsWith(O)?new Date(t.replace(O,"")):"string"===typeof t&&t.startsWith(F)?`${window.remotion_staticBase}/${t.replace(F,"")}`:t)),I=e=>c().isStudio?(e=>A(R({data:e,indent:2,staticBase:window.remotion_staticBase}).serializedString))(e):e,L=!1,B=()=>{if("undefined"===typeof window)return L||(L=!0,console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object."),console.warn("To hide this warning, don't call this function on the server:"),console.warn("  typeof window === 'undefined' ? {} : getInputProps()")),{};if(c().isPlayer)throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");const e=window.remotion_inputProps;if(!e)return{};return A(e)},U=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"];function W(e,t,n){if("number"!==typeof e)throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!==0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)}function z(e,t){const{allowFloats:n,component:r}=t;if("undefined"===typeof e)throw new Error(`The "durationInFrames" prop ${r} is missing.`);if("number"!==typeof e)throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!==0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)}function $(e,t,n){if("number"!==typeof e)throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(n&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var V=e=>{let{calculated:t,compositionId:n,compositionFps:r,compositionHeight:a,compositionWidth:o,compositionDurationInFrames:i}=e;const s=`calculated by calculateMetadata() for the composition "${n}"`,l=`of the "<Composition />" component with the id "${n}"`,u=t?.width??o??void 0;W(u,"width",t?.width?s:l);const c=t?.height??a??void 0;W(c,"height",t?.height?s:l);const d=t?.fps??r??null;$(d,t?.fps?s:l,!1);const f=t?.durationInFrames??i??null;z(f,{allowFloats:!1,component:`of the "<Composition />" component with the id "${n}"`});const h=t?.defaultCodec;return function(e,t){if("undefined"!==typeof e){if("string"!==typeof e)throw new TypeError(`The "defaultCodec" prop ${t} must be a string, but you passed a value of type ${typeof e}.`);if(!U.includes(e))throw new Error(`The "defaultCodec" prop ${t} must be one of ${U.join(", ")}, but you passed ${e}.`)}}(h,s),{width:u,height:c,fps:d,durationInFrames:f,defaultCodec:h}},G=e=>{let{calculateMetadata:t,signal:n,defaultProps:r,originalProps:a,compositionId:o,compositionDurationInFrames:i,compositionFps:s,compositionHeight:l,compositionWidth:u}=e;const c=t?t({defaultProps:r,props:a,abortSignal:n,compositionId:o}):null;if(null!==c&&"object"===typeof c&&"then"in c)return c.then((e=>{const{height:t,width:n,durationInFrames:c,fps:d,defaultCodec:f}=V({calculated:e,compositionDurationInFrames:i,compositionFps:s,compositionHeight:l,compositionWidth:u,compositionId:o});return{width:n,height:t,fps:d,durationInFrames:c,id:o,defaultProps:I(r),props:I(e.props??a),defaultCodec:f??null}}));const d=V({calculated:c,compositionDurationInFrames:i,compositionFps:s,compositionHeight:l,compositionWidth:u,compositionId:o});return null===c?{...d,id:o,defaultProps:I(r??{}),props:I(a),defaultCodec:null}:{...d,id:o,defaultProps:I(r??{}),props:I(c.props??a),defaultCodec:c.defaultCodec??null}},H=(0,r.createContext)(null),K=(0,r.createRef)(),q=e=>Boolean(e.calculateMetadata),Y="remotion.propsUpdatedExternally",X=e=>{let{children:t}=e;const[n,o]=(0,r.useState)(null),{compositions:i,canvasContent:s,currentCompositionMetadata:l}=(0,r.useContext)(j),{fastRefreshes:u}=(0,r.useContext)(E),d=(0,r.useMemo)((()=>i.find((e=>s&&"composition"===s.type&&s.compositionId===e.id))),[s,i]),f=i.find((e=>e.id===n)),{props:h}=(0,r.useContext)(T),p=(0,r.useMemo)((()=>"undefined"===typeof window||c().isPlayer?{}:B()??{}),[]),[m,g]=(0,r.useState)({}),v=(0,r.useMemo)((()=>d?h[d.id]??{}:{}),[h,d]),b=(0,r.useMemo)((()=>f?h[f.id]??{}:{}),[h,f]),y=Boolean(l),_=(0,r.useCallback)((e=>{let{calculateMetadata:t,combinedProps:n,compositionDurationInFrames:r,compositionFps:a,compositionHeight:o,compositionId:i,compositionWidth:s,defaultProps:l}=e;const u=new AbortController;if(y)return u;const{signal:c}=u,d=(e=>{try{return{type:"success",result:G(e)}}catch(t){return{type:"error",error:t}}})({compositionId:i,calculateMetadata:t,originalProps:n,signal:c,defaultProps:l,compositionDurationInFrames:r,compositionFps:a,compositionHeight:o,compositionWidth:s});if("error"===d.type)return g((e=>({...e,[i]:{type:"error",error:d.error}}))),u;const f=d.result;return"object"===typeof f&&"then"in f?(g((e=>{const t=e[i];return"success"===t?.type||"success-and-refreshing"===t?.type?{...e,[i]:{type:"success-and-refreshing",result:t.result}}:{...e,[i]:{type:"loading"}}})),f.then((e=>{u.signal.aborted||g((t=>({...t,[i]:{type:"success",result:e}})))})).catch((e=>{u.signal.aborted||g((t=>({...t,[i]:{type:"error",error:e}})))}))):g((e=>({...e,[i]:{type:"success",result:f}}))),u}),[y]),x="composition"===s?.type?s.compositionId:null;(0,r.useImperativeHandle)(K,(()=>({setCurrentRenderModalComposition:e=>{o(e)},reloadCurrentlySelectedComposition:()=>{if(!x)return;const e=i.find((e=>e.id===x));if(!e)throw new Error(`Could not find composition with id ${x}`);const t=h[x]??{},n={...e.defaultProps??{},...t??{}},r={...n,...p??{}};_({defaultProps:n,calculateMetadata:e.calculateMetadata,combinedProps:r,compositionDurationInFrames:e.durationInFrames??null,compositionFps:e.fps??null,compositionHeight:e.height??null,compositionWidth:e.width??null,compositionId:e.id})}})),[h,i,x,_,p]);const w=d?.id===f?.id,S=(0,r.useMemo)((()=>({...d?.defaultProps??{},...v??{}})),[d?.defaultProps,v]),C=(0,r.useMemo)((()=>({...S,...p??{}})),[S,p]),k=d&&q(d),P="undefined"!==typeof window&&window.remotion_ignoreFastRefreshUpdate&&u<=window.remotion_ignoreFastRefreshUpdate;(0,r.useEffect)((()=>{if(!P&&k){const e=_({calculateMetadata:d.calculateMetadata,combinedProps:C,compositionDurationInFrames:d.durationInFrames??null,compositionFps:d.fps??null,compositionHeight:d.height??null,compositionWidth:d.width??null,defaultProps:S,compositionId:d.id});return()=>{e.abort()}}}),[k,S,_,C,d?.calculateMetadata,d?.durationInFrames,d?.fps,d?.height,d?.id,d?.width,P]),(0,r.useEffect)((()=>{P||window.dispatchEvent(new CustomEvent(Y,{detail:{resetUnsaved:!0}}))}),[u]),(0,r.useEffect)((()=>{if(f&&!w){const e={...f.defaultProps??{},...b??{},...p??{}},t=_({calculateMetadata:f.calculateMetadata,compositionDurationInFrames:f.durationInFrames??null,compositionFps:f.fps??null,compositionHeight:f.height??null,compositionId:f.id,compositionWidth:f.width??null,defaultProps:S,combinedProps:e});return()=>{t.abort()}}}),[S,_,p,w,f,b]);const M=(0,r.useMemo)((()=>{const e=i.filter((e=>null===e.calculateMetadata));return{...m,...e.reduce(((e,t)=>({...e,[t.id]:{type:"success",result:{...t,defaultProps:t.defaultProps??{}}}})),{})}}),[i,m]);return(0,a.jsx)(H.Provider,{value:M,children:t})},J=e=>{const t=(0,r.useContext)(H),{props:n}=(0,r.useContext)(T),{compositions:a,canvasContent:o,currentCompositionMetadata:i}=(0,r.useContext)(j),s="composition"===o?.type?o.compositionId:null,l=e??s,u=a.find((e=>e.id===l)),d=(0,r.useMemo)((()=>u?n[u.id]??{}:{}),[n,u]);return(0,r.useMemo)((()=>u?i?{type:"success",result:{...i,id:u.id,props:i.props,defaultProps:u.defaultProps??{},defaultCodec:i.defaultCodec}}:q(u)?t[u.id]?t[u.id]:null:(z(u.durationInFrames,{allowFloats:!1,component:`in <Composition id="${u.id}">`}),$(u.fps,`in <Composition id="${u.id}">`,!1),W(u.width,"width",`in <Composition id="${u.id}">`),W(u.height,"height",`in <Composition id="${u.id}">`),{type:"success",result:{width:u.width,height:u.height,fps:u.fps,id:u.id,durationInFrames:u.durationInFrames,defaultProps:u.defaultProps??{},props:{...u.defaultProps??{},...d??{},..."undefined"===typeof window||c().isPlayer?{}:B()??{}},defaultCodec:null}}):null),[u,t,i,d])},Q=()=>{const{canvasContent:e,compositions:t,currentCompositionMetadata:n}=(0,r.useContext)(j),a=t.find((t=>"composition"===e?.type&&t.id===e.compositionId)),o=J(a?.id??null);return(0,r.useMemo)((()=>o?"error"===o.type||"loading"===o.type?null:a?{...o.result,defaultProps:a.defaultProps??{},id:a.id,...n??{},component:a.component}:null:null),[n,o,a])},Z=(0,r.createContext)({frame:{},playing:!1,playbackRate:1,rootId:"",imperativePlaying:{current:!1},setPlaybackRate:()=>{throw new Error("default")},audioAndVideoTags:{current:[]}}),ee=(0,r.createContext)({setFrame:()=>{throw new Error("default")},setPlaying:()=>{throw new Error("default")}}),te=e=>{localStorage.setItem("remotion.time-all",JSON.stringify(e))},ne=()=>{const e=localStorage.getItem("remotion.time-all")??"{}";return JSON.parse(e)},re=e=>{const t=localStorage.getItem("remotion.time-all")??"{}",n=JSON.parse(t);return void 0!==n[e]?Number(n[e]):"undefined"===typeof window?0:window.remotion_initialFrame??0},ae=()=>{const e=Q(),t=(0,r.useContext)(Z);if(!e)return"undefined"===typeof window?0:window.remotion_initialFrame??0;const n=t.frame[e.id]??(c().isPlayer?0:re(e.id));return Math.min(e.durationInFrames-1,n)},oe=()=>{const{setFrame:e}=(0,r.useContext)(ee);return e},ie=()=>{const{playing:e,imperativePlaying:t}=(0,r.useContext)(Z),{setPlaying:n}=(0,r.useContext)(ee);return(0,r.useMemo)((()=>[e,n,t]),[t,e,n])},se=(0,r.createContext)(!1),le=e=>{let{children:t}=e;return(0,a.jsx)(se.Provider,{value:!0,children:t})},ue=()=>{const e=(0,r.useContext)(x),t=e?.width??null,n=e?.height??null,a=e?.durationInFrames??null,o=Q();return(0,r.useMemo)((()=>{if(!o)return null;const{id:e,durationInFrames:r,fps:i,height:s,width:l,defaultProps:u,props:c,defaultCodec:d}=o;return{id:e,width:t??l,height:n??s,fps:i,durationInFrames:a??r,defaultProps:u,props:c,defaultCodec:d}}),[a,n,t,o])},ce=()=>{const e=ue(),t=(0,r.useContext)(se),n=g();if(!e){if("undefined"!==typeof window&&window.remotion_isPlayer||n)throw new Error(["No video config found. Likely reasons:","- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.","- You have multiple versions of Remotion installed which causes the React context to get lost."].join("-"));throw new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.")}if(!t)throw new Error("Called useVideoConfig() outside a Remotion composition.");return e},de=()=>{if(!(0,r.useContext)(se)){if(c().isPlayer)throw new Error("useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples");throw new Error("useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions")}const e=ae(),t=(0,r.useContext)(x);return e-(t?t.cumulatedFrom+t.relativeFrom:0)},fe=e=>{let{frame:t,children:n,active:o=!0}=e;const i=de(),s=ce();if("undefined"===typeof t)throw new Error("The <Freeze /> component requires a 'frame' prop, but none was passed.");if("number"!==typeof t)throw new Error("The 'frame' prop of <Freeze /> must be a number, but is of type "+typeof t);if(Number.isNaN(t))throw new Error("The 'frame' prop of <Freeze /> must be a real number, but it is NaN.");if(!Number.isFinite(t))throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${t}.`);const l=(0,r.useMemo)((()=>"boolean"===typeof o?o:"function"===typeof o?o(i):void 0),[o,i]),u=(0,r.useContext)(Z),c=(0,r.useContext)(x),d=c?.relativeFrom??0,f=(0,r.useMemo)((()=>l?{...u,playing:!1,imperativePlaying:{current:!1},frame:{[s.id]:t+d}}:u),[l,u,s.id,t,d]);return(0,a.jsx)(Z.Provider,{value:f,children:n})},he=(0,r.forwardRef)(((e,t)=>{let{from:n=0,durationInFrames:o=1/0,children:i,name:s,height:l,width:u,showInTimeline:d=!0,_remotionInternalLoopDisplay:f,_remotionInternalStack:h,_remotionInternalPremountDisplay:p,...m}=e;const{layout:g="absolute-fill"}=m,[v]=(0,r.useState)((()=>String(Math.random()))),b=(0,r.useContext)(x),{rootId:y}=(0,r.useContext)(Z),C=b?b.cumulatedFrom+b.relativeFrom:0,E=k();if("absolute-fill"!==g&&"none"!==g)throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${g}`);if("none"===g&&"undefined"!==typeof m.style)throw new TypeError('If layout="none", you may not pass a style.');if("number"!==typeof o)throw new TypeError(`You passed to durationInFrames an argument of type ${typeof o}, but it must be a number.`);if(o<=0)throw new TypeError(`durationInFrames must be positive, but got ${o}`);if("number"!==typeof n)throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof n}, but it must be a number.`);if(!Number.isFinite(n))throw new TypeError(`The "from" prop of a sequence must be finite, but got ${n}.`);const P=ae(),j=ce(),T=b?Math.min(b.durationInFrames-n,o):o,M=Math.max(0,Math.min(j.durationInFrames-n,T)),{registerSequence:N,unregisterSequence:D}=(0,r.useContext)(w),{hidden:O}=(0,r.useContext)(S),F=(0,r.useMemo)((()=>b?.premounting??Boolean(m._remotionInternalIsPremounting)),[m._remotionInternalIsPremounting,b?.premounting]),R=(0,r.useMemo)((()=>({cumulatedFrom:C,relativeFrom:n,durationInFrames:M,parentFrom:b?.relativeFrom??0,id:v,height:l??b?.height??null,width:u??b?.width??null,premounting:F})),[C,n,M,b,v,l,u,F]),A=(0,r.useMemo)((()=>s??""),[s]);(0,r.useEffect)((()=>{if(c().isStudio)return N({from:n,duration:M,id:v,displayName:A,parent:b?.id??null,type:"sequence",rootId:y,showInTimeline:d,nonce:E,loopDisplay:f,stack:h??null,premountDisplay:p??null}),()=>{D(v)}}),[o,v,s,N,A,D,b?.id,M,y,n,d,E,f,h,p]);const I=Math.ceil(C+n+o-1),L=P<C+n||P>I?null:i,B="none"===m.layout?void 0:m.style,U=(0,r.useMemo)((()=>({flexDirection:void 0,...u?{width:u}:{},...l?{height:l}:{},...B??{}})),[l,B,u]);if(null!==t&&"none"===g)throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');return O[v]??!1?null:(0,a.jsx)(x.Provider,{value:R,children:null===L?null:"none"===m.layout?L:(0,a.jsx)(_,{ref:t,style:U,className:m.className,children:L})})})),pe=(0,r.forwardRef)(((e,t)=>{const n=de();if("none"===e.layout)throw new Error('`<Sequence>` with `premountFor` prop does not support layout="none"');const{style:o,from:i=0,premountFor:s=0,styleWhilePremounted:l,...u}=e,c=n<i&&n>=i-s,d=(0,r.useMemo)((()=>({...o,opacity:c?0:1,pointerEvents:c?"none":o?.pointerEvents??void 0,...c?l:{}})),[o,c,l]);return(0,a.jsx)(fe,{frame:i,active:c,children:(0,a.jsx)(me,{ref:t,from:i,style:d,_remotionInternalPremountDisplay:s,_remotionInternalIsPremounting:c,...u})})})),me=(0,r.forwardRef)(((e,t)=>"none"!==e.layout&&e.premountFor&&!c().isRendering?(0,a.jsx)(pe,{...e,ref:t}):(0,a.jsx)(he,{...e,ref:t}))),ge=e=>e instanceof Error||null!==e&&("object"===typeof e&&("stack"in e&&("string"===typeof e.stack&&("message"in e&&"string"===typeof e.message))));function ve(e){let t;throw ge(e)?(t=e,t.stack||(t.stack=new Error(t.message).stack)):t="string"===typeof e?Error(e):Error("Rendering was cancelled"),window.remotion_cancelledError=t.stack,t}"undefined"!==typeof window&&(window.remotion_renderReady=!1);var be=[];"undefined"!==typeof window&&(window.remotion_delayRenderTimeouts={});var ye="The delayRender was called:",_e=(e,t)=>{if("string"!==typeof e&&"undefined"!==typeof e)throw new Error("The label parameter of delayRender() must be a string or undefined, got: "+JSON.stringify(e));const n=Math.random();be.push(n);const r=Error().stack?.replace(/^Error/g,"")??"";if(c().isRendering){const a=(t?.timeoutInMilliseconds??("undefined"===typeof window?3e4:window.remotion_puppeteerTimeout??3e4))-2e3;if("undefined"!==typeof window){const o=(t?.retries??0)-(window.remotion_attempt-1);window.remotion_delayRenderTimeouts[n]={label:e??null,timeout:setTimeout((()=>{const t=["A delayRender()",e?`"${e}"`:null,`was called but not cleared after ${a}ms. See https://remotion.dev/docs/timeout for help.`,o>0?"Retries left: "+o:null,o>0?"- Rendering the frame will be retried.":null,ye,r].filter(v).join(" ");ve(Error(t))}),a)}}}return"undefined"!==typeof window&&(window.remotion_renderReady=!1),n},xe=e=>{if("undefined"===typeof e)throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");if("number"!==typeof e)throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: "+JSON.stringify(e));0===(be=be.filter((t=>t!==e||(c().isRendering&&(clearTimeout(window.remotion_delayRenderTimeouts[e].timeout),delete window.remotion_delayRenderTimeouts[e]),!1)))).length&&"undefined"!==typeof window&&(window.remotion_renderReady=!0)},we=r.forwardRef(((e,t)=>{let{width:n,height:o,fit:i,className:s,style:l}=e;const u=(0,r.useRef)(null),c=(0,r.useCallback)((e=>{const t=u.current,r=n??e.displayWidth,a=o??e.displayHeight;if(!t)throw new Error("Canvas ref is not set");const s=u.current?.getContext("2d");if(!s)throw new Error("Could not get 2d context");t.width=r,t.height=a,s.drawImage(e,...((e,t,n)=>{switch(e){case"fill":return[0,0,t.width,t.height,0,0,n.width,n.height];case"contain":{const e=Math.min(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,a=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,a,t.width*e,t.height*e]}case"cover":{const e=Math.max(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,a=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,a,t.width*e,t.height*e]}default:throw new Error("Unknown fit: "+e)}})(i,{height:e.displayHeight,width:e.displayWidth},{width:r,height:a}))}),[i,o,n]);return(0,r.useImperativeHandle)(t,(()=>({draw:c,getCanvas:()=>{if(!u.current)throw new Error("Canvas ref is not set");return u.current},clear:()=>{const e=u.current?.getContext("2d");if(!e)throw new Error("Could not get 2d context");e.clearRect(0,0,u.current.width,u.current.height)}})),[c]),(0,a.jsx)("canvas",{ref:u,className:s,style:l})})),Se=e=>{let{loopBehavior:t,durationFound:n,timeInSec:r}=e;return"loop"===t?n?r%n:r:Math.min(r,n||1/0)},Ce=async e=>{let{resolvedSrc:t,signal:n,currentTime:r,initialLoopBehavior:a}=e;if("undefined"===typeof ImageDecoder)throw new Error("Your browser does not support the WebCodecs ImageDecoder API.");const o=await fetch(t,{signal:n}),{body:i}=o;if(!i)throw new Error("Got no body");const s=new ImageDecoder({data:i,type:o.headers.get("Content-Type")||"image/gif"});await s.completed;const{selectedTrack:l}=s.tracks;if(!l)throw new Error("No selected track");const u=[];let c=null;const d=async e=>{const t=u.find((t=>t.frameIndex===e));if(t&&t.frame)return t;const n=await s.decode({frameIndex:e,completeFramesOnly:!0});return t?t.frame=n.image:u.push({frame:n.image,frameIndex:e,timeInSeconds:n.image.timestamp/1e6}),{frame:n.image,frameIndex:e,timeInSeconds:n.image.timestamp/1e6}},f=async e=>{let{timeInSec:t,loopBehavior:n}=e;const r=Se({durationFound:c,loopBehavior:n,timeInSec:t}),a=u.filter((e=>e.timeInSeconds<=r)),o=a.map((e=>e.frameIndex)).reduce(((e,t)=>Math.max(e,t)),0);let i=o;for(;;){const e=await d(i);if(i++,!e.frame)throw new Error("No frame found");if(!e.frame.duration)break;if(i===l.frameCount&&null===c){const t=(e.frame.timestamp+e.frame.duration)/1e6;c=t}if(e.timeInSeconds>r||i===l.frameCount)break}l.frameCount-o<3&&"loop"===n&&await d(0),(e=>{const t=u.filter((e=>e.frame)),n=t.sort(((t,n)=>Math.abs(t.timeInSeconds-e)-Math.abs(n.timeInSeconds-e)));for(let r=0;r<n.length;r++)r<5||(n[r].frame=null)})(r)};await f({timeInSec:r,loopBehavior:a}),await f({timeInSec:r,loopBehavior:a});return{getFrame:async(e,t)=>{if(null!==c&&e>c&&"clear-after-finish"===t)return null;const n=Se({loopBehavior:t,durationFound:c,timeInSec:e});await f({timeInSec:n,loopBehavior:t});const r=u.filter((e=>e.frame)),a=r.reduce(((e,t)=>Math.abs(e.timeInSeconds-n)<Math.abs(t.timeInSeconds-n)?e:t));if(!a.frame)throw new Error("No frame found");return a},frameCount:l.frameCount}},Ee=(0,r.forwardRef)(((e,t)=>{let{src:n,width:o,height:i,onError:s,loopBehavior:l="loop",playbackRate:u=1,fit:c="fill",...d}=e;const f=(0,r.useRef)({isMounted:!0});(0,r.useEffect)((()=>{const{current:e}=f;return e.isMounted=!0,()=>{e.isMounted=!1}}),[]);const h=(e=>"undefined"===typeof window?e:new URL(e,window.origin).href)(n),[p,m]=(0,r.useState)(null),[g]=(0,r.useState)((()=>_e(`Rendering <AnimatedImage/> with src="${h}"`))),v=de(),{fps:b}=ce(),y=v/u/b,_=(0,r.useRef)(y);_.current=y;const x=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>{const e=x.current?.getCanvas();if(!e)throw new Error("Canvas ref is not set");return e}),[]);const[w]=(0,r.useState)((()=>l));return(0,r.useEffect)((()=>{const e=new AbortController;return Ce({resolvedSrc:h,signal:e.signal,currentTime:_.current,initialLoopBehavior:w}).then((e=>{m(e),xe(g)})).catch((e=>{"AbortError"!==e.name?s?(s?.(e),xe(g)):ve(e):xe(g)})),()=>{e.abort()}}),[h,g,s,w]),(0,r.useLayoutEffect)((()=>{if(!p)return;const e=_e(`Rendering frame at ${y} of <AnimatedImage src="${n}"/>`);p.getFrame(y,l).then((t=>{f.current.isMounted&&(null===t?x.current?.clear():x.current?.draw(t.frame)),xe(e)})).catch((t=>{s?(s(t),xe(e)):ve(t)}))}),[y,p,l,s,n]),(0,a.jsx)(we,{ref:x,width:o,height:i,fit:c,...d})})),ke=e=>{"artifact"===e.type&&((e=>{if("string"!==typeof e)throw new TypeError('The "filename" must be a string, but you passed a value of type '+typeof e);if(""===e.trim())throw new Error("The `filename` must not be empty");if(!e.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g))throw new Error('The `filename` must match "/^([0-9a-zA-Z-!_.*\'()/:&$@=;+,?]+)/g". Use forward slashes only, even on Windows.')})(e.filename),(e=>{if("string"!==typeof e&&!(e instanceof Uint8Array))throw new TypeError('The "content" must be a string or Uint8Array, but you passed a value of type '+typeof e);if("string"===typeof e&&""===e.trim())throw new Error("The `content` must not be empty")})(e.content))},Pe=(0,r.createContext)({registerRenderAsset:()=>{},unregisterRenderAsset:()=>{},renderAssets:[]}),je=e=>{let{children:t}=e;const[n,o]=(0,r.useState)([]),i=(0,r.useCallback)((e=>{ke(e),o((t=>[...t,e]))}),[]),s=(0,r.useCallback)((e=>{o((t=>t.filter((t=>t.id!==e))))}),[]);(0,r.useLayoutEffect)((()=>{"undefined"!==typeof window&&(window.remotion_collectAssets=()=>(o([]),n))}),[n]);const l=(0,r.useMemo)((()=>({registerRenderAsset:i,unregisterRenderAsset:s,renderAssets:n})),[n,i,s]);return(0,a.jsx)(Pe.Provider,{value:l,children:t})},Te=e=>{let{filename:t,content:n}=e;const{registerRenderAsset:a,unregisterRenderAsset:o}=(0,r.useContext)(Pe),[i]=(0,r.useState)((()=>c())),s=de(),[l]=(0,r.useState)((()=>String(Math.random())));return(0,r.useEffect)((()=>{if(i.isRendering)return n instanceof Uint8Array?a({type:"artifact",id:l,content:btoa(new TextDecoder("utf8").decode(n)),filename:t,frame:s,binary:!0}):a({type:"artifact",id:l,content:n,filename:t,frame:s,binary:!1}),()=>o(l)}),[n,i.isRendering,t,s,l,a,o]),null},Me=e=>"undefined"===typeof window?e:new URL(e,window.origin).href,Ne=e=>{let{endAt:t,mediaDuration:n,playbackRate:r,startFrom:a}=e,o=n;"undefined"!==typeof t&&(o=t),"undefined"!==typeof a&&(o-=a);const i=o/r;return Math.floor(i)},De=(0,r.createContext)(null),Oe=e=>{let{durationInFrames:t,times:n=1/0,children:o,name:i,...s}=e;const l=de(),{durationInFrames:u}=ce();if(z(t,{component:"of the <Loop /> component",allowFloats:!0}),"number"!==typeof n)throw new TypeError(`You passed to "times" an argument of type ${typeof n}, but it must be a number.`);if(n!==1/0&&n%1!==0)throw new TypeError(`The "times" prop of a loop must be an integer, but got ${n}.`);if(n<0)throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${n}`);const c=Math.ceil(u/t),d=Math.min(c,n),f="none"===s.layout?void 0:s.style,h=t*(d-1),p=Math.floor(l/t)*t,m=Math.min(p,h),g=(0,r.useMemo)((()=>({numberOfTimes:d,startOffset:-m,durationInFrames:t})),[d,t,m]),v=(0,r.useMemo)((()=>({iteration:Math.floor(l/t),durationInFrames:t})),[l,t]);return(0,a.jsx)(De.Provider,{value:v,children:(0,a.jsx)(me,{durationInFrames:t,from:m,name:i??"<Loop>",_remotionInternalLoopDisplay:g,layout:s.layout,style:f,children:o})})};Oe.useLoop=()=>r.useContext(De);var Fe=["trace","verbose","info","warn","error"],Re=e=>Fe.indexOf(e),Ae=(e,t)=>Re(e)<=Re(t),Ie={trace:function(e){if(Ae(e,"trace")){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.log(...n)}},verbose:function(e){if(Ae(e,"verbose")){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.log(...n)}},info:function(e){if(Ae(e,"info")){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.log(...n)}},warn:function(e){if(Ae(e,"warn")){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.warn(...n)}},error:function(){return console.error(...arguments)}},Le=e=>{let{logLevel:t,tag:n,message:r,mountTime:a}=e;const o=[a?Date.now()-a+"ms ":null,n].filter(Boolean).join(" ");Ie.trace(t,`[${o}]`,r)},Be=(0,r.createContext)({}),Ue={},We=[],ze=e=>{Ue=e(Ue),We.forEach((e=>e()))},$e=e=>{let{children:t}=e;const[n,o]=(0,r.useState)((()=>Ue));return(0,r.useEffect)((()=>{const e=()=>{o(Ue)};return We.push(e),()=>{We=We.filter((t=>t!==e))}}),[]),(0,a.jsx)(Be.Provider,{value:n,children:t})},Ve=e=>(0,r.useContext)(Be)[e]??e,Ge=(e,t)=>{const n=t?.method??"blob-url",r=t?.logLevel??"info";if(c().isRendering)return{free:()=>{},waitUntilDone:()=>Promise.resolve(e)};Ie.verbose(r,`[prefetch] Starting prefetch ${e}`);let a=!1,o=null,i=()=>{},s=()=>{};const l=new Promise(((e,t)=>{i=e,s=t})),u=new AbortController;let d=!0;return fetch(e,{signal:u.signal,credentials:t?.credentials??void 0}).then((n=>{if(d=!1,a)return null;if(!n.ok)throw new Error(`HTTP error, status = ${n.status}`);const r=n.headers.get("Content-Type"),o=t?.contentType??r;if(o&&(o.startsWith("video/")||o.startsWith("audio/")||o.startsWith("image/"))||console.warn(`Called prefetch() on ${e} which returned a "Content-Type" of ${r}. Prefetched content should have a proper content type (video/... or audio/...) or a contentType passed the options of prefetch(). Otherwise, prefetching will not work properly in all browsers.`),!n.body)throw new Error(`HTTP response of ${e} has no body`);return(async e=>{let{reader:t,contentType:n,contentLength:r,onProgress:a}=e,o=0;const i=[];for(;;){const{done:e,value:n}=await t.read();if(e)break;i.push(n),o+=n.length,a&&a({loadedBytes:o,totalBytes:r})}const s=new Uint8Array(o);let l=0;for(const u of i)s.set(u,l),l+=u.length;return new Blob([s],{type:n??void 0})})({reader:n.body.getReader(),contentType:t?.contentType??r??null,contentLength:n.headers.get("Content-Length")?parseInt(n.headers.get("Content-Length"),10):null,onProgress:t?.onProgress})})).then((e=>{if(!e)return;const r=t?.contentType?new Blob([e],{type:t.contentType}):e;return"base64"===n?function(e){const t=new FileReader;return new Promise(((n,r)=>{t.onload=function(){const e=t.result;n(e)},t.onerror=e=>r(e),t.readAsDataURL(e)}))}(r):URL.createObjectURL(r)})).then((t=>{a||(Le({logLevel:r,tag:"prefetch",message:`Finished prefetch ${e} with method ${n}`,mountTime:null}),o=t,ze((t=>({...t,[e]:o}))),i(o))})).catch((e=>{e?.message.includes("free() called")||s(e)})),{free:()=>{if(Le({logLevel:r,tag:"prefetch",message:`Freeing ${e}`,mountTime:null}),o)"blob-url"===n&&URL.revokeObjectURL(o),ze((t=>{const n={...t};return delete n[e],n}));else if(a=!0,d)try{u.abort(new Error("free() called"))}catch{}},waitUntilDone:()=>l}},He=(e,t)=>{if("number"!==typeof e.volume&&"function"!==typeof e.volume&&"undefined"!==typeof e.volume)throw new TypeError(`You have passed a volume of type ${typeof e.volume} to your <${t} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);if("number"===typeof e.volume&&e.volume<0)throw new TypeError(`You have passed a volume below 0 to your <${t} /> component. Volume must be between 0 and 1`);if("number"!==typeof e.playbackRate&&"undefined"!==typeof e.playbackRate)throw new TypeError(`You have passed a playbackRate of type ${typeof e.playbackRate} to your <${t} /> component. Playback rate must a real number or undefined.`);if("number"===typeof e.playbackRate&&(isNaN(e.playbackRate)||!Number.isFinite(e.playbackRate)||e.playbackRate<=0))throw new TypeError(`You have passed a playbackRate of ${e.playbackRate} to your <${t} /> component. Playback rate must be a real number above 0.`)},Ke=(e,t)=>{if("undefined"!==typeof e){if("number"!==typeof e)throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof e}.`);if(isNaN(e)||e===1/0)throw new TypeError("startFrom prop can not be NaN or Infinity.");if(e<0)throw new TypeError(`startFrom must be greater than equal to 0 instead got ${e}.`)}if("undefined"!==typeof t){if("number"!==typeof t)throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof t}.`);if(isNaN(t))throw new TypeError("endAt prop can not be NaN.");if(t<=0)throw new TypeError(`endAt must be a positive number, instead got ${t}.`)}if(t<e)throw new TypeError("endAt prop must be greater than startFrom prop.")},qe=(e,t)=>{if("got-duration"===t.type){const n=Me(t.src);return e[n]===t.durationInSeconds?e:{...e,[n]:t.durationInSeconds}}return e},Ye=(0,r.createContext)({durations:{},setDurations:()=>{throw new Error("context missing")}}),Xe=e=>{let{children:t}=e;const[n,o]=(0,r.useReducer)(qe,{}),i=(0,r.useMemo)((()=>({durations:n,setDurations:o})),[n]);return(0,a.jsx)(Ye.Provider,{value:i,children:t})};function Je(e){let t=e+1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}var Qe=(e,t)=>{if(void 0!==t)throw new TypeError("random() takes only one argument");if(null===e)return Math.random();if("string"===typeof e)return Je(function(e){let t=0,n=0,r=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r}(e));if("number"===typeof e)return Je(1e10*e);throw new Error("random() argument must be a number or a string")},Ze=()=>{const e=(0,r.useContext)(x);return Math.min(0,e?.relativeFrom??0)},et=e=>{const t=Oe.useLoop(),n=de(),r=Ze();return"repeat"===e||null===t?n+r:n+r+t.durationInFrames*t.iteration},tt=e=>{if(/data:|blob:/.test(e.substring(0,5)))return"Data URL";const t=e.split("/").map((e=>e.split("\\"))).flat(1);return t[t.length-1]},nt=(0,r.createContext)({logLevel:"info",mountTime:0}),rt=()=>{const{logLevel:e}=r.useContext(nt);if(null===e)throw new Error("useLogLevel must be used within a LogLevelProvider");return e},at=()=>{const{mountTime:e}=r.useContext(nt);if(null===e)throw new Error("useMountTime must be used within a LogLevelProvider");return e},ot=e=>{let{mediaRef:t,mediaType:n,onAutoPlayError:r,logLevel:a,mountTime:o}=e;const{current:i}=t;if(!i)return;Le({logLevel:a,tag:"play",message:`Attempting to play ${i.src}`,mountTime:o});const s=i.play();s.catch&&s.catch((e=>{if(i&&!e.message.includes("request was interrupted by a call to pause")&&!e.message.includes("The operation was aborted.")&&!e.message.includes("The fetching process for the media resource was aborted by the user agent")&&!e.message.includes("request was interrupted by a new load request")&&!e.message.includes("because the media was removed from the document")&&(!e.message.includes("user didn't interact with the document")||!i.muted)&&(console.log(`Could not play ${n} due to following error: `,e),!i.muted)){if(r)return void r();console.log("The video will be muted and we'll retry playing it."),"video"===n&&c().isPlayer&&console.log("Use onAutoPlayError() to handle this error yourself."),i.muted=!0,i.play()}}))},it=e=>{let{frame:t,volume:n,mediaVolume:r=1,allowAmplificationDuringRender:a}=e;const o=a?1/0:1;if("number"===typeof n)return Math.min(o,n*r);if("undefined"===typeof n)return Number(r);const i=n(t)*r;if("number"!==typeof i)throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof i} for frame ${t}`);if(Number.isNaN(i))throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${t}.`);if(!Number.isFinite(i))throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${t}.`);return Math.max(0,Math.min(o,i))},st={},lt=e=>{let{volume:t,mediaVolume:n,mediaRef:a,src:o,mediaType:i,playbackRate:s,displayName:l,id:u,stack:d,showInTimeline:f,premountDisplay:h,onAutoPlayError:p,isPremounting:m}=e;const g=ce(),{rootId:v,audioAndVideoTags:b}=(0,r.useContext)(Z),y=(0,r.useContext)(x),_=y?y.relativeFrom+y.cumulatedFrom:0,{imperativePlaying:S}=(0,r.useContext)(Z),C=Ze(),{registerSequence:E,unregisterSequence:P}=(0,r.useContext)(w),[j]=(0,r.useState)((()=>t)),T=rt(),M=at(),N=k(),D=y?Math.min(y.durationInFrames,g.durationInFrames):g.durationInFrames,O="function"===typeof t,F=(0,r.useMemo)((()=>"number"===typeof t?t:new Array(Math.floor(Math.max(0,D+C))).fill(!0).map(((e,r)=>it({frame:r+C,volume:t,mediaVolume:n,allowAmplificationDuringRender:!1}))).join(",")),[D,C,t,n]);(0,r.useEffect)((()=>{var e;"number"===typeof t&&t!==j&&(st[e=`Remotion: The ${i} with src ${o} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/using-audio/#controlling-volume`]||(console.warn(e),st[e]=!0))}),[j,i,o,t]),(0,r.useEffect)((()=>{if(a.current){if(!o)throw new Error("No src passed");if((c().isStudio||"test"===window.process?.env?.NODE_ENV)&&f)return E({type:i,src:o,id:u,duration:D,from:0,parent:y?.id??null,displayName:l??tt(o),rootId:v,volume:F,showInTimeline:!0,nonce:N,startMediaFrom:0-C,doesVolumeChange:O,loopDisplay:void 0,playbackRate:s,stack:d,premountDisplay:h}),()=>{P(u)}}}),[_,D,u,y,o,E,v,P,g,F,O,N,a,i,C,s,l,d,f,h]),(0,r.useEffect)((()=>{const e={id:u,play:()=>{if(S.current&&!m)return ot({mediaRef:a,mediaType:i,onAutoPlayError:p,logLevel:T,mountTime:M})}};return b.current.push(e),()=>{b.current=b.current.filter((e=>e.id!==u))}}),[b,u,a,i,p,S,m,T,M])},ut=r.createContext(null),ct=e=>{let{children:t}=e;const n=(()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[o,i]=(0,r.useState)([]),s=(0,r.useRef)(!1),l=(0,r.useCallback)((e=>(t((t=>[...t,e])),{unblock:()=>{t((t=>{const n=t.filter((t=>t!==e));return n.length===t.length?t:n}))}})),[]),u=(0,r.useCallback)((e=>(a((t=>[...t,e])),{remove:()=>{a((t=>t.filter((t=>t!==e))))}})),[]),c=(0,r.useCallback)((e=>(i((t=>[...t,e])),{remove:()=>{i((t=>t.filter((t=>t!==e))))}})),[]);return(0,r.useEffect)((()=>{e.length>0&&n.forEach((e=>e()))}),[e]),(0,r.useEffect)((()=>{0===e.length&&o.forEach((e=>e()))}),[e]),(0,r.useMemo)((()=>({addBlock:l,listenForBuffering:u,listenForResume:c,buffering:s})),[l,s,u,c])})();return(0,a.jsx)(ut.Provider,{value:n,children:t})},dt=()=>{const e=(0,r.useContext)(ut),t=e?e.addBlock:null;return(0,r.useMemo)((()=>({delayPlayback:()=>{if(!t)throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");const{unblock:e}=t({id:String(Math.random())});return{unblock:e}}})),[t])},ft=(e,t)=>Math.round(e/t*100)/100,ht=()=>{if("undefined"===typeof window)return!1;const e=/iP(ad|od|hone)/i.test(window.navigator.userAgent),t=/AppleWebKit/.test(window.navigator.userAgent);return e&&t},pt=e=>{let{actualFrom:t,fps:n}=e;return ft(Math.max(0,-t),n)},mt=e=>{let{duration:t,fps:n}=e;return ft(t,n)},gt=e=>{let{actualSrc:t,actualFrom:n,duration:r,fps:a}=e;if((e=>ht()&&e.startsWith("blob:"))(t))return t;if(t.startsWith("data:"))return t;if(Boolean(new URL(t,("undefined"===typeof window?null:window.location.href)??"http://localhost:3000").hash))return t;if(!Number.isFinite(n))return t;const o=`${t}#t=${pt({actualFrom:n,fps:a})}`;return Number.isFinite(r)?`${o},${mt({duration:r,fps:a})}`:o},vt=e=>{let{actualSrc:t,actualFrom:n,duration:a,fps:o}=e;const i=(0,r.useRef)(n),s=(0,r.useRef)(a),l=(0,r.useRef)(t);(e=>{let{prevStartFrom:t,newStartFrom:n,prevDuration:r,newDuration:a,fps:o}=e;const i=pt({actualFrom:t,fps:o}),s=pt({actualFrom:n,fps:o}),l=mt({duration:r,fps:o}),u=mt({duration:a,fps:o});return!(s<i)&&!(u>l)})({prevStartFrom:i.current,newStartFrom:n,prevDuration:s.current,newDuration:a,fps:o})&&t===l.current||(i.current=n,s.current=a,l.current=t);return gt({actualSrc:l.current,actualFrom:i.current,duration:s.current,fps:o})},bt=e=>{let{mediaRef:t,time:n,logLevel:r,why:a,mountTime:o}=e;const i=ht()?Number(n.toFixed(1)):n;return Le({logLevel:r,tag:"seek",message:`Seeking from ${t.currentTime} to ${i}. Reason: ${a}`,mountTime:o}),t.currentTime=i,i};function yt(e,t){if(t.length<2)throw new Error(e+" must have at least 2 elements");for(const n of t){if("number"!==typeof n)throw new Error(`${e} must contain only numbers`);if(!Number.isFinite(n))throw new Error(`${e} must contain only finite numbers, but got [${t.join(",")}]`)}}function _t(e,t,n,r){if("undefined"===typeof e)throw new Error("input can not be undefined");if("undefined"===typeof t)throw new Error("inputRange can not be undefined");if("undefined"===typeof n)throw new Error("outputRange can not be undefined");if(t.length!==n.length)throw new Error("inputRange ("+t.length+") and outputRange ("+n.length+") must have the same length");yt("inputRange",t),yt("outputRange",n),function(e){for(let t=1;t<e.length;++t)if(!(e[t]>e[t-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${e.join(",")}]`)}(t);const a=r?.easing??(e=>e);let o="extend";void 0!==r?.extrapolateLeft&&(o=r.extrapolateLeft);let i="extend";if(void 0!==r?.extrapolateRight&&(i=r.extrapolateRight),"number"!==typeof e)throw new TypeError("Cannot interpolate an input which is not a number");const s=function(e,t){let n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,t);return function(e,t,n,r){const{extrapolateLeft:a,extrapolateRight:o,easing:i}=r;let s=e;const[l,u]=t,[c,d]=n;if(s<l){if("identity"===a)return s;if("clamp"===a)s=l;else if("wrap"===a){const e=u-l;s=((s-l)%e+e)%e+l}}if(s>u){if("identity"===o)return s;if("clamp"===o)s=u;else if("wrap"===o){const e=u-l;s=((s-l)%e+e)%e+l}}return c===d?c:(s=(s-l)/(u-l),s=i(s),s=s*(d-c)+c,s)}(e,[t[s],t[s+1]],[n[s],n[s+1]],{easing:a,extrapolateLeft:o,extrapolateRight:i})}var xt=e=>{let{frame:t,playbackRate:n,startFrom:r}=e;return _t(t,[-1,r,r+1],[-1,r,r+n])},wt=e=>{let{fps:t,frame:n,playbackRate:r,startFrom:a}=e;return xt({frame:n,playbackRate:r,startFrom:a})*(1e3/t)/1e3},St={},Ct=.45,Et=e=>{let{mediaRef:t,src:n,mediaType:a,playbackRate:o,onlyWarnForMediaSeekingError:i,acceptableTimeshift:s,pauseWhenBuffering:l,isPremounting:u,onAutoPlayError:c}=e;const{playbackRate:d}=(0,r.useContext)(Z),f=de(),h=ae(),[p]=ie(),m=(0,r.useContext)(ut),{fps:g}=ce(),v=Ze(),b=(0,r.useRef)(null),y=(0,r.useRef)(null),_=rt(),x=at();if(!m)throw new Error("useMediaPlayback must be used inside a <BufferingContext>");const w=(0,r.useRef)({}),S=(0,r.useCallback)((()=>{n&&(Ie.verbose(_,`Detected ${n} as a variable FPS video. Disabling buffering while seeking.`),w.current[n]=!0)}),[_,n]),C=(e=>{let{mediaRef:t,mediaType:n,lastSeek:a,onVariableFpsVideoDetected:o}=e;const i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const{current:e}=t;if(!e)return void(i.current=null);if(i.current=e.currentTime,"video"!==n)return void(i.current=null);const r=e;if(!r.requestVideoFrameCallback)return;let s=()=>{};const l=()=>{if(!r)return;const e=r.requestVideoFrameCallback(((e,t)=>{if(null!==i.current){const e=Math.abs(i.current-t.mediaTime),n=Math.abs(null===a.current?1/0:t.mediaTime-a.current);e>.5&&n>.5&&t.mediaTime>i.current&&o()}i.current=t.mediaTime,l()}));s=()=>{r.cancelVideoFrameCallback(e),s=()=>{}}};return l(),()=>{s()}}),[a,t,n,o]),i})({mediaRef:t,mediaType:a,lastSeek:y,onVariableFpsVideoDetected:S}),E=wt({frame:f,playbackRate:o,startFrom:-v,fps:g}),k=(e=>{let{element:t,shouldBuffer:n,isPremounting:a,logLevel:o,mountTime:i}=e;const s=dt(),[l,u]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{let e=[];const{current:r}=t;if(!r)return;if(!n)return;if(a)return void(r.readyState<r.HAVE_FUTURE_DATA&&(navigator.userAgent.includes("Firefox/")||(Le({logLevel:o,message:`Calling .load() on ${r.src} because readyState is ${r.readyState} and it is not Firefox. Element is premounted`,tag:"load",mountTime:i}),r.load())));const l=t=>{e.forEach((e=>e(t))),e=[],u(!1)},c=t=>{u(!0),Le({logLevel:o,message:`Buffering ${r.src}. Reason: ${t}`,tag:"buffer",mountTime:i});const{unblock:n}=s.delayPlayback(),a=()=>{l('"canplay" was fired'),d()},c=()=>{l('"error" event was occurred'),d()};r.addEventListener("canplay",a,{once:!0}),e.push((()=>{r.removeEventListener("canplay",a)})),r.addEventListener("error",c,{once:!0}),e.push((()=>{r.removeEventListener("error",c)})),e.push((e=>{Le({logLevel:o,message:`Unblocking ${r.src} from buffer. Reason: ${e}`,tag:"buffer",mountTime:i}),n()}))},d=()=>{if(r.readyState<r.HAVE_FUTURE_DATA)c(`readyState is ${r.readyState}, which is less than HAVE_FUTURE_DATA`),navigator.userAgent.includes("Firefox/")||(Le({logLevel:o,message:`Calling .load() on ${r.src} because readyState is ${r.readyState} and it is not Firefox.`,tag:"load",mountTime:i}),r.load());else{const t=()=>{c('"waiting" event was fired')};r.addEventListener("waiting",t),e.push((()=>{r.removeEventListener("waiting",t)}))}};return d(),()=>{l("element was unmounted or prop changed")}}),[s,t,a,o,n,i]),l})({element:t,shouldBuffer:l,isPremounting:u,logLevel:_,mountTime:x}),{bufferUntilFirstFrame:P,isBuffering:j}=(e=>{let{mediaRef:t,mediaType:n,onVariableFpsVideoDetected:a,pauseWhenBuffering:o}=e;const i=(0,r.useRef)(!1),{delayPlayback:s}=dt(),l=(0,r.useCallback)((e=>{if("video"!==n)return;if(!o)return;const r=t.current;if(!r)return;if(!r.requestVideoFrameCallback)return;i.current=!0;const l=s(),u=()=>{l.unblock(),r.removeEventListener("ended",u,{once:!0}),r.removeEventListener("pause",u,{once:!0}),i.current=!1},c=()=>{u()};r.requestVideoFrameCallback(((t,n)=>{Math.abs(n.mediaTime-e)>.5&&a(),u()})),r.addEventListener("ended",c,{once:!0}),r.addEventListener("pause",c,{once:!0}),r.addEventListener("canplay",c,{once:!0})}),[s,t,n,a,o]);return(0,r.useMemo)((()=>({isBuffering:()=>i.current,bufferUntilFirstFrame:l})),[l])})({mediaRef:t,mediaType:a,onVariableFpsVideoDetected:S,pauseWhenBuffering:l}),T=o*d,M=t.current?.duration?Math.min(t.current.duration,s??Ct):s,N=(e=>{const[t,n]=(0,r.useState)(e.buffering.current);return(0,r.useEffect)((()=>(e.listenForBuffering((()=>{n(!0)})),e.listenForResume((()=>{n(!1)})),()=>{e.listenForBuffering((()=>{})),e.listenForResume((()=>{}))})),[e]),t})(m);(0,r.useEffect)((()=>{if(!p)return Le({logLevel:_,tag:"pause",message:`Pausing ${t.current?.src} because player is not playing`,mountTime:x}),void t.current?.pause();const e=k||j();N&&!e&&(Le({logLevel:_,tag:"pause",message:`Pausing ${t.current?.src} because player is buffering but media tag is not`,mountTime:x}),t.current?.pause())}),[j,k,N,_,t,a,x,p]),(0,r.useEffect)((()=>{const e="audio"===a?"<Audio>":"<Video>";if(!t.current)throw new Error(`No ${a} ref found`);if(!n)throw new Error(`No 'src' attribute was passed to the ${e} element.`);const r=Math.max(0,T);t.current.playbackRate!==r&&(t.current.playbackRate=r);const{duration:o}=t.current,s=!Number.isNaN(o)&&Number.isFinite(o)?Math.min(o,E):E,d=t.current.currentTime,f=C.current??null,g=w.current[n],v=Math.abs(s-d),S=f?Math.abs(s-f):null,N=S&&!g?S:v;if(N>M&&b.current!==s)return y.current=bt({mediaRef:t.current,time:s,logLevel:_,why:`because time shift is too big. shouldBeTime = ${s}, isTime = ${d}, requestVideoCallbackTime = ${f}, timeShift = ${N}${g?", isVariableFpsVideo = true":""}, isPremounting = ${u}, pauseWhenBuffering = ${l}`,mountTime:x}),b.current=y.current,p&&!g&&(T>0&&P(s),t.current.paused&&ot({mediaRef:t,mediaType:a,onAutoPlayError:c,logLevel:_,mountTime:x})),void(i||((e,t)=>{if(null===e)return;if(0===e.seekable.length)return;if(e.seekable.length>1)return;if(St[e.src])return;const n=e.seekable.start(0),r=e.seekable.end(0);if(0===n&&0===r){const n=[`The media ${e.src} cannot be seeked. This could be one of few reasons:`,"1) The media resource was replaced while the video is playing but it was not loaded yet.","2) The media does not support seeking.","3) The media was loaded with security headers prventing it from being included.","Please see https://remotion.dev/docs/non-seekable-media for assistance."].join("\n");if("console-error"===t)console.error(n);else{if("console-warning"!==t)throw new Error(n);console.warn(`The media ${e.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`)}St[e.src]=!0}})(t.current,i?"console-warning":"console-error"));const D=p?.15:1e-5,O=Math.abs(t.current.currentTime-s)>D,F=k||j(),R=m.buffering.current&&!F;p&&!R?(t.current.paused&&!t.current.ended||0===h)&&(O&&(y.current=bt({mediaRef:t.current,time:s,logLevel:_,why:`is over timeshift threshold (threshold = ${D}) is paused OR has reached end of timeline and is starting over`,mountTime:x})),ot({mediaRef:t,mediaType:a,onAutoPlayError:c,logLevel:_,mountTime:x}),g||T>0&&P(s)):O&&(y.current=bt({mediaRef:t.current,time:s,logLevel:_,why:`not playing or something else is buffering. time offset is over seek threshold (${D})`,mountTime:x}))}),[h,M,P,m.buffering,C,_,E,j,k,t,a,i,T,p,n,c,u,l,x])},kt=(e,t)=>Math.abs(e-t)<1e-5,Pt=e=>{let{volumePropFrame:t,volume:n,mediaVolume:a,mediaRef:o}=e;const i=(0,r.useCallback)((()=>{if(!o.current)return;const e=it({frame:t,volume:n,mediaVolume:a,allowAmplificationDuringRender:!1});kt(e,o.current.volume)||(o.current.volume=e)}),[o,a,n,t]);(0,r.useEffect)((()=>{i()}),[i]),(0,r.useEffect)((()=>{const e=o.current;if(!e)return;const t=()=>{i()};return e.addEventListener("volumechange",t),()=>{e.removeEventListener("volumechange",t)}}),[i,o])},jt=(0,r.createContext)({mediaMuted:!1,mediaVolume:1}),Tt=(0,r.createContext)({setMediaMuted:()=>{throw new Error("default")},setMediaVolume:()=>{throw new Error("default")}}),Mt=()=>{const{mediaVolume:e}=(0,r.useContext)(jt),{setMediaVolume:t}=(0,r.useContext)(Tt);return(0,r.useMemo)((()=>[e,t]),[e,t])},Nt=()=>{const{mediaMuted:e}=(0,r.useContext)(jt),{setMediaMuted:t}=(0,r.useContext)(Tt);return(0,r.useMemo)((()=>[e,t]),[e,t])},Dt="data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Ot=(0,r.createContext)(null),Ft=e=>{let{children:t,numberOfAudioTags:n,component:o}=e;const i=(0,r.useRef)([]),[s]=(0,r.useState)(n);if(n!==s)throw new Error("The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.");const l=(0,r.useMemo)((()=>new Array(n).fill(!0).map((()=>({id:Math.random(),ref:(0,r.createRef)()})))),[n]),u=(0,r.useRef)(new Array(n).fill(!1)),c=(0,r.useCallback)((()=>{l.forEach((e=>{let{ref:t,id:n}=e;const r=i.current?.find((e=>e.id===n)),{current:a}=t;if(a)if(void 0!==r){if(!r)throw new TypeError("Expected audio data to be there");Object.keys(r.props).forEach((e=>{((e,t,n)=>"src"!==e||n.startsWith("data:")||t.startsWith("data:")?n!==t:new URL(n,window.origin).toString()!==new URL(t,window.origin).toString())(e,r.props[e],a[e])&&(a[e]=r.props[e])}))}else a.src=Dt}))}),[l]),d=(0,r.useCallback)(((e,t)=>{const r=i.current?.find((e=>e.audioId===t));if(r)return r;const a=u.current.findIndex((e=>!1===e));if(-1===a)throw new Error(`Tried to simultaneously mount ${n+1} <Audio /> tags at the same time. With the current settings, the maximum amount of <Audio /> tags is limited to ${n} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);const{id:o,ref:s}=l[a],d=[...u.current];d[a]=o,u.current=d;const f={props:e,id:o,el:s,audioId:t};return i.current?.push(f),c(),f}),[n,l,c]),f=(0,r.useCallback)((e=>{const t=[...u.current],n=l.findIndex((t=>t.id===e));if(-1===n)throw new TypeError("Error occured in ");t[n]=!1,u.current=t,i.current=i.current?.filter((t=>t.id!==e)),c()}),[l,c]),h=(0,r.useCallback)((e=>{let{aud:t,audioId:n,id:r}=e,a=!1;i.current=i.current?.map((e=>{if(e.id===r){return((e,t)=>{const n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){if(n[a]!==r[a])return!1;if(e[n[a]]!==t[r[a]])return!1}return!0})(t,e.props)?e:(a=!0,{...e,props:t,audioId:n})}return e})),a&&c()}),[c]),p=rt(),m=at(),g=(0,r.useCallback)((()=>{l.forEach((e=>{ot({mediaRef:e.ref,mediaType:"audio",onAutoPlayError:null,logLevel:p,mountTime:m})}))}),[p,m,l]),v=(0,r.useMemo)((()=>({registerAudio:d,unregisterAudio:f,updateAudio:h,playAllAudios:g,numberOfAudioTags:n})),[n,g,d,f,h]),b=(0,r.useCallback)((()=>{u.current=new Array(n).fill(!1),i.current=[],c()}),[n,c]);return(0,r.useEffect)((()=>()=>{b()}),[o,b]),(0,a.jsxs)(Ot.Provider,{value:v,children:[l.map((e=>{let{id:t,ref:n}=e;return(0,a.jsx)("audio",{ref:n,preload:"metadata",src:Dt},t)})),t]})},Rt=(0,r.forwardRef)(((e,t)=>{const[n]=(0,r.useState)(e.shouldPreMountAudioTags);if(e.shouldPreMountAudioTags!==n)throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");const{volume:o,muted:i,playbackRate:s,shouldPreMountAudioTags:l,src:u,onDuration:c,acceptableTimeShiftInSeconds:d,_remotionInternalNeedsDurationCalculation:f,_remotionInternalNativeLoopPassed:h,_remotionInternalStack:p,allowAmplificationDuringRender:m,name:g,pauseWhenBuffering:v,showInTimeline:b,loopVolumeCurveBehavior:y,stack:_,...w}=e,[C]=Mt(),[E]=Nt(),k=et(y??"repeat"),{hidden:P}=(0,r.useContext)(S);if(!u)throw new TypeError("No 'src' was passed to <Audio>.");const j=Ve(u),T=(0,r.useContext)(x),[M]=(0,r.useState)((()=>String(Math.random()))),N=P[M]??!1,D=it({frame:k,volume:o,mediaVolume:C,allowAmplificationDuringRender:!1}),O=(0,r.useMemo)((()=>({muted:i||E||N||D<=0,src:j,loop:h,...w})),[h,N,E,i,w,j,D]),F=((e,t)=>{const n=(0,r.useContext)(Ot),[a]=(0,r.useState)((()=>n&&n.numberOfAudioTags>0?n.registerAudio(e,t):{el:r.createRef(),id:Math.random(),props:e,audioId:t})),o=r.useInsertionEffect??r.useLayoutEffect;return"undefined"!==typeof document&&(o((()=>{n&&n.numberOfAudioTags>0&&n.updateAudio({id:a.id,aud:e,audioId:t})}),[e,n,a.id,t]),o((()=>()=>{n&&n.numberOfAudioTags>0&&n.unregisterAudio(a.id)}),[n,a.id])),a})(O,(0,r.useMemo)((()=>`audio-${Qe(u??"")}-${T?.relativeFrom}-${T?.cumulatedFrom}-${T?.durationInFrames}-muted:${e.muted}-loop:${e.loop}`),[u,T?.relativeFrom,T?.cumulatedFrom,T?.durationInFrames,e.muted,e.loop])).el;Pt({volumePropFrame:k,volume:o,mediaVolume:C,mediaRef:F}),lt({volume:o,mediaVolume:C,mediaRef:F,src:u,mediaType:"audio",playbackRate:s??1,displayName:g??null,id:M,stack:p,showInTimeline:b,premountDisplay:null,onAutoPlayError:null,isPremounting:Boolean(T?.premounting)}),Et({mediaRef:F,src:u,mediaType:"audio",playbackRate:s??1,onlyWarnForMediaSeekingError:!1,acceptableTimeshift:d??Ct,isPremounting:Boolean(T?.premounting),pauseWhenBuffering:v,onAutoPlayError:null}),(0,r.useImperativeHandle)(t,(()=>F.current),[F]);const R=(0,r.useRef)(c);return R.current=c,(0,r.useEffect)((()=>{const{current:e}=F;if(!e)return;if(e.duration)return void R.current?.(e.src,e.duration);const t=()=>{R.current?.(e.src,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[F,u]),n?null:(0,a.jsx)("audio",{ref:F,preload:"metadata",...O})})),At=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)(null),{volume:o,playbackRate:i,allowAmplificationDuringRender:s,onDuration:l,toneFrequency:u,_remotionInternalNeedsDurationCalculation:c,_remotionInternalNativeLoopPassed:d,acceptableTimeShiftInSeconds:f,name:h,onError:p,delayRenderRetries:m,delayRenderTimeoutInMilliseconds:g,loopVolumeCurveBehavior:v,pauseWhenBuffering:b,...y}=e,_=ae(),w=et(v??"repeat"),S=de(),C=(0,r.useContext)(x),{registerRenderAsset:E,unregisterRenderAsset:k}=(0,r.useContext)(Pe),P=(0,r.useMemo)((()=>`audio-${Qe(e.src??"")}-${C?.relativeFrom}-${C?.cumulatedFrom}-${C?.durationInFrames}`),[e.src,C?.relativeFrom,C?.cumulatedFrom,C?.durationInFrames]),j=it({volume:o,frame:w,mediaVolume:1,allowAmplificationDuringRender:s??!1});(0,r.useImperativeHandle)(t,(()=>n.current),[]),(0,r.useEffect)((()=>{if(!e.src)throw new Error("No src passed");if(window.remotion_audioEnabled&&!e.muted&&!(j<=0))return E({type:"audio",src:Me(e.src),id:P,frame:_,volume:j,mediaFrame:S,playbackRate:e.playbackRate??1,allowAmplificationDuringRender:s??!1,toneFrequency:u??null,audioStartFrame:Math.max(0,-(C?.relativeFrom??0))}),()=>k(P)}),[e.muted,e.src,E,_,P,k,j,w,S,i,e.playbackRate,s,u,C?.relativeFrom]);const{src:T}=e,M=t||c;return(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;if(!M)return;const e=_e("Loading <Audio> duration with src="+T,{retries:m??void 0,timeoutInMilliseconds:g??void 0}),{current:t}=n,r=()=>{t?.duration&&l(t.src,t.duration),xe(e)};return t?.duration?(l(t.src,t.duration),xe(e)):t?.addEventListener("loadedmetadata",r,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",r),xe(e)}}),[T,l,M,m,g]),M?(0,a.jsx)("audio",{ref:n,...y}):null})),It=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useContext)(Ot),{startFrom:o,endAt:i,name:s,stack:l,pauseWhenBuffering:u,showInTimeline:d,...f}=e,{loop:h,...p}=e,{fps:m}=ce(),g=c(),{durations:v,setDurations:b}=(0,r.useContext)(Ye);if("string"!==typeof e.src)throw new TypeError(`The \`<Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const y=Ve(e.src),_=(0,r.useCallback)((e=>{console.log(e.currentTarget.error);const t=`Could not play audio with src ${y}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;h?ve(new Error(t)):console.warn(t)}),[h,y]),x=(0,r.useCallback)(((e,t)=>{b({type:"got-duration",durationInSeconds:t,src:e})}),[b]),w=v[Me(y)]??v[Me(e.src)];if(h&&void 0!==w){if(!Number.isFinite(w))return(0,a.jsx)(It,{...p,ref:t,_remotionInternalNativeLoopPassed:!0});const n=w*m;return(0,a.jsx)(Oe,{layout:"none",durationInFrames:Ne({endAt:i,mediaDuration:n,playbackRate:e.playbackRate??1,startFrom:o}),children:(0,a.jsx)(It,{...p,ref:t,_remotionInternalNativeLoopPassed:!0})})}if("undefined"!==typeof o||"undefined"!==typeof i){Ke(o,i);const e=o??0,n=i??1/0;return(0,a.jsx)(me,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:n,name:s,children:(0,a.jsx)(It,{_remotionInternalNeedsDurationCalculation:Boolean(h),pauseWhenBuffering:u??!1,...f,ref:t})})}return He(e,"Audio"),g.isRendering?(0,a.jsx)(At,{onDuration:x,...e,ref:t,onError:_,_remotionInternalNeedsDurationCalculation:Boolean(h)}):(0,a.jsx)(Rt,{_remotionInternalNativeLoopPassed:e._remotionInternalNativeLoopPassed??!1,_remotionInternalStack:l??null,shouldPreMountAudioTags:null!==n&&n.numberOfAudioTags>0,...e,ref:t,onError:_,onDuration:x,pauseWhenBuffering:u??!1,_remotionInternalNeedsDurationCalculation:Boolean(h),showInTimeline:d??!0})}));p(It);var Lt=(0,r.createContext)({folderName:null,parentName:null}),Bt=e=>{let{name:t,children:n}=e;const o=(0,r.useContext)(Lt),{registerFolder:i,unregisterFolder:s}=(0,r.useContext)(j);(e=>{if(void 0===e||null===e)throw new TypeError("You must pass a name to a <Folder />.");if("string"!==typeof e)throw new TypeError('The "name" you pass into <Folder /> must be a string. Got: '+typeof e);if(!(e=>e.match(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g))(e))throw new Error(`Folder name can only contain a-z, A-Z, 0-9 and -. You passed ${e}`)})(t);const l=[o.parentName,o.folderName].filter(v),u=0===l.length?null:l.join("/"),c=(0,r.useMemo)((()=>({folderName:t,parentName:u})),[t,u]);return(0,r.useEffect)((()=>(i(t,u),()=>{s(t,u)})),[t,o.folderName,u,i,s]),(0,a.jsx)(Lt.Provider,{value:c,children:n})},Ut={transform:"rotate(90deg)"},Wt={color:"white",fontSize:14,fontFamily:"sans-serif"},zt={justifyContent:"center",alignItems:"center"},$t=()=>(0,a.jsxs)(_,{style:zt,id:"remotion-comp-loading",children:[(0,a.jsx)("style",{type:"text/css",children:"\n\t\t\t\t@keyframes anim {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t#remotion-comp-loading {\n\t\t\t\t\tanimation: anim 2s;\n\t\t\t\t\tanimation-fill-mode: forwards;\n\t\t\t\t}\n\t\t\t"}),(0,a.jsx)("svg",{width:40,height:40,viewBox:"-100 -100 400 400",style:Ut,children:(0,a.jsx)("path",{fill:"#555",stroke:"#555",strokeWidth:"100",strokeLinejoin:"round",d:"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z"})}),(0,a.jsxs)("p",{style:Wt,children:["Resolving ","<Suspense>","..."]})]}),Vt=null,Gt=()=>{if(!Vt){if("undefined"===typeof document)throw new Error("Tried to call an API that only works in the browser from outside the browser");(Vt=document.createElement("div")).style.position="absolute",Vt.style.top="0px",Vt.style.left="0px",Vt.style.right="0px",Vt.style.bottom="0px",Vt.style.width="100%",Vt.style.height="100%",Vt.style.display="flex",Vt.style.flexDirection="column";const e=document.createElement("div");e.style.position="fixed",e.style.top="-999999px",e.appendChild(Vt),document.body.appendChild(e)}return Vt},Ht=e=>{let{compProps:t,componentName:n}=e;return(0,r.useMemo)((()=>{if("lazyComponent"in t&&"undefined"!==typeof t.lazyComponent){if("undefined"===typeof t.lazyComponent)throw new Error(`A value of \`undefined\` was passed to the \`lazyComponent\` prop. Check the value you are passing to the <${n}/> component.`);return r.lazy(t.lazyComponent)}if("component"in t){if("undefined"===typeof document)return t.component;if("undefined"===typeof t.component)throw new Error(`A value of \`undefined\` was passed to the \`component\` prop. Check the value you are passing to the <${n}/> component.`);return r.lazy((()=>Promise.resolve({default:t.component})))}throw new Error("You must pass either 'component' or 'lazyComponent'")}),[t.component,t.lazyComponent])},Kt=e=>e.match(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g),qt=`Composition ID must match ${String(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g)}`,Yt=()=>((0,r.useEffect)((()=>{const e=_e("Waiting for Root component to unsuspend");return()=>xe(e)}),[]),null),Xt=e=>{let{width:t,height:n,fps:i,durationInFrames:s,id:l,defaultProps:u,schema:d,...f}=e;const{registerComposition:h,unregisterComposition:p}=(0,r.useContext)(j),m=Q(),v=Ht({compProps:f,componentName:"Composition"}),b=k(),y=g(),_=c();if((0,r.useContext)(se)){if(y)throw new Error("<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help.");throw new Error("<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.")}const{folderName:x,parentName:w}=(0,r.useContext)(Lt);(0,r.useEffect)((()=>{if(!l)throw new Error("No id for composition passed.");return(e=>{if(!Kt(e))throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${e}`)})(l),((e,t,n)=>{if(e){if("object"!==typeof e)throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}})(u,"defaultProps",l),h({durationInFrames:s??void 0,fps:i??void 0,height:n??void 0,width:t??void 0,id:l,folderName:x,component:v,defaultProps:I(u??{}),nonce:b,parentFolderName:w,schema:d??null,calculateMetadata:f.calculateMetadata??null}),()=>{p(l)}}),[s,i,n,v,l,x,u,h,p,t,b,w,d,f.calculateMetadata]);const S=J(l);if(_.isStudio&&m&&m.component===v){const e=v;return null===S||"success"!==S.type?null:(0,o.createPortal)((0,a.jsx)(le,{children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)($t,{}),children:(0,a.jsx)(e,{...S.result.props??{}})})}),Gt())}if(_.isRendering&&m&&m.component===v){const e=v;return null===S||"success"!==S.type?null:(0,o.createPortal)((0,a.jsx)(le,{children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(Yt,{}),children:(0,a.jsx)(e,{...S.result.props??{}})})}),Gt())}return null},Jt=r.createRef(),Qt=e=>{let{children:t,numberOfAudioTags:n}=e;const[o,i]=(0,r.useState)([]),s=(0,r.useRef)(o),[l,u]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[f,h]=(0,r.useState)(null),p=(0,r.useCallback)((e=>{i((t=>{const n=e(t);return s.current=n,n}))}),[]),m=(0,r.useCallback)((e=>{p((t=>{if(t.find((t=>t.id===e.id)))throw new Error(`Multiple composition with id ${e.id} are registered.`);const n=[...t,e].slice().sort(((e,t)=>e.nonce-t.nonce));return n}))}),[p]),g=(0,r.useCallback)((e=>{i((t=>t.filter((t=>t.id!==e))))}),[]),v=(0,r.useCallback)(((e,t)=>{u((n=>[...n,{name:e,parent:t}]))}),[]),b=(0,r.useCallback)(((e,t)=>{u((n=>n.filter((n=>!(n.name===e&&n.parent===t)))))}),[]);(0,r.useImperativeHandle)(Jt,(()=>({getCompositions:()=>s.current})),[]);const y=o.find((e=>"composition"===c?.type?e.id===c.compositionId:null)),_=(0,r.useCallback)(((e,t)=>{i((n=>{const r=n.map((n=>n.id===e?{...n,defaultProps:t}:n));return r}))}),[]),x=(0,r.useMemo)((()=>({compositions:o,registerComposition:m,unregisterComposition:g,folders:l,registerFolder:v,unregisterFolder:b,currentCompositionMetadata:f,setCurrentCompositionMetadata:h,canvasContent:c,setCanvasContent:d,updateCompositionDefaultProps:_})),[o,m,g,l,v,b,f,c,_]);return(0,a.jsx)(j.Provider,{value:x,children:(0,a.jsx)(C,{children:(0,a.jsx)(je,{children:(0,a.jsx)(X,{children:(0,a.jsx)(Ft,{numberOfAudioTags:n,component:y?.component??null,children:t})})})})})},Zt=.1,en="function"===typeof Float32Array;function tn(e,t){return 1-3*t+3*e}function nn(e,t){return 3*t-6*e}function rn(e){return 3*e}function an(e,t,n){return((tn(t,n)*e+nn(t,n))*e+rn(t))*e}function on(e,t,n){return 3*tn(t,n)*e*e+2*nn(t,n)*e+rn(t)}function sn(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");const a=en?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(let i=0;i<11;++i)a[i]=an(i*Zt,e,n);function o(t){let r=0,o=1;for(;10!==o&&a[o]<=t;++o)r+=Zt;--o;const i=r+(t-a[o])/(a[o+1]-a[o])*Zt,s=on(i,e,n);return s>=.001?function(e,t,n,r){let a=t;for(let o=0;o<4;++o){const t=on(a,n,r);if(0===t)return a;a-=(an(a,n,r)-e)/t}return a}(t,i,e,n):0===s?i:function(e){let t,n,{aX:r,_aA:a,_aB:o,mX1:i,mX2:s}=e,l=0,u=a,c=o;do{n=u+(c-u)/2,t=an(n,i,s)-r,t>0?c=n:u=n}while(Math.abs(t)>1e-7&&++l<10);return n}({aX:t,_aA:r,_aB:r+Zt,mX1:e,mX2:n})}return function(a){return e===t&&n===r?a:0===a?0:1===a?1:an(o(a),t,r)}}class ln{static step0(e){return e>0?1:0}static step1(e){return e>=1?1:0}static linear(e){return e}static ease(e){return ln.bezier(.42,0,1,1)(e)}static quad(e){return e*e}static cubic(e){return e*e*e}static poly(e){return t=>t**e}static sin(e){return 1-Math.cos(e*Math.PI/2)}static circle(e){return 1-Math.sqrt(1-e*e)}static exp(e){return 2**(10*(e-1))}static elastic(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return t=>1-Math.cos(t*Math.PI/2)**3*Math.cos(t*e)}static back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return t=>t*t*((e+1)*t-e)}static bounce(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){const t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){const t=e-2.25/2.75;return 7.5625*t*t+.9375}const t=e-2.625/2.75;return 7.5625*t*t+.984375}static bezier(e,t,n,r){return sn(e,t,n,r)}static in(e){return e}static out(e){return t=>1-e(1-t)}static inOut(e){return t=>t<.5?e(2*t)/2:1-e(2*(1-t))/2}}var un=!1,cn=!1,dn=()=>"undefined"===typeof document?(un||(un=!0,console.warn("Called getStaticFiles() on the server. The API is only available in the browser. An empty array was returned.")),[]):window.remotion_isPlayer?(cn||(cn=!0,console.warn("Called getStaticFiles() while using the Remotion Player. The API is only available while using the Remotion Studio. An empty array was returned.")),[]):window.remotion_staticFiles,fn=(0,r.forwardRef)(((e,t)=>{let{onLoad:n,onError:o,delayRenderRetries:i,delayRenderTimeoutInMilliseconds:s,...l}=e;const[u]=(0,r.useState)((()=>_e(`Loading <IFrame> with source ${l.src}`,{retries:i??void 0,timeoutInMilliseconds:s??void 0}))),c=(0,r.useCallback)((e=>{xe(u),n?.(e)}),[u,n]),d=(0,r.useCallback)((e=>{xe(u),o?o(e):console.error("Error loading iframe:",e,"Handle the event using the onError() prop to make this message disappear.")}),[u,o]);return(0,a.jsx)("iframe",{...l,ref:t,onError:d,onLoad:c})}));var hn=(0,r.forwardRef)(((e,t)=>{let{onError:n,maxRetries:o=2,src:i,pauseWhenLoading:s,delayRenderRetries:l,delayRenderTimeoutInMilliseconds:u,onImageFrame:c,...d}=e;const f=(0,r.useRef)(null),h=(0,r.useRef)({}),{delayPlayback:p}=dt(),m=(0,r.useContext)(x);if(!i)throw new Error('No "src" prop was passed to <Img>.');(0,r.useImperativeHandle)(t,(()=>f.current),[]);const g=Ve(i),v=(0,r.useCallback)((e=>{if(!f.current)return;const t=f.current.src;setTimeout((()=>{if(!f.current)return;const e=f.current?.src;e===t&&(f.current.removeAttribute("src"),f.current.setAttribute("src",e))}),e)}),[]),b=(0,r.useCallback)((e=>{if(h.current)if(h.current[f.current?.src]=(h.current[f.current?.src]??0)+1,n&&(h.current[f.current?.src]??0)>o)n(e);else{if((h.current[f.current?.src]??0)<=o){const e=1e3*2**((h.current[f.current?.src]??0)-1);return console.warn(`Could not load image with source ${f.current?.src}, retrying again in ${e}ms`),void v(e)}ve("Error loading image with src: "+f.current?.src)}}),[o,n,v]);if("undefined"!==typeof window){const e=Boolean(m?.premounting);(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return void(f.current&&(f.current.src=g));const{current:t}=f;if(!t)return;const n=_e("Loading <Img> with src="+g,{retries:l??void 0,timeoutInMilliseconds:u??void 0}),r=s&&!e?p().unblock:()=>{};let a=!1;const o=()=>{a||((h.current[f.current?.src]??0)>0&&(delete h.current[f.current?.src],console.info(`Retry successful - ${f.current?.src} is now loaded`)),t&&c?.(t),r()),xe(n)};if(f.current)return t.src=g,t.complete?o():t.decode().then(o).catch((e=>{console.warn(e),t.complete?o():t.addEventListener("load",o)})),()=>{a=!0,t.removeEventListener("load",o),r(),xe(n)};o()}),[g,p,l,u,s,e,c])}return(0,a.jsx)("img",{...d,ref:f,onError:b})})),pn={};s(pn,{makeDefaultPreviewCSS:()=>bn,injectCSS:()=>gn,OFFTHREAD_VIDEO_CLASS_NAME:()=>vn});var mn={},gn=e=>{if("undefined"===typeof document)return;if(mn[e])return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.prepend(n),mn[e]=!0},vn="__remotion_offthreadvideo",bn=(e,t)=>e?`\n    ${e} * {\n      box-sizing: border-box;\n    }\n    ${e} *:-webkit-full-screen {\n      width: 100%;\n      height: 100%;\n    }\n    ${e} .${vn} {\n      object-fit: contain;\n    }\n  `:`\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      margin: 0;\n\t    background-color: ${t};\n    }\n    .${vn} {\n      object-fit: contain;\n    }\n    `,yn="__remotion-studio-container",_n=null,xn=[],wn=e=>{if(!e)throw new Error(`You must pass a React component to registerRoot(), but ${JSON.stringify(e)} was passed.`);if(_n)throw new Error("registerRoot() was called more than once.");_n=e,xn.forEach((t=>{t(e)}))},Sn=r.createContext(null),Cn=(0,r.createContext)({setSize:()=>{},size:{size:"auto",translation:{x:0,y:0}}}),En=e=>{let{canvasSize:t,compositionHeight:n,compositionWidth:r,previewSize:a}=e;const o=t.height/n,i=t.width/r,s=Math.min(o,i);return"auto"===a?s:Number(a)},kn=e=>{const t=r.useContext(Sn),n=r.useContext(Cn),a=ue();if(null===t||null===a||null===n){if(e?.dontThrowIfOutsideOfRemotion)return 1;if(c().isRendering)return 1;throw new Error(["useCurrentScale() was called outside of a Remotion context.","This hook can only be called in a component that is being rendered by Remotion.","If you want to this hook to return 1 outside of Remotion, pass {dontThrowIfOutsideOfRemotion: true} as an option.","If you think you called this hook in a Remotion component, make sure all versions of Remotion are aligned."].join("\n"))}return"scale"===t.type?t.scale:En({canvasSize:t.canvasSize,compositionHeight:a.height,compositionWidth:a.width,previewSize:n.size.size})},Pn="remotion_staticFilesChanged",jn=(e,t)=>{if(!c().isStudio)return console.warn("The API is only available while using the Remotion Studio."),{cancel:()=>{}};const n=e.startsWith(window.remotion_staticBase)?e.replace(window.remotion_staticBase,""):e,r=n.startsWith("/")?n.slice(1):n;let a=window.remotion_staticFiles.find((e=>e.name===r));const o=e=>{const n=e.detail.files.find((e=>e.name===r));if(!n)return void 0!==a&&t(null),void(a=void 0);void 0!==a&&a.lastModified===n.lastModified||(t(n),a=n)};window.addEventListener(Pn,o);return{cancel:()=>window.removeEventListener(Pn,o)}};var Tn={useUnsafeVideoConfig:ue,Timeline:P,CompositionManager:j,SequenceManager:w,SequenceVisibilityToggleContext:S,RemotionRoot:t=>{let{children:n,numberOfAudioTags:o,logLevel:i}=t;const[s]=(0,r.useState)((()=>String(Qe(null)))),[l,u]=(0,r.useState)((()=>ne())),[c,d]=(0,r.useState)(!1),f=(0,r.useRef)(!1),[h,p]=(0,r.useState)(0),[m,g]=(0,r.useState)(1),v=(0,r.useRef)([]);"undefined"!==typeof window&&(0,r.useLayoutEffect)((()=>{window.remotion_setFrame=(e,t,n)=>{window.remotion_attempt=n;const r=_e(`Setting the current frame to ${e}`);let a=!0;u((n=>(n[t]??window.remotion_initialFrame)===e?(a=!1,n):{...n,[t]:e})),a?requestAnimationFrame((()=>xe(r))):xe(r)},window.remotion_isPlayer=!1}),[]);const b=(0,r.useMemo)((()=>({frame:l,playing:c,imperativePlaying:f,rootId:s,playbackRate:m,setPlaybackRate:g,audioAndVideoTags:v})),[l,m,c,s]),y=(0,r.useMemo)((()=>({setFrame:u,setPlaying:d})),[]),_=(0,r.useMemo)((()=>{let e=0;return{getNonce:()=>e++,fastRefreshes:h}}),[h]);(0,r.useEffect)((()=>{e.hot&&e.hot.addStatusHandler((e=>{"idle"===e&&p((e=>e+1))}))}),[]);const x=(0,r.useMemo)((()=>({logLevel:i,mountTime:Date.now()})),[i]);return(0,a.jsx)(nt.Provider,{value:x,children:(0,a.jsx)(E.Provider,{value:_,children:(0,a.jsx)(Z.Provider,{value:b,children:(0,a.jsx)(ee.Provider,{value:y,children:(0,a.jsx)(D,{children:(0,a.jsx)($e,{children:(0,a.jsx)(Qt,{numberOfAudioTags:o,children:(0,a.jsx)(Xe,{children:(0,a.jsx)(ct,{children:n})})})})})})})})})},useVideo:Q,getRoot:()=>_n,useMediaVolumeState:Mt,useMediaMutedState:Nt,useLazyComponent:Ht,truthy:v,SequenceContext:x,useRemotionContexts:function(){const e=r.useContext(j),t=r.useContext(Z),n=r.useContext(ee),a=r.useContext(x),o=r.useContext(E),i=r.useContext(se),s=r.useContext(Be),l=r.useContext(H),u=r.useContext(Pe),c=r.useContext(w),d=r.useContext(ut),f=r.useContext(nt);return(0,r.useMemo)((()=>({compositionManagerCtx:e,timelineContext:t,setTimelineContext:n,sequenceContext:a,nonceContext:o,canUseRemotionHooksContext:i,preloadContext:s,resolveCompositionContext:l,renderAssetManagerContext:u,sequenceManagerContext:c,bufferManagerContext:d,logLevelContext:f})),[e,o,a,n,t,i,s,l,u,c,d,f])},RemotionContextProvider:e=>{const{children:t,contexts:n}=e;return(0,a.jsx)(nt.Provider,{value:n.logLevelContext,children:(0,a.jsx)(se.Provider,{value:n.canUseRemotionHooksContext,children:(0,a.jsx)(E.Provider,{value:n.nonceContext,children:(0,a.jsx)(Be.Provider,{value:n.preloadContext,children:(0,a.jsx)(j.Provider,{value:n.compositionManagerCtx,children:(0,a.jsx)(w.Provider,{value:n.sequenceManagerContext,children:(0,a.jsx)(Pe.Provider,{value:n.renderAssetManagerContext,children:(0,a.jsx)(H.Provider,{value:n.resolveCompositionContext,children:(0,a.jsx)(Z.Provider,{value:n.timelineContext,children:(0,a.jsx)(ee.Provider,{value:n.setTimelineContext,children:(0,a.jsx)(x.Provider,{value:n.sequenceContext,children:(0,a.jsx)(ut.Provider,{value:n.bufferManagerContext,children:t})})})})})})})})})})})})},CSSUtils:pn,setupEnvVariables:()=>{const e=(()=>{if(c().isRendering){const e=window.remotion_envVariables;return e?{...JSON.parse(e),NODE_ENV:"production"}:{}}return{NODE_ENV:"production"}})();window.process||(window.process={}),window.process.env||(window.process.env={}),Object.keys(e).forEach((t=>{window.process.env[t]=e[t]}))},MediaVolumeContext:jt,SetMediaVolumeContext:Tt,getRemotionEnvironment:c,SharedAudioContext:Ot,SharedAudioContextProvider:Ft,invalidCompositionErrorMessage:qt,isCompositionIdValid:Kt,getPreviewDomElement:()=>document.getElementById(yn),compositionsRef:Jt,portalNode:Gt,waitForRoot:e=>_n?(e(_n),()=>{}):(xn.push(e),()=>{xn=xn.filter((t=>t!==e))}),CanUseRemotionHooksProvider:le,CanUseRemotionHooks:se,PrefetchProvider:$e,DurationsContextProvider:Xe,IsPlayerContextProvider:e=>{let{children:t}=e;return(0,a.jsx)(m.Provider,{value:!0,children:t})},useIsPlayer:g,EditorPropsProvider:D,EditorPropsContext:T,usePreload:Ve,NonceContext:E,resolveVideoConfig:G,useResolvedVideoConfig:J,resolveCompositionsRef:K,ResolveCompositionConfig:X,REMOTION_STUDIO_CONTAINER_ELEMENT:yn,RenderAssetManager:Pe,persistCurrentFrame:te,useTimelineSetFrame:oe,isIosSafari:ht,WATCH_REMOTION_STATIC_FILES:Pn,addSequenceStackTraces:p,useMediaStartsAt:Ze,BufferingProvider:ct,BufferingContextReact:ut,enableSequenceStackTraces:h,CurrentScaleContext:Sn,PreviewSizeContext:Cn,calculateScale:En,editorPropsProviderRef:M,PROPS_UPDATED_EXTERNALLY:Y,validateRenderAsset:ke,Log:Ie,LogLevelContext:nt,useLogLevel:rt,playbackLogging:Le,timeValueRef:N},Mn="[-+]?\\d*\\.?\\d+",Nn=Mn+"%";function Dn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function On(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Fn(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=On(a,r,e+1/3),i=On(a,r,e),s=On(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*s)<<8}function Rn(e){const t=Number.parseInt(e,10);return t<0?0:t>255?255:t}function An(e){return(Number.parseFloat(e)%360+360)%360/360}function In(e){const t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ln(e){const t=Number.parseFloat(e);return t<0?0:t>100?1:t/100}var Bn={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function Un(e){const t=function(){const e={rgb:void 0,rgba:void 0,hsl:void 0,hsla:void 0,hex3:void 0,hex4:void 0,hex5:void 0,hex6:void 0,hex8:void 0};return void 0===e.rgb&&(e.rgb=new RegExp("rgb"+Dn(Mn,Mn,Mn)),e.rgba=new RegExp("rgba"+Dn(Mn,Mn,Mn,Mn)),e.hsl=new RegExp("hsl"+Dn(Mn,Nn,Nn)),e.hsla=new RegExp("hsla"+Dn(Mn,Nn,Nn,Mn)),e.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex6=/^#([0-9a-fA-F]{6})$/,e.hex8=/^#([0-9a-fA-F]{8})$/),e}();let n;if(t.hex6&&(n=t.hex6.exec(e)))return Number.parseInt(n[1]+"ff",16)>>>0;if(void 0!==Bn[e])return Bn[e];if(t.rgb&&(n=t.rgb.exec(e)))return(Rn(n[1])<<24|Rn(n[2])<<16|Rn(n[3])<<8|255)>>>0;if(t.rgba&&(n=t.rgba.exec(e)))return(Rn(n[1])<<24|Rn(n[2])<<16|Rn(n[3])<<8|In(n[4]))>>>0;if(t.hex3&&(n=t.hex3.exec(e)))return Number.parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0;if(t.hex8&&(n=t.hex8.exec(e)))return Number.parseInt(n[1],16)>>>0;if(t.hex4&&(n=t.hex4.exec(e)))return Number.parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0;if(t.hsl&&(n=t.hsl.exec(e)))return(255|Fn(An(n[1]),Ln(n[2]),Ln(n[3])))>>>0;if(t.hsla&&(n=t.hsla.exec(e)))return(Fn(An(n[1]),Ln(n[2]),Ln(n[3]))|In(n[4]))>>>0;throw new Error(`invalid color string ${e} provided`)}var Wn=e=>(e>>24&255)/255,zn=e=>e>>16&255,$n=e=>e>>8&255,Vn=e=>255&e;var Gn=(e,t,n)=>{if("undefined"===typeof e)throw new TypeError("input can not be undefined");if("undefined"===typeof t)throw new TypeError("inputRange can not be undefined");if("undefined"===typeof n)throw new TypeError("outputRange can not be undefined");if(t.length!==n.length)throw new TypeError("inputRange ("+t.length+" values provided) and outputRange ("+n.length+" values provided) must have the same length");return((e,t,n)=>{const[r,a,o,i]=[zn,$n,Vn,Wn].map((r=>{const a=_t(e,t,n.map((e=>r(e))),{extrapolateLeft:"clamp",extrapolateRight:"clamp"});return r===Wn?Number(a.toFixed(3)):Math.round(a)}));return((e,t,n,r)=>`rgba(${e}, ${t}, ${n}, ${r})`)(r,a,o,i)})(e,t,n.map((e=>function(e){const t=Un(e);return(t<<24|t>>>8)>>>0}(e))))},Hn=e=>{let{allowFloats:t,durationInFrames:n,frame:r}=e;if("undefined"===typeof r)throw new TypeError('Argument missing for parameter "frame"');if("number"!==typeof r)throw new TypeError(`Argument passed for "frame" is not a number: ${r}`);if(!Number.isFinite(r))throw new RangeError(`Frame ${r} is not finite`);if(r%1!==0&&!t)throw new RangeError(`Argument for frame must be an integer, but got ${r}`);if(r<0&&r<-n)throw new RangeError(`Cannot use frame ${r}: Duration of composition is ${n}, therefore the lowest frame that can be rendered is ${-n}`);if(r>n-1)throw new RangeError(`Cannot use frame ${r}: Duration of composition is ${n}, therefore the highest frame that can be rendered is ${n-1}`)},Kn=e=>r.Children.toArray(e).reduce(((e,t)=>t.type===r.Fragment?e.concat(Kn(t.props.children)):(e.push(t),e)),[]),qn=(0,r.createContext)(!1),Yn=e=>{let{children:t}=e;return(0,a.jsx)(qn.Provider,{value:!0,children:t})},Xn=e=>{let{children:t}=e;return(0,a.jsx)(qn.Provider,{value:!1,children:t})},Jn=(0,r.forwardRef)(((e,t)=>{let{children:n}=e;return(()=>{if(!r.useContext(qn))throw new Error("This component must be inside a <Series /> component.")})(),(0,a.jsx)(Xn,{children:n})})),Qn=e=>{const t=(0,r.useMemo)((()=>{let t=0;const n=Kn(e.children);return r.Children.map(n,((e,r)=>{const o=e;if("string"===typeof o){if(""===o.trim())return null;throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but you passed a string "${o}"`)}if(o.type!==Jn)throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but got ${o} instead`);const i=`index = ${r}, duration = ${o.props.durationInFrames}`;if(!o?.props.children)throw new TypeError(`A <Series.Sequence /> component (${i}) was detected to not have any children. Delete it to fix this error.`);const s=o.props.durationInFrames,{durationInFrames:l,children:u,from:c,name:d,...f}=o.props;r===n.length-1&&s===1/0||z(s,{component:"of a <Series.Sequence /> component",allowFloats:!0});const h=o.props.offset??0;if(Number.isNaN(h))throw new TypeError(`The "offset" property of a <Series.Sequence /> must not be NaN, but got NaN (${i}).`);if(!Number.isFinite(h))throw new TypeError(`The "offset" property of a <Series.Sequence /> must be finite, but got ${h} (${i}).`);if(h%1!==0)throw new TypeError(`The "offset" property of a <Series.Sequence /> must be finite, but got ${h} (${i}).`);const p=t+h;return t+=s+h,(0,a.jsx)(me,{name:d||"<Series.Sequence>",from:p,durationInFrames:s,...f,ref:o.ref,children:e})}))}),[e.children]);return(0,a.jsx)(Yn,{children:t})};Qn.Sequence=Jn,p(Jn);var Zn=e=>{if("undefined"!==typeof e){if("number"!==typeof e)throw new TypeError(`A "duration" of a spring must be a "number" but is "${typeof e}"`);if(Number.isNaN(e))throw new TypeError('A "duration" of a spring is NaN, which it must not be');if(!Number.isFinite(e))throw new TypeError('A "duration" of a spring must be finite, but is '+e);if(e<=0)throw new TypeError('A "duration" of a spring must be positive, but is '+e)}},er={damping:10,mass:1,stiffness:100,overshootClamping:!1},tr={};function nr(e){let{animation:t,now:n,config:r}=e;const{toValue:a,lastTimestamp:o,current:i,velocity:s}=t,l=Math.min(n-o,64);if(r.damping<=0)throw new Error("Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.");const u=r.damping,c=r.mass,d=r.stiffness,f=[a,o,i,s,u,c,d,n].join("-");if(tr[f])return tr[f];const h=-s,p=a-i,m=u/(2*Math.sqrt(d*c)),g=Math.sqrt(d/c),v=g*Math.sqrt(1-m**2),b=l/1e3,y=Math.sin(v*b),_=Math.cos(v*b),x=Math.exp(-m*g*b),w=x*(y*((h+m*g*p)/v)+p*_),S=a-w,C=m*g*w-x*(_*(h+m*g*p)-v*p*y),E=Math.exp(-g*b),k={toValue:a,prevPosition:i,lastTimestamp:n,current:m<1?S:a-E*(p+(h+g*p)*b),velocity:m<1?C:E*(h*(b*g-1)+b*p*g*g)};return tr[f]=k,k}var rr={};function ar(e){let{frame:t,fps:n,config:r={}}=e;const a=[t,n,r.damping,r.mass,r.overshootClamping,r.stiffness].join("-");if(rr[a])return rr[a];let o={lastTimestamp:0,current:0,toValue:1,velocity:0,prevPosition:0};const i=Math.max(0,t),s=i%1;for(let l=0;l<=Math.floor(i);l++){l===Math.floor(i)&&(l+=s);o=nr({animation:o,now:l/n*1e3,config:{...er,...r}})}return rr[a]=o,o}var or=new Map;function ir(e){let{fps:t,config:n={},threshold:r=.005}=e;if("number"!==typeof r)throw new TypeError(`threshold must be a number, got ${r} of type ${typeof r}`);if(0===r)return 1/0;if(1===r)return 0;if(isNaN(r))throw new TypeError("Threshold is NaN");if(!Number.isFinite(r))throw new TypeError("Threshold is not finite");if(r<0)throw new TypeError("Threshold is below 0");const a=[t,n.damping,n.mass,n.overshootClamping,n.stiffness,r].join("-");if(or.has(a))return or.get(a);$(t,"to the measureSpring() function",!1);let o=0,i=0;const s=()=>ar({fps:t,frame:o,config:n});let l=s();const u=()=>Math.abs(l.current-l.toValue);let c=u();for(;c>=r;)o++,l=s(),c=u();i=o;for(let d=0;d<20;d++)o++,l=s(),c=u(),c>=r&&(d=0,i=o+1);return or.set(a,i),i}function sr(e){let{frame:t,fps:n,config:r={},from:a=0,to:o=1,durationInFrames:i,durationRestThreshold:s,delay:l=0,reverse:u=!1}=e;Zn(i),Hn({frame:t,durationInFrames:1/0,allowFloats:!0}),$(n,"to spring()",!1);const c=u||"undefined"!==typeof i,d=c?ir({fps:n,config:r,threshold:s}):void 0,f=c?{get:()=>d}:{get:()=>{throw new Error("did not calculate natural duration, this is an error with Remotion. Please report")}},h=(u?(i??f.get())-t:t)+(u?l:-l),p=void 0===i?h:h/(i/f.get());if(i&&h>i)return o;const m=ar({fps:n,frame:p,config:r}),g=r.overshootClamping?o>=a?Math.min(m.current,o):Math.max(m.current,o):m.current;return 0===a&&1===o?g:_t(g,[0,1],[a,o])}var lr={"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";"},ur={},cr=e=>e.startsWith("/")?cr(e.substring(1)):e,dr=e=>{if(null===e)throw new TypeError("null was passed to staticFile()");if("undefined"===typeof e)throw new TypeError("undefined was passed to staticFile()");if(e.startsWith("http://")||e.startsWith("https://"))throw new TypeError(`staticFile() does not support remote URLs - got "${e}". Instead, pass the URL without wrapping it in staticFile(). See: https://remotion.dev/docs/staticfile-remote-urls`);if(e.startsWith("..")||e.startsWith("./"))throw new TypeError(`staticFile() does not support relative paths - got "${e}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);if(e.startsWith("/Users")||e.startsWith("/home")||e.startsWith("/tmp")||e.startsWith("/etc")||e.startsWith("/opt")||e.startsWith("/var")||e.startsWith("C:")||e.startsWith("D:")||e.startsWith("E:"))throw new TypeError(`staticFile() does not support absolute paths - got "${e}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);if(e.startsWith("public/"))throw new TypeError(`Do not include the public/ prefix when using staticFile() - got "${e}". See: https://remotion.dev/docs/staticfile-relative-paths`);const t=(e=>{for(const t of Object.keys(lr))if(e.includes(t))return{containsHex:!0,hexCode:t};return{containsHex:!1}})(e);var n;t.containsHex&&(n=`WARNING: You seem to pass an already encoded path (path contains ${t.hexCode}). Since Remotion 4.0, the encoding is done by staticFile() itself. You may want to remove a encodeURIComponent() wrapping.`,ur[n]||(console.warn(n),ur[n]=!0));const r=(e=>e.split("/").map((e=>encodeURIComponent(e))).join("/"))(e),a=(e=>{if("undefined"!==typeof window&&window.remotion_staticBase){if(e.startsWith(window.remotion_staticBase))throw new Error(`The value "${e}" is already prefixed with the static base ${window.remotion_staticBase}. You don't need to call staticFile() on it.`);return`${window.remotion_staticBase}/${cr(e)}`}return`/${cr(e)}`})(r);return a.startsWith("/")?a:`/${a}`},fr=e=>{const t={...e,durationInFrames:1,fps:1};return r.createElement(Xt,t)},hr=e=>{let{onError:t,volume:n,playbackRate:o,src:i,muted:s,allowAmplificationDuringRender:l,transparent:u=!1,toneMapped:c=!0,toneFrequency:d,name:f,loopVolumeCurveBehavior:h,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:m,onVideoFrame:g,crossOrigin:b,...y}=e;const _=ae(),w=de(),S=et(h??"repeat"),C=ue(),E=(0,r.useContext)(x),k=Ze(),{registerRenderAsset:P,unregisterRenderAsset:j}=(0,r.useContext)(Pe);if(!i)throw new TypeError("No `src` was passed to <OffthreadVideo>.");const T=(0,r.useMemo)((()=>`offthreadvideo-${Qe(i??"")}-${E?.cumulatedFrom}-${E?.relativeFrom}-${E?.durationInFrames}`),[i,E?.cumulatedFrom,E?.relativeFrom,E?.durationInFrames]);if(!C)throw new Error("No video config found");const M=it({volume:n,frame:S,mediaVolume:1,allowAmplificationDuringRender:l??!1});(0,r.useEffect)((()=>{if(!i)throw new Error("No src passed");if(window.remotion_audioEnabled&&!s&&!(M<=0))return P({type:"video",src:Me(i),id:T,frame:_,volume:M,mediaFrame:w,playbackRate:o??1,allowAmplificationDuringRender:l??!1,toneFrequency:d??null,audioStartFrame:Math.max(0,-(E?.relativeFrom??0))}),()=>j(T)}),[s,i,P,T,j,M,w,_,o,l,d,E?.relativeFrom]);const N=(0,r.useMemo)((()=>xt({frame:w,playbackRate:o||1,startFrom:-k})/C.fps),[w,k,o,C.fps]),D=(0,r.useMemo)((()=>(e=>{let{src:t,transparent:n,currentTime:r,toneMapped:a}=e;return`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(Me(t))}&time=${encodeURIComponent(r)}&transparent=${String(n)}&toneMapped=${String(a)}`})({src:i,currentTime:N,transparent:u,toneMapped:c})),[c,N,i,u]),[O,F]=(0,r.useState)(null);(0,r.useLayoutEffect)((()=>{if(!window.remotion_videoEnabled)return;const e=[];F(null);const n=new AbortController,r=_e(`Fetching ${D} from server`,{retries:p??void 0,timeoutInMilliseconds:m??void 0});return(async()=>{try{const t=await fetch(D,{signal:n.signal,cache:"no-store"});if(200!==t.status){if(500===t.status){const e=await t.json();if(e.error){const t=e.error.replace(/^Error: /,"");throw new Error(t)}}throw new Error(`Server returned status ${t.status} while fetching ${D}`)}const a=await t.blob(),o=URL.createObjectURL(a);e.push((()=>URL.revokeObjectURL(o))),F({src:o,handle:r})}catch(a){if(a.message.includes("aborted"))return void xe(r);if(n.signal.aborted)return void xe(r);a.message.includes("Failed to fetch")&&(a=new Error(`Failed to fetch ${D}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`,{cause:a})),t?t(a):ve(a)}})(),e.push((()=>{n.signal.aborted||n.abort()})),()=>{e.forEach((e=>e()))}}),[D,p,m,t]);const R=(0,r.useCallback)((()=>{t?t?.(new Error("Failed to load image with src "+O)):ve("Failed to load image with src "+O)}),[O,t]),A=(0,r.useMemo)((()=>[vn,y.className].filter(v).join(" ")),[y.className]),I=(0,r.useCallback)((e=>{g&&g(e)}),[g]);return O&&window.remotion_videoEnabled?(xe(O.handle),(0,a.jsx)(hn,{src:O.src,className:A,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:m,onImageFrame:I,...y,onError:R})):null},pr=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)(null),{volume:o,muted:i,playbackRate:s,onlyWarnForMediaSeekingError:l,src:u,onDuration:c,acceptableTimeShift:d,acceptableTimeShiftInSeconds:f,toneFrequency:h,name:p,_remotionInternalNativeLoopPassed:m,_remotionInternalStack:g,style:v,pauseWhenBuffering:b,showInTimeline:y,loopVolumeCurveBehavior:_,onError:w,onAutoPlayError:C,onVideoFrame:E,crossOrigin:k,...P}=e,j=et(_??"repeat"),{fps:T,durationInFrames:M}=ce(),N=(0,r.useContext)(x),{hidden:D}=(0,r.useContext)(S),O=rt(),F=at(),[R]=(0,r.useState)((()=>String(Math.random()))),A=D[R]??!1;if("undefined"!==typeof d)throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");const[I]=Mt(),[L]=Nt();lt({mediaRef:n,volume:o,mediaVolume:I,mediaType:"video",src:u,playbackRate:e.playbackRate??1,displayName:p??null,id:R,stack:g,showInTimeline:y,premountDisplay:null,onAutoPlayError:C??null,isPremounting:Boolean(N?.premounting)}),Pt({volumePropFrame:j,volume:o,mediaVolume:I,mediaRef:n}),Et({mediaRef:n,src:u,mediaType:"video",playbackRate:e.playbackRate??1,onlyWarnForMediaSeekingError:l,acceptableTimeshift:f??Ct,isPremounting:Boolean(N?.premounting),pauseWhenBuffering:b,onAutoPlayError:C??null});const B=N?N.relativeFrom:0,U=N?Math.min(N.durationInFrames,M):M,W=vt({actualSrc:Ve(u),actualFrom:B,duration:U,fps:T});(0,r.useImperativeHandle)(t,(()=>n.current),[]),(0,r.useState)((()=>Le({logLevel:O,message:`Mounting video with source = ${W}`,tag:"video",mountTime:F}))),(0,r.useEffect)((()=>{const{current:e}=n;if(!e)return;const t=()=>{if(e.error){if(console.error("Error occurred in video",e?.error),w){const t=new Error(`Code ${e.error.code}: ${e.error.message}`);return void w(t)}throw new Error(`The browser threw an error while playing the video ${u}: Code ${e.error.code} - ${e?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}if(!w)throw new Error("The browser threw an error while playing the video");{const e=new Error(`The browser threw an error while playing the video ${u}`);w(e)}};return e.addEventListener("error",t,{once:!0}),()=>{e.removeEventListener("error",t)}}),[w,u]);const z=(0,r.useRef)(c);z.current=c,(e=>{let{ref:t,onVideoFrame:n}=e;(0,r.useEffect)((()=>{const{current:e}=t;if(!e)return;if(!n)return;let r=0;const a=()=>{t.current&&(n(t.current),r=t.current.requestVideoFrameCallback(a))};return a(),()=>{e.cancelVideoFrameCallback(r)}}),[n,t])})({ref:n,onVideoFrame:E}),(0,r.useEffect)((()=>{const{current:e}=n;if(!e)return;if(e.duration)return void z.current?.(u,e.duration);const t=()=>{z.current?.(u,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[u]),(0,r.useEffect)((()=>{const{current:e}=n;e&&(ht()?e.preload="metadata":e.preload="auto")}),[]);const $=(0,r.useMemo)((()=>({...v,opacity:A?0:v?.opacity??1})),[A,v]),V=k??(E?"anonymous":void 0);return(0,a.jsx)("video",{ref:n,muted:i||L,playsInline:!0,src:W,loop:m,style:$,disableRemotePlayback:!0,crossOrigin:V,...P})})),mr=e=>{const{startFrom:t,endAt:n,name:o,pauseWhenBuffering:i,stack:s,showInTimeline:l,...u}=e,d=c(),f=(0,r.useCallback)((()=>{}),[]);if("string"!==typeof e.src)throw new TypeError(`The \`<OffthreadVideo>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);if(e.imageFormat)throw new TypeError("The `<OffthreadVideo>` tag does no longer accept `imageFormat`. Use the `transparent` prop if you want to render a transparent video.");if("undefined"!==typeof t||"undefined"!==typeof n){Ke(t,n);const e=t??0,r=n??1/0;return(0,a.jsx)(me,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:r,name:o,children:(0,a.jsx)(mr,{pauseWhenBuffering:i??!1,...u})})}if(He(e,"Video"),d.isRendering)return(0,a.jsx)(hr,{...u});const{transparent:h,toneMapped:p,onAutoPlayError:m,onVideoFrame:g,crossOrigin:v,delayRenderRetries:b,delayRenderTimeoutInMilliseconds:y,..._}=u;return(0,a.jsx)(pr,{_remotionInternalStack:s??null,_remotionInternalNativeLoopPassed:!1,onDuration:f,onlyWarnForMediaSeekingError:!0,pauseWhenBuffering:i??!1,showInTimeline:l??!0,onAutoPlayError:m??void 0,onVideoFrame:g??null,crossOrigin:v,..._})},gr=e=>Math.round(1e5*e)/1e5,vr=e=>{let t,{element:n,desiredTime:r,logLevel:a,mountTime:o}=e;if(kt(n.currentTime,r))return{wait:Promise.resolve(r),cancel:()=>{}};bt({logLevel:a,mediaRef:n,time:r,why:"Seeking during rendering",mountTime:o});let i=null;const s=new Promise((e=>{t=n.requestVideoFrameCallback(((t,n)=>{const r=n.expectedDisplayTime-t;r<=0?e(n.mediaTime):setTimeout((()=>{e(n.mediaTime)}),r+150)}))})),l=new Promise((e=>{const t=()=>{e()};n.addEventListener("seeked",t,{once:!0}),i=()=>{n.removeEventListener("seeked",t)}}));return{wait:Promise.all([s,l]).then((e=>{let[t]=e;return t})),cancel:()=>{i?.(),n.cancelVideoFrameCallback(t)}}},br=(0,r.forwardRef)(((e,t)=>{let{onError:n,volume:o,allowAmplificationDuringRender:i,playbackRate:s,onDuration:l,toneFrequency:u,name:d,acceptableTimeShiftInSeconds:f,delayRenderRetries:h,delayRenderTimeoutInMilliseconds:p,loopVolumeCurveBehavior:m,...g}=e;const v=ae(),b=de(),y=et(m??"repeat"),_=ue(),w=(0,r.useRef)(null),S=(0,r.useContext)(x),C=Ze(),E=c(),k=rt(),P=at(),{registerRenderAsset:j,unregisterRenderAsset:T}=(0,r.useContext)(Pe),M=(0,r.useMemo)((()=>`video-${Qe(g.src??"")}-${S?.cumulatedFrom}-${S?.relativeFrom}-${S?.durationInFrames}`),[g.src,S?.cumulatedFrom,S?.relativeFrom,S?.durationInFrames]);if(!_)throw new Error("No video config found");const N=it({volume:o,frame:y,mediaVolume:1,allowAmplificationDuringRender:i??!1});(0,r.useEffect)((()=>{if(!g.src)throw new Error("No src passed");if(!g.muted&&!(N<=0)&&window.remotion_audioEnabled)return j({type:"video",src:Me(g.src),id:M,frame:v,volume:N,mediaFrame:b,playbackRate:s??1,allowAmplificationDuringRender:i??!1,toneFrequency:u??null,audioStartFrame:Math.max(0,-(S?.relativeFrom??0))}),()=>T(M)}),[g.muted,g.src,j,M,T,N,b,v,s,i,u,S?.relativeFrom]),(0,r.useImperativeHandle)(t,(()=>w.current),[]),(0,r.useEffect)((()=>{if(!window.remotion_videoEnabled)return;const{current:e}=w;if(!e)return;const t=wt({frame:b,playbackRate:s||1,startFrom:-C,fps:_.fps}),r=_e(`Rendering <Video /> with src="${g.src}" at time ${t}`,{retries:h??void 0,timeoutInMilliseconds:p??void 0});if("test"===window.process?.env?.NODE_ENV)return void xe(r);if(kt(e.currentTime,t)){if(e.readyState>=2)return void xe(r);const t=()=>{xe(r)};return e.addEventListener("loadeddata",t,{once:!0}),()=>{e.removeEventListener("loadeddata",t)}}const a=()=>{xe(r)},o=(e=>{let{element:t,desiredTime:n,fps:r,logLevel:a,mountTime:o}=e;const i=1/r/2;let s=()=>{};return Number.isFinite(t.duration)&&t.currentTime>=t.duration&&n>=t.duration?{prom:Promise.resolve(),cancel:()=>{}}:{prom:new Promise(((e,r)=>{const l=vr({element:t,desiredTime:n+i,logLevel:a,mountTime:o});l.wait.then((l=>{if(Math.abs(n-l)<=i)return e();const u=vr({element:t,desiredTime:l+i*(n>l?1:-1),logLevel:a,mountTime:o});s=u.cancel,u.wait.then((l=>{const u=Math.abs(n-l);if(gr(u)<=gr(i))return e();const c=vr({element:t,desiredTime:n+i,logLevel:a,mountTime:o});return s=c.cancel,c.wait.then((()=>{e()})).catch((e=>{r(e)}))})).catch((e=>{r(e)}))})),s=l.cancel})),cancel:()=>{s()}}})({element:e,desiredTime:t,fps:_.fps,logLevel:k,mountTime:P});o.prom.then((()=>{xe(r)})),e.addEventListener("ended",a,{once:!0});const i=()=>{if(e?.error){if(console.error("Error occurred in video",e?.error),n)return;throw new Error(`The browser threw an error while playing the video ${g.src}: Code ${e.error.code} - ${e?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}throw new Error("The browser threw an error")};return e.addEventListener("error",i,{once:!0}),()=>{o.cancel(),e.removeEventListener("ended",a),e.removeEventListener("error",i),xe(r)}}),[y,g.src,s,_.fps,b,C,n,h,p,k,P]);const{src:D}=g;return E.isRendering&&(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;const e=_e("Loading <Video> duration with src="+D,{retries:h??void 0,timeoutInMilliseconds:p??void 0}),{current:t}=w,n=()=>{t?.duration&&l(D,t.duration),xe(e)};return t?.duration?(l(D,t.duration),xe(e)):t?.addEventListener("loadedmetadata",n,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",n),xe(e)}}),[D,l,h,p]),(0,a.jsx)("video",{ref:w,disableRemotePlayback:!0,...g})})),yr=(0,r.forwardRef)(((e,t)=>{const{startFrom:n,endAt:o,name:i,pauseWhenBuffering:s,stack:l,_remotionInternalNativeLoopPassed:u,showInTimeline:d,onAutoPlayError:f,...h}=e,{loop:p,...m}=e,{fps:g}=ce(),v=c(),{durations:b,setDurations:y}=(0,r.useContext)(Ye);if("string"===typeof t)throw new Error("string refs are not supported");if("string"!==typeof e.src)throw new TypeError(`The \`<Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const _=Ve(e.src),x=(0,r.useCallback)(((e,t)=>{y({type:"got-duration",durationInSeconds:t,src:e})}),[y]),w=(0,r.useCallback)((()=>{}),[]),S=b[Me(_)]??b[Me(e.src)];if(p&&void 0!==S){if(!Number.isFinite(S))return(0,a.jsx)(yr,{...m,ref:t,_remotionInternalNativeLoopPassed:!0});const r=S*g;return(0,a.jsx)(Oe,{durationInFrames:Ne({endAt:o,mediaDuration:r,playbackRate:e.playbackRate??1,startFrom:n}),layout:"none",name:i,children:(0,a.jsx)(yr,{...m,ref:t,_remotionInternalNativeLoopPassed:!0})})}if("undefined"!==typeof n||"undefined"!==typeof o){Ke(n,o);const e=n??0,r=o??1/0;return(0,a.jsx)(me,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:r,name:i,children:(0,a.jsx)(yr,{pauseWhenBuffering:s??!1,...h,ref:t})})}return He(e,"Video"),v.isRendering?(0,a.jsx)(br,{onDuration:x,onVideoFrame:w??null,...h,ref:t}):(0,a.jsx)(pr,{onlyWarnForMediaSeekingError:!1,...h,ref:t,onVideoFrame:null,pauseWhenBuffering:s??!1,onDuration:x,_remotionInternalStack:l??null,_remotionInternalNativeLoopPassed:u??!1,showInTimeline:d??!0,onAutoPlayError:f??void 0})}));p(yr),(()=>{if("undefined"===typeof globalThis)return;const e=()=>{globalThis.remotion_imported=b,"undefined"!==typeof window&&(window.remotion_imported=b)},t=globalThis.remotion_imported||"undefined"!==typeof window&&window.remotion_imported;if(t){if(t===b)return;if("string"===typeof t&&t.includes("webcodecs"))return void e();throw new TypeError(`\ud83d\udea8 Multiple versions of Remotion detected: ${[b,"string"===typeof t?t:"an older version"].filter(v).join(" and ")}. This will cause things to break in an unexpected way.\nCheck that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`)}e()})();var _r={Clipper:()=>{throw new Error("<Clipper> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.")},Null:()=>{throw new Error("<Null> has been removed as of Remotion v4.0.228. The native clipping APIs were experimental and subject to removal at any time. We removed them because they were sparingly used and made rendering often slower rather than faster.")},useIsPlayer:g},xr=new Proxy({},{get:(e,t)=>"Bundling"===t||"Rendering"===t||"Log"===t||"Puppeteer"===t||"Output"===t?xr:()=>{console.warn("\u26a0\ufe0f  The CLI configuration has been extracted from Remotion Core."),console.warn("Update the import from the config file:"),console.warn(),console.warn("- Delete:"),console.warn('import {Config} from "remotion";'),console.warn("+ Replace:"),console.warn('import {Config} from "@remotion/cli/config";'),console.warn(),console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration."),process.exit(1)}});p(me)},393:(e,t,n)=>{"use strict";function r(e,t){if(t.length<2)throw new Error(e+" must have at least 2 elements");for(const n of t){if("number"!==typeof n)throw new Error(`${e} must contain only numbers`);if(!Number.isFinite(n))throw new Error(`${e} must contain only finite numbers, but got [${t.join(",")}]`)}}function a(e,t,n,a){if("undefined"===typeof e)throw new Error("input can not be undefined");if("undefined"===typeof t)throw new Error("inputRange can not be undefined");if("undefined"===typeof n)throw new Error("outputRange can not be undefined");if(t.length!==n.length)throw new Error("inputRange ("+t.length+") and outputRange ("+n.length+") must have the same length");r("inputRange",t),r("outputRange",n),function(e){for(let t=1;t<e.length;++t)if(!(e[t]>e[t-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${e.join(",")}]`)}(t);const o=a?.easing??(e=>e);let i="extend";void 0!==a?.extrapolateLeft&&(i=a.extrapolateLeft);let s="extend";if(void 0!==a?.extrapolateRight&&(s=a.extrapolateRight),"number"!==typeof e)throw new TypeError("Cannot interpolate an input which is not a number");const l=function(e,t){let n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,t);return function(e,t,n,r){const{extrapolateLeft:a,extrapolateRight:o,easing:i}=r;let s=e;const[l,u]=t,[c,d]=n;if(s<l){if("identity"===a)return s;if("clamp"===a)s=l;else if("wrap"===a){const e=u-l;s=((s-l)%e+e)%e+l}}if(s>u){if("identity"===o)return s;if("clamp"===o)s=u;else if("wrap"===o){const e=u-l;s=((s-l)%e+e)%e+l}}return c===d?c:(s=(s-l)/(u-l),s=i(s),s=s*(d-c)+c,s)}(e,[t[l],t[l+1]],[n[l],n[l+1]],{easing:o,extrapolateLeft:i,extrapolateRight:s})}function o(e){let t=e+1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}n.r(t),n.d(t,{NoReactInternals:()=>x,interpolate:()=>a,random:()=>i});var i=(e,t)=>{if(void 0!==t)throw new TypeError("random() takes only one argument");if(null===e)return Math.random();if("string"===typeof e)return o(function(e){let t=0,n=0,r=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r}(e));if("number"===typeof e)return o(1e10*e);throw new Error("random() argument must be a number or a string")};"undefined"!==typeof window&&(window.remotion_renderReady=!1),"undefined"!==typeof window&&(window.remotion_delayRenderTimeouts={});var s="remotion-date:",l="remotion-file:",u="[-+]?\\d*\\.?\\d+",c=u+"%";function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function f(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function h(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=f(a,r,e+1/3),i=f(a,r,e),s=f(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*s)<<8}function p(e){const t=Number.parseInt(e,10);return t<0?0:t>255?255:t}function m(e){return(Number.parseFloat(e)%360+360)%360/360}function g(e){const t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function v(e){const t=Number.parseFloat(e);return t<0?0:t>100?1:t/100}var b={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function y(e){const t=function(){const e={rgb:void 0,rgba:void 0,hsl:void 0,hsla:void 0,hex3:void 0,hex4:void 0,hex5:void 0,hex6:void 0,hex8:void 0};return void 0===e.rgb&&(e.rgb=new RegExp("rgb"+d(u,u,u)),e.rgba=new RegExp("rgba"+d(u,u,u,u)),e.hsl=new RegExp("hsl"+d(u,c,c)),e.hsla=new RegExp("hsla"+d(u,c,c,u)),e.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex6=/^#([0-9a-fA-F]{6})$/,e.hex8=/^#([0-9a-fA-F]{8})$/),e}();let n;if(t.hex6&&(n=t.hex6.exec(e)))return Number.parseInt(n[1]+"ff",16)>>>0;if(void 0!==b[e])return b[e];if(t.rgb&&(n=t.rgb.exec(e)))return(p(n[1])<<24|p(n[2])<<16|p(n[3])<<8|255)>>>0;if(t.rgba&&(n=t.rgba.exec(e)))return(p(n[1])<<24|p(n[2])<<16|p(n[3])<<8|g(n[4]))>>>0;if(t.hex3&&(n=t.hex3.exec(e)))return Number.parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0;if(t.hex8&&(n=t.hex8.exec(e)))return Number.parseInt(n[1],16)>>>0;if(t.hex4&&(n=t.hex4.exec(e)))return Number.parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0;if(t.hsl&&(n=t.hsl.exec(e)))return(255|h(m(n[1]),v(n[2]),v(n[3])))>>>0;if(t.hsla&&(n=t.hsla.exec(e)))return(h(m(n[1]),v(n[2]),v(n[3]))|g(n[4]))>>>0;throw new Error(`invalid color string ${e} provided`)}var _=!1;var x={processColor:function(e){const t=y(e);return(t<<24|t>>>8)>>>0},truthy:function(e){return Boolean(e)},validateFps:function(e,t,n){if("number"!==typeof e)throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(n&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")},validateDimension:function(e,t,n){if("number"!==typeof e)throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!==0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)},validateDurationInFrames:function(e,t){const{allowFloats:n,component:r}=t;if("undefined"===typeof e)throw new Error(`The "durationInFrames" prop ${r} is missing.`);if("number"!==typeof e)throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!==0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)},validateDefaultAndInputProps:(e,t,n)=>{if(e){if("object"!==typeof e)throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}},validateFrame:e=>{let{allowFloats:t,durationInFrames:n,frame:r}=e;if("undefined"===typeof r)throw new TypeError('Argument missing for parameter "frame"');if("number"!==typeof r)throw new TypeError(`Argument passed for "frame" is not a number: ${r}`);if(!Number.isFinite(r))throw new RangeError(`Frame ${r} is not finite`);if(r%1!==0&&!t)throw new RangeError(`Argument for frame must be an integer, but got ${r}`);if(r<0&&r<-n)throw new RangeError(`Cannot use frame ${r}: Duration of composition is ${n}, therefore the lowest frame that can be rendered is ${-n}`);if(r>n-1)throw new RangeError(`Cannot use frame ${r}: Duration of composition is ${n}, therefore the highest frame that can be rendered is ${n-1}`)},serializeJSONWithDate:e=>{let{data:t,indent:n,staticBase:r}=e,a=!1,o=!1,i=!1,u=!1;try{return{serializedString:JSON.stringify(t,(function(e,t){const n=this[e];return n instanceof Date?(a=!0,`${s}${n.toISOString()}`):n instanceof Map?(i=!0,t):n instanceof Set?(u=!0,t):"string"===typeof n&&null!==r&&n.startsWith(r)?(o=!0,`${l}${n.replace(r+"/","")}`):t}),n),customDateUsed:a,customFileUsed:o,mapUsed:i,setUsed:u}}catch(c){throw new Error("Could not serialize the passed input props to JSON: "+c.message)}},bundleName:"bundle.js",bundleMapName:"bundle.js.map",deserializeJSONWithCustomFields:e=>JSON.parse(e,((e,t)=>"string"===typeof t&&t.startsWith(s)?new Date(t.replace(s,"")):"string"===typeof t&&t.startsWith(l)?`${window.remotion_staticBase}/${t.replace(l,"")}`:t)),DELAY_RENDER_CALLSTACK_TOKEN:"The delayRender was called:",DELAY_RENDER_RETRY_TOKEN:"- Rendering the frame will be retried.",DELAY_RENDER_ATTEMPT_TOKEN:"Retries left: ",getOffthreadVideoSource:e=>{let{src:t,transparent:n,currentTime:r,toneMapped:a}=e;return`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent((o=t,"undefined"===typeof window?o:new URL(o,window.origin).href))}&time=${encodeURIComponent(r)}&transparent=${String(n)}&toneMapped=${String(a)}`;var o},getExpectedMediaFrameUncorrected:e=>{let{frame:t,playbackRate:n,startFrom:r}=e;return a(t,[-1,r,r+1],[-1,r,r+n])},ENABLE_V5_BREAKING_CHANGES:_,MIN_NODE_VERSION:16,MIN_BUN_VERSION:"1.0.3",colorNames:b,DATE_TOKEN:s,FILE_TOKEN:l}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var a=Object.create(null);__webpack_require__.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,__webpack_require__.d(a,o),a}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(9647)})();
//# sourceMappingURL=main.92311621.js.map